// Class: TDialogPanel
// Size:  0x490
//
// VTable Layout:
// [00] `vector_deleting_destructor'
// [01] setup
// [02] set_rect
// [03] set_rect
// [04] set_color
// [05] set_active
// [06] set_positioning
// [07] set_fixed_position
// [08] set_redraw
// [09] set_overlapped_redraw
// [10] draw_setup
// [11] draw_finish
// [12] draw
// [13] draw_rect
// [14] draw_offset
// [15] draw_rect2
// [16] draw_offset2
// [17] paint
// [18] wnd_proc
// [19] handle_idle
// [20] handle_size
// [21] handle_paint
// [22] handle_key_down
// [23] handle_char
// [24] handle_command
// [25] handle_user_command
// [26] handle_timer_command
// [27] handle_scroll
// [28] handle_mouse_down
// [29] handle_mouse_move
// [30] handle_mouse_up
// [31] handle_mouse_dbl_click
// [32] mouse_move_action
// [33] mouse_left_down_action
// [34] mouse_left_hold_action
// [35] mouse_left_move_action
// [36] mouse_left_up_action
// [37] mouse_left_dbl_click_action
// [38] mouse_right_down_action
// [39] mouse_right_hold_action
// [40] mouse_right_move_action
// [41] mouse_right_up_action
// [42] mouse_right_dbl_click_action
// [43] key_down_action
// [44] char_action
// [45] action
// [46] get_true_render_rect
// [47] is_inside
// [48] set_focus
// [49] set_tab_order
// [50] set_tab_order
// [51] get_help_info
// [52] stop_sound_system
// [53] restart_sound_system
// [54] take_snapshot
// [55] handle_reactivate
// [56] draw_background
// [57] set_ideal_size
// [58] create_button
// [59] create_button
// [60] create_check_box
// [61] create_radio_button
// [62] create_text
// [63] create_text
// [64] create_text
// [65] create_input
// [66] create_edit
// [67] create_drop_down
// [68] create_list
// [69] create_scrollbar
// [70] create_auto_scrollbar
// [71] create_vert_slider
// [72] create_horz_slider
// [73] position_panel
// [74] setup
// [75] setup
// [76] `scalar_deleting_destructor'
// [77] setup
// [78] set_rect
// [79] set_rect
// [80] set_color
// [81] set_active
// [82] set_positioning
// [83] set_fixed_position
// [84] set_redraw
// [85] set_overlapped_redraw
// [86] draw_setup
// [87] draw_finish
// [88] draw
// [89] draw_rect
// [90] draw_offset
// [91] draw_rect2
// [92] draw_offset2
// [93] paint
// [94] wnd_proc
// [95] handle_idle
// [96] handle_size
// [97] handle_paint
// [98] handle_key_down
// [99] handle_char
// [100] handle_command
// [101] handle_user_command
// [102] handle_timer_command
// [103] handle_scroll
// [104] handle_mouse_down
// [105] handle_mouse_move
// [106] handle_mouse_up
// [107] handle_mouse_dbl_click
// [108] mouse_move_action
// [109] mouse_left_down_action
// [110] mouse_left_hold_action
// [111] mouse_left_move_action
// [112] mouse_left_up_action
// [113] mouse_left_dbl_click_action
// [114] mouse_right_down_action
// [115] mouse_right_hold_action
// [116] mouse_right_move_action
// [117] mouse_right_up_action
// [118] mouse_right_dbl_click_action
// [119] key_down_action
// [120] char_action
// [121] action
// [122] get_true_render_rect
// [123] is_inside
// [124] set_focus
// [125] set_tab_order
// [126] set_tab_order
// [127] get_help_info
// [128] stop_sound_system
// [129] restart_sound_system
// [130] take_snapshot
// [131] handle_reactivate
// [132] `vector_deleting_destructor'
// [133] setup
// [134] set_rect
// [135] set_rect
// [136] set_color
// [137] set_active
// [138] set_positioning
// [139] set_fixed_position
// [140] set_redraw
// [141] set_overlapped_redraw
// [142] draw_setup
// [143] draw_finish
// [144] draw
// [145] draw_rect
// [146] draw_offset
// [147] draw_rect2
// [148] draw_offset2
// [149] paint
// [150] wnd_proc
// [151] handle_idle
// [152] handle_size
// [153] handle_paint
// [154] handle_key_down
// [155] handle_char
// [156] handle_command
// [157] handle_user_command
// [158] handle_timer_command
// [159] handle_scroll
// [160] handle_mouse_down
// [161] handle_mouse_move
// [162] handle_mouse_up
// [163] handle_mouse_dbl_click
// [164] mouse_move_action
// [165] mouse_left_down_action
// [166] mouse_left_hold_action
// [167] mouse_left_move_action
// [168] mouse_left_up_action
// [169] mouse_left_dbl_click_action
// [170] mouse_right_down_action
// [171] mouse_right_hold_action
// [172] mouse_right_move_action
// [173] mouse_right_up_action
// [174] mouse_right_dbl_click_action
// [175] key_down_action
// [176] char_action
// [177] action
// [178] get_true_render_rect
// [179] is_inside
// [180] set_focus
// [181] set_tab_order
// [182] set_tab_order
// [183] get_help_info
// [184] stop_sound_system
// [185] restart_sound_system
// [186] take_snapshot
// [187] handle_reactivate
// [188] set_state
// [189] hit_button
// [190] `vector_deleting_destructor'
// [191] setup
// [192] set_rect
// [193] set_rect
// [194] set_color
// [195] set_active
// [196] set_positioning
// [197] set_fixed_position
// [198] set_redraw
// [199] set_overlapped_redraw
// [200] draw_setup
// [201] draw_finish
// [202] draw
// [203] draw_rect
// [204] draw_offset
// [205] draw_rect2
// [206] draw_offset2
// [207] paint
// [208] wnd_proc
// [209] handle_idle
// [210] handle_size
// [211] handle_paint
// [212] handle_key_down
// [213] handle_char
// [214] handle_command
// [215] handle_user_command
// [216] handle_timer_command
// [217] handle_scroll
// [218] handle_mouse_down
// [219] handle_mouse_move
// [220] handle_mouse_up
// [221] handle_mouse_dbl_click
// [222] mouse_move_action
// [223] mouse_left_down_action
// [224] mouse_left_hold_action
// [225] mouse_left_move_action
// [226] mouse_left_up_action
// [227] mouse_left_dbl_click_action
// [228] mouse_right_down_action
// [229] mouse_right_hold_action
// [230] mouse_right_move_action
// [231] mouse_right_up_action
// [232] mouse_right_dbl_click_action
// [233] key_down_action
// [234] char_action
// [235] action
// [236] get_true_render_rect
// [237] is_inside
// [238] set_focus
// [239] set_tab_order
// [240] set_tab_order
// [241] get_help_info
// [242] stop_sound_system
// [243] restart_sound_system
// [244] take_snapshot
// [245] handle_reactivate
// [246] `scalar_deleting_destructor'
// [247] setup
// [248] set_rect
// [249] set_rect
// [250] set_color
// [251] set_active
// [252] set_positioning
// [253] set_fixed_position
// [254] set_redraw
// [255] set_overlapped_redraw
// [256] draw_setup
// [257] draw_finish
// [258] draw
// [259] draw_rect
// [260] draw_offset
// [261] draw_rect2
// [262] draw_offset2
// [263] paint
// [264] wnd_proc
// [265] handle_idle
// [266] handle_size
// [267] handle_paint
// [268] handle_key_down
// [269] handle_char
// [270] handle_command
// [271] handle_user_command
// [272] handle_timer_command
// [273] handle_scroll
// [274] handle_mouse_down
// [275] handle_mouse_move
// [276] handle_mouse_up
// [277] handle_mouse_dbl_click
// [278] mouse_move_action
// [279] mouse_left_down_action
// [280] mouse_left_hold_action
// [281] mouse_left_move_action
// [282] mouse_left_up_action
// [283] mouse_left_dbl_click_action
// [284] mouse_right_down_action
// [285] mouse_right_hold_action
// [286] mouse_right_move_action
// [287] mouse_right_up_action
// [288] mouse_right_dbl_click_action
// [289] key_down_action
// [290] char_action
// [291] action
// [292] get_true_render_rect
// [293] is_inside
// [294] set_focus
// [295] set_tab_order
// [296] set_tab_order
// [297] get_help_info
// [298] stop_sound_system
// [299] restart_sound_system
// [300] take_snapshot
// [301] handle_reactivate
// [302] set_text
// [303] set_text
// [304] set_text
// [305] set_bevel_info
// [306] `vector_deleting_destructor'
// [307] setup
// [308] set_rect
// [309] set_rect
// [310] set_color
// [311] set_active
// [312] set_positioning
// [313] set_fixed_position
// [314] set_redraw
// [315] set_overlapped_redraw
// [316] draw_setup
// [317] draw_finish
// [318] draw
// [319] draw_rect
// [320] draw_offset
// [321] draw_rect2
// [322] draw_offset2
// [323] paint
// [324] wnd_proc
// [325] handle_idle
// [326] handle_size
// [327] handle_paint
// [328] handle_key_down
// [329] handle_char
// [330] handle_command
// [331] handle_user_command
// [332] handle_timer_command
// [333] handle_scroll
// [334] handle_mouse_down
// [335] handle_mouse_move
// [336] handle_mouse_up
// [337] handle_mouse_dbl_click
// [338] mouse_move_action
// [339] mouse_left_down_action
// [340] mouse_left_hold_action
// [341] mouse_left_move_action
// [342] mouse_left_up_action
// [343] mouse_left_dbl_click_action
// [344] mouse_right_down_action
// [345] mouse_right_hold_action
// [346] mouse_right_move_action
// [347] mouse_right_up_action
// [348] mouse_right_dbl_click_action
// [349] key_down_action
// [350] char_action
// [351] action
// [352] get_true_render_rect
// [353] is_inside
// [354] set_focus
// [355] set_tab_order
// [356] set_tab_order
// [357] get_help_info
// [358] stop_sound_system
// [359] restart_sound_system
// [360] take_snapshot
// [361] handle_reactivate
// [362] set_text
// [363] set_text
// [364] set_text
// [365] set_bevel_info
// [366] `scalar_deleting_destructor'
// [367] setup
// [368] set_rect
// [369] set_rect
// [370] set_color
// [371] set_active
// [372] set_positioning
// [373] set_fixed_position
// [374] set_redraw
// [375] set_overlapped_redraw
// [376] draw_setup
// [377] draw_finish
// [378] draw
// [379] draw_rect
// [380] draw_offset
// [381] draw_rect2
// [382] draw_offset2
// [383] paint
// [384] wnd_proc
// [385] handle_idle
// [386] handle_size
// [387] handle_paint
// [388] handle_key_down
// [389] handle_char
// [390] handle_command
// [391] handle_user_command
// [392] handle_timer_command
// [393] handle_scroll
// [394] handle_mouse_down
// [395] handle_mouse_move
// [396] handle_mouse_up
// [397] handle_mouse_dbl_click
// [398] mouse_move_action
// [399] mouse_left_down_action
// [400] mouse_left_hold_action
// [401] mouse_left_move_action
// [402] mouse_left_up_action
// [403] mouse_left_dbl_click_action
// [404] mouse_right_down_action
// [405] mouse_right_hold_action
// [406] mouse_right_move_action
// [407] mouse_right_up_action
// [408] mouse_right_dbl_click_action
// [409] key_down_action
// [410] char_action
// [411] action
// [412] get_true_render_rect
// [413] is_inside
// [414] set_focus
// [415] set_tab_order
// [416] set_tab_order
// [417] get_help_info
// [418] stop_sound_system
// [419] restart_sound_system
// [420] take_snapshot
// [421] handle_reactivate
// [422] set_font
//
// Member Layout:
// [0x478] void * dlg_wnd
// [0x47C] TPanel * save_parent_child
// [0x480] int text_font_id
// [0x484] int input_font_id
// [0x488] int button_font_id
// [0x48C] int button_sound_id
// ----------------------------------------------------------------

// Function: TDialogPanel
// Address: 00473c10
TDialogPanel * __thiscall TDialogPanel::TDialogPanel(TDialogPanel *this,char *param_1)
{
  TEasy_Panel::TEasy_Panel((TEasy_Panel *)this,param_1);
  this->text_font_id = 0xb;
  this->input_font_id = 0xb;
  this->button_font_id = 0xb;
  this->dlg_wnd = (void *)0x0;
  this->save_parent_child = (TPanel *)0x0;
  this->button_sound_id = 0;
  this->_padding_ = (int)&_vftable_;
  return this;
}

// --------------------------------------------------

// Function: `vector_deleting_destructor'
// Address: 00473c60
void * __thiscall TDialogPanel::_vector_deleting_destructor_(TDialogPanel *this,uint param_1)
{
  ~TDialogPanel(this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}

// --------------------------------------------------

// Function: setup
// Address: 00473c80
int __thiscall
TDialogPanel::setup(TDialogPanel *this,TDrawArea *param_1,TPanel *param_2,long param_3,long param_4,
                   char *param_5,long param_6,int param_7)
{
  TPanel *this_00;
  int iVar1;
  int iVar2;
  long lVar3;
  
  if (param_2 == (TPanel *)0x0) {
    iVar1 = param_1->Width;
    iVar2 = param_1->Height;
  }
  else {
    iVar1 = TPanel::width(param_2);
    iVar2 = TPanel::height(param_2);
    TPanel::xPosition(param_2);
    TPanel::yPosition(param_2);
  }
  lVar3 = TEasy_Panel::setup((TEasy_Panel *)this,param_1,param_2,param_5,param_6,0,
                             iVar1 / 2 - param_3 / 2,iVar2 / 2 - param_4 / 2,param_3,param_4,param_7
                            );
  if (lVar3 == 0) {
    this->_padding_ = 1;
    return 0;
  }
  this_00 = (TPanel *)this->_padding_;
  if (this_00 != (TPanel *)0x0) {
    this->save_parent_child = this_00->curr_child;
    TPanel::set_curr_child(this_00,(TPanel *)this);
  }
  TPanel::set_z_order((TPanel *)this,'\x01',0);
  TPanelSystem::setModalPanel(&panel_system,(TPanel *)this);
  return 1;
}

// --------------------------------------------------

// Function: setup
// Address: 00473d60
int __thiscall
TDialogPanel::setup(TDialogPanel *this,TDrawArea *param_1,TPanel *param_2,long param_3,long param_4,
                   uchar param_5,int param_6)
{
  TPanel *this_00;
  int iVar1;
  int iVar2;
  long lVar3;
  undefined3 in_stack_00000015;
  
  if (param_2 == (TPanel *)0x0) {
    iVar1 = param_1->Width;
    iVar2 = param_1->Height;
  }
  else {
    iVar1 = TPanel::width(param_2);
    iVar2 = TPanel::height(param_2);
  }
  lVar3 = TEasy_Panel::setup((TEasy_Panel *)this,param_1,param_2,(char *)0x0,-1,0,
                             iVar1 / 2 - param_3 / 2,iVar2 / 2 - param_4 / 2,param_3,param_4,param_6
                            );
  if (lVar3 == 0) {
    this->_padding_ = 1;
    return 0;
  }
  (**(code **)(this->_padding_ + 0x10))(_param_5);
  TPanel::set_z_order((TPanel *)this,'\x01',0);
  TPanelSystem::setModalPanel(&panel_system,(TPanel *)this);
  this_00 = (TPanel *)this->_padding_;
  if (this_00 != (TPanel *)0x0) {
    this->save_parent_child = this_00->curr_child;
    TPanel::set_curr_child(this_00,(TPanel *)this);
  }
  return 1;
}

// --------------------------------------------------

// Function: ~TDialogPanel
// Address: 00473e40
void __thiscall TDialogPanel::~TDialogPanel(TDialogPanel *this)
{
  int iVar1;
  undefined4 *unaff_FS_OFFSET;
  undefined4 uStack_c;
  code *pcStack_8;
  undefined4 local_4;
  
  pcStack_8 = FUN_0055e3e8;
  uStack_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &uStack_c;
  this->_padding_ = (int)&_vftable_;
  local_4 = 0;
  iVar1 = TPanelSystem::restorePreviousModalPanel(&panel_system);
  if (iVar1 == 0) {
    TPanelSystem::setModalPanel(&panel_system,(TPanel *)0x0);
  }
  if ((int *)this->_padding_ != (int *)0x0) {
    (**(code **)(*(int *)this->_padding_ + 0x20))(2);
    TPanel::set_curr_child((TPanel *)this->_padding_,this->save_parent_child);
  }
  local_4 = 0xffffffff;
  TEasy_Panel::~TEasy_Panel((TEasy_Panel *)this);
  *unaff_FS_OFFSET = uStack_c;
  return;
}

// --------------------------------------------------

// Function: set_focus
// Address: 00473ec0
void __thiscall TDialogPanel::set_focus(TDialogPanel *this,int param_1)
{
  TEasy_Panel::set_focus((TEasy_Panel *)this,param_1);
  return;
}

// --------------------------------------------------

