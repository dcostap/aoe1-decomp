// Class: TribeMenuDialog
// Size:  0x4BC
//
// VTable Layout:
// [00] `scalar_deleting_destructor'
// [01] setup
// [02] set_rect
// [03] set_rect
// [04] set_color
// [05] set_active
// [06] set_positioning
// [07] set_fixed_position
// [08] set_redraw
// [09] set_overlapped_redraw
// [10] draw_setup
// [11] draw_finish
// [12] draw
// [13] draw_rect
// [14] draw_offset
// [15] draw_rect2
// [16] draw_offset2
// [17] paint
// [18] wnd_proc
// [19] handle_idle
// [20] handle_size
// [21] handle_paint
// [22] handle_key_down
// [23] handle_char
// [24] handle_command
// [25] handle_user_command
// [26] handle_timer_command
// [27] handle_scroll
// [28] handle_mouse_down
// [29] handle_mouse_move
// [30] handle_mouse_up
// [31] handle_mouse_dbl_click
// [32] mouse_move_action
// [33] mouse_left_down_action
// [34] mouse_left_hold_action
// [35] mouse_left_move_action
// [36] mouse_left_up_action
// [37] mouse_left_dbl_click_action
// [38] mouse_right_down_action
// [39] mouse_right_hold_action
// [40] mouse_right_move_action
// [41] mouse_right_up_action
// [42] mouse_right_dbl_click_action
// [43] key_down_action
// [44] char_action
// [45] action
// [46] get_true_render_rect
// [47] is_inside
// [48] set_focus
// [49] set_tab_order
// [50] set_tab_order
// [51] get_help_info
// [52] stop_sound_system
// [53] restart_sound_system
// [54] take_snapshot
// [55] handle_reactivate
// [56] draw_background
// [57] set_ideal_size
// [58] create_button
// [59] create_button
// [60] create_check_box
// [61] create_radio_button
// [62] create_text
// [63] create_text
// [64] create_text
// [65] create_input
// [66] create_edit
// [67] create_drop_down
// [68] create_list
// [69] create_scrollbar
// [70] create_auto_scrollbar
// [71] create_vert_slider
// [72] create_horz_slider
// [73] position_panel
// [74] setup
// [75] setup
// [76] `scalar_deleting_destructor'
// [77] setup
// [78] set_rect
// [79] set_rect
// [80] set_color
// [81] set_active
// [82] set_positioning
// [83] set_fixed_position
// [84] set_redraw
// [85] set_overlapped_redraw
// [86] draw_setup
// [87] draw_finish
// [88] draw
// [89] draw_rect
// [90] draw_offset
// [91] draw_rect2
// [92] draw_offset2
// [93] paint
// [94] wnd_proc
// [95] handle_idle
// [96] handle_size
// [97] handle_paint
// [98] handle_key_down
// [99] handle_char
// [100] handle_command
// [101] handle_user_command
// [102] handle_timer_command
// [103] handle_scroll
// [104] handle_mouse_down
// [105] handle_mouse_move
// [106] handle_mouse_up
// [107] handle_mouse_dbl_click
// [108] mouse_move_action
// [109] mouse_left_down_action
// [110] mouse_left_hold_action
// [111] mouse_left_move_action
// [112] mouse_left_up_action
// [113] mouse_left_dbl_click_action
// [114] mouse_right_down_action
// [115] mouse_right_hold_action
// [116] mouse_right_move_action
// [117] mouse_right_up_action
// [118] mouse_right_dbl_click_action
// [119] key_down_action
// [120] char_action
// [121] action
// [122] get_true_render_rect
// [123] is_inside
// [124] set_focus
// [125] set_tab_order
// [126] set_tab_order
// [127] get_help_info
// [128] stop_sound_system
// [129] restart_sound_system
// [130] take_snapshot
// [131] handle_reactivate
// [132] draw_background
// [133] set_ideal_size
// [134] create_button
// [135] create_button
// [136] create_check_box
// [137] create_radio_button
// [138] create_text
// [139] create_text
// [140] create_text
// [141] create_input
// [142] create_edit
// [143] create_drop_down
// [144] create_list
// [145] create_scrollbar
// [146] create_auto_scrollbar
// [147] create_vert_slider
// [148] create_horz_slider
// [149] position_panel
// [150] setup
// [151] setup
// [152] `scalar_deleting_destructor'
// [153] setup
// [154] set_rect
// [155] set_rect
// [156] set_color
// [157] set_active
// [158] set_positioning
// [159] set_fixed_position
// [160] set_redraw
// [161] set_overlapped_redraw
// [162] draw_setup
// [163] draw_finish
// [164] draw
// [165] draw_rect
// [166] draw_offset
// [167] draw_rect2
// [168] draw_offset2
// [169] paint
// [170] wnd_proc
// [171] handle_idle
// [172] handle_size
// [173] handle_paint
// [174] handle_key_down
// [175] handle_char
// [176] handle_command
// [177] handle_user_command
// [178] handle_timer_command
// [179] handle_scroll
// [180] handle_mouse_down
// [181] handle_mouse_move
// [182] handle_mouse_up
// [183] handle_mouse_dbl_click
// [184] mouse_move_action
// [185] mouse_left_down_action
// [186] mouse_left_hold_action
// [187] mouse_left_move_action
// [188] mouse_left_up_action
// [189] mouse_left_dbl_click_action
// [190] mouse_right_down_action
// [191] mouse_right_hold_action
// [192] mouse_right_move_action
// [193] mouse_right_up_action
// [194] mouse_right_dbl_click_action
// [195] key_down_action
// [196] char_action
// [197] action
// [198] get_true_render_rect
// [199] is_inside
// [200] set_focus
// [201] set_tab_order
// [202] set_tab_order
// [203] get_help_info
// [204] stop_sound_system
// [205] restart_sound_system
// [206] take_snapshot
// [207] handle_reactivate
// [208] draw_background
// [209] set_ideal_size
// [210] create_button
// [211] create_button
// [212] create_check_box
// [213] create_radio_button
// [214] create_text
// [215] create_text
// [216] create_text
// [217] create_input
// [218] create_edit
// [219] create_drop_down
// [220] create_list
// [221] create_scrollbar
// [222] create_auto_scrollbar
// [223] create_vert_slider
// [224] create_horz_slider
// [225] position_panel
// [226] setup
// [227] setup
// [228] `scalar_deleting_destructor'
// [229] setup
// [230] set_rect
// [231] set_rect
// [232] set_color
// [233] set_active
// [234] set_positioning
// [235] set_fixed_position
// [236] set_redraw
// [237] set_overlapped_redraw
// [238] draw_setup
// [239] draw_finish
// [240] draw
// [241] draw_rect
// [242] draw_offset
// [243] draw_rect2
// [244] draw_offset2
// [245] paint
// [246] wnd_proc
// [247] handle_idle
// [248] handle_size
// [249] handle_paint
// [250] handle_key_down
// [251] handle_char
// [252] handle_command
// [253] handle_user_command
// [254] handle_timer_command
// [255] handle_scroll
// [256] handle_mouse_down
// [257] handle_mouse_move
// [258] handle_mouse_up
// [259] handle_mouse_dbl_click
// [260] mouse_move_action
// [261] mouse_left_down_action
// [262] mouse_left_hold_action
// [263] mouse_left_move_action
// [264] mouse_left_up_action
// [265] mouse_left_dbl_click_action
// [266] mouse_right_down_action
// [267] mouse_right_hold_action
// [268] mouse_right_move_action
// [269] mouse_right_up_action
// [270] mouse_right_dbl_click_action
// [271] key_down_action
// [272] char_action
// [273] action
// [274] get_true_render_rect
// [275] is_inside
// [276] set_focus
// [277] set_tab_order
// [278] set_tab_order
// [279] get_help_info
// [280] stop_sound_system
// [281] restart_sound_system
// [282] take_snapshot
// [283] handle_reactivate
// [284] draw_background
// [285] set_ideal_size
// [286] create_button
// [287] create_button
// [288] create_check_box
// [289] create_radio_button
// [290] create_text
// [291] create_text
// [292] create_text
// [293] create_input
// [294] create_edit
// [295] create_drop_down
// [296] create_list
// [297] create_scrollbar
// [298] create_auto_scrollbar
// [299] create_vert_slider
// [300] create_horz_slider
// [301] position_panel
// [302] setup
// [303] setup
// [304] `vector_deleting_destructor'
// [305] setup
// [306] set_rect
// [307] set_rect
// [308] set_color
// [309] set_active
// [310] set_positioning
// [311] set_fixed_position
// [312] set_redraw
// [313] set_overlapped_redraw
// [314] draw_setup
// [315] draw_finish
// [316] draw
// [317] draw_rect
// [318] draw_offset
// [319] draw_rect2
// [320] draw_offset2
// [321] paint
// [322] wnd_proc
// [323] handle_idle
// [324] handle_size
// [325] handle_paint
// [326] handle_key_down
// [327] handle_char
// [328] handle_command
// [329] handle_user_command
// [330] handle_timer_command
// [331] handle_scroll
// [332] handle_mouse_down
// [333] handle_mouse_move
// [334] handle_mouse_up
// [335] handle_mouse_dbl_click
// [336] mouse_move_action
// [337] mouse_left_down_action
// [338] mouse_left_hold_action
// [339] mouse_left_move_action
// [340] mouse_left_up_action
// [341] mouse_left_dbl_click_action
// [342] mouse_right_down_action
// [343] mouse_right_hold_action
// [344] mouse_right_move_action
// [345] mouse_right_up_action
// [346] mouse_right_dbl_click_action
// [347] key_down_action
// [348] char_action
// [349] action
// [350] get_true_render_rect
// [351] is_inside
// [352] set_focus
// [353] set_tab_order
// [354] set_tab_order
// [355] get_help_info
// [356] stop_sound_system
// [357] restart_sound_system
// [358] take_snapshot
// [359] handle_reactivate
// [360] draw_background
// [361] set_ideal_size
// [362] create_button
// [363] create_button
// [364] create_check_box
// [365] create_radio_button
// [366] create_text
// [367] create_text
// [368] create_text
// [369] create_input
// [370] create_edit
// [371] create_drop_down
// [372] create_list
// [373] create_scrollbar
// [374] create_auto_scrollbar
// [375] create_vert_slider
// [376] create_horz_slider
// [377] position_panel
// [378] setup
// [379] setup
// [380] `scalar_deleting_destructor'
// [381] recycle_in_to_game
// [382] recycle_out_of_game
// [383] draw
// [384] shadow_draw
// [385] normal_draw
// [386] draw_front_frame
// [387] draw_back_frame
// [388] draw_frame
// [389] update
// [390] check_damage_sprites
// [391] rehook
// [392] save
// [393] teleport
// [394] new_sprite
// [395] add_overlay_sprite
// [396] remove_overlay_sprite
// [397] change_ownership
// [398] modify
// [399] modify_delta
// [400] modify_percent
// [401] transform
// [402] copy_obj
// [403] set_object_state
// [404] remove_visible_resource
// [405] create_doppleganger_when_dying
// [406] destroy_obj
// [407] die_die_die
// [408] damage
// [409] calculateDamage
// [410] rotate
// [411] can_attack
// [412] set_attribute
// [413] set_attribute_amount
// [414] heal
// [415] heal
// [416] canRepair
// [417] notify_of_relation
// [418] do_command
// [419] move_to
// [420] work
// [421] stop
// [422] set_attack
// [423] play_command_sound
// [424] play_move_sound
// [425] new_angle
// [426] spawn_death_obj
// [427] get_command_master
// [428] set_being_worked_on
// [429] release_being_worked_on
// [430] is_moving
// [431] get_target_obj
// [432] enter_obj
// [433] exit_obj
// [434] explore_terrain
// [435] unexplore_terrain
// [436] get_los_table
// [437] inAttackRange
// [438] underAttack
// [439] setUnderAttack
// [440] calc_attack_modifier
// [441] getSpeed
// [442] getAngle
// [443] maximumSpeed
// [444] rateOfFire
// [445] damageCapability
// [446] damageCapability
// [447] weaponRange
// [448] minimumWeaponRange
// [449] passableTile
// [450] facetToNextWaypoint
// [451] currentTargetID
// [452] currentTargetX
// [453] currentTargetY
// [454] currentTargetZ
// [455] setWaitingToMove
// [456] waitingToMove
// [457] actionState
// [458] keepGatheringWhenObjectIsOut
// [459] produceWhenKilledBy
// [460] useSameZoneDropsite
// [461] logDebug
// [462] notify
// [463] attack
// [464] attack
// [465] moveTo
// [466] moveTo
// [467] moveTo
// [468] moveAwayFrom
// [469] hunt
// [470] gather
// [471] convert
// [472] repair
// [473] build
// [474] trade
// [475] explore
// [476] enter
// [477] unload
// [478] transport
// [479] stopAction
// [480] pause
// [481] canPath
// [482] canPath
// [483] canBidirectionPath
// [484] canPathWithObstructions
// [485] canPathWithAdditionalPassability
// [486] findFirstTerrainAlongExceptionPath
// [487] canLinePath
// [488] canLinePath
// [489] firstTileAlongLine
// [490] userDefinedWaypoint
// [491] addUserDefinedWaypoint
// [492] removeAllUserDefinedWaypoints
// [493] removeUserDefinedWaypoint
// [494] numberUserDefinedWaypoints
// [495] findAvoidancePath
// [496] get_action_checksum
// [497] get_waypoint_checksum
// [498] setup
// [499] setup
// [500] create_object_list
// [501] create_sprite_list
// [502] setup
// [503] recycle_in_to_game
// [504] validate
// [505] setup
//
// Member Layout:
// [0x490] TButtonPanel *[11] button (sz: 0x2C)
// ----------------------------------------------------------------

// Function: TribeMenuDialog
// Address: 0043f340
// [HELPER] s_Menu_Dialog: "Menu Dialog"
TribeMenuDialog * __thiscall
TribeMenuDialog::TribeMenuDialog(TribeMenuDialog *this,TScreenPanel *param_1)
{
  TButtonPanel *pTVar1;
  RGE_Player *pRVar2;
  long lVar3;
  char *pcVar4;
  TDrawArea *pTVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  TButtonPanel **ppTVar10;
  int iVar11;
  undefined4 *unaff_FS_OFFSET;
  long lVar12;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055d108;
  local_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &local_c;
  TDialogPanel::TDialogPanel((TDialogPanel *)this,s_Menu_Dialog);
  this->_padding_ = (int)&_vftable_;
  ppTVar10 = this->button;
  for (iVar6 = 0xb; iVar6 != 0; iVar6 = iVar6 + -1) {
    *ppTVar10 = (TButtonPanel *)0x0;
    ppTVar10 = ppTVar10 + 1;
  }
  local_4 = 0;
  iVar7 = 300;
  iVar6 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if (iVar6 != 0) {
    pRVar2 = RGE_Base_Game::get_player(rge_base_game);
    if (pRVar2->game_status == '\0') {
      iVar7 = 0x14f;
    }
  }
  iVar6 = RGE_Base_Game::singlePlayerGame(rge_base_game);
  if (iVar6 != 0) {
    iVar7 = iVar7 + 0x69;
  }
  iVar6 = 1;
  lVar3 = TEasy_Panel::get_popup_info_id((TEasy_Panel *)param_1);
  pcVar4 = TEasy_Panel::get_popup_info_file((TEasy_Panel *)param_1);
  lVar12 = 400;
  pTVar5 = TPanel::renderArea((TPanel *)param_1);
  iVar6 = TDialogPanel::setup((TDialogPanel *)this,pTVar5,(TPanel *)param_1,lVar12,iVar7,pcVar4,
                              lVar3,iVar6);
  if (iVar6 != 0) {
    iVar7 = 1;
    iVar6 = TEasy_Panel::create_button
                      ((TEasy_Panel *)this,(TPanel *)this,this->button,0x2439,0,0x14,0xf,0x168,0x1e,
                       0,0,4);
    if (iVar6 != 0) {
      iVar8 = 0x41;
      iVar6 = RGE_Base_Game::multiplayerGame(rge_base_game);
      if (iVar6 != 0) {
        pRVar2 = RGE_Base_Game::get_player(rge_base_game);
        if (pRVar2->game_status == '\0') {
          iVar7 = 2;
          iVar6 = TEasy_Panel::create_button
                            ((TEasy_Panel *)this,(TPanel *)this,this->button + 1,0x2440,0,0x14,0x41,
                             0x168,0x1e,0,0,0xc);
          if (iVar6 == 0) goto LAB_0043f66f;
          iVar8 = 100;
        }
      }
      iVar6 = TEasy_Panel::create_button
                        ((TEasy_Panel *)this,(TPanel *)this,this->button + iVar7,0x2437,0,0x14,iVar8
                         ,0x168,0x1e,0,0,7);
      if (iVar6 != 0) {
        iVar11 = iVar7 + 2;
        iVar6 = TEasy_Panel::create_button
                          ((TEasy_Panel *)this,(TPanel *)this,this->button + iVar7 + 1,0x243e,0,0x14
                           ,iVar8 + 0x23,0x168,0x1e,0,0,9);
        if (iVar6 != 0) {
          iVar9 = iVar8 + 0x46;
          iVar6 = RGE_Base_Game::singlePlayerGame(rge_base_game);
          if (iVar6 != 0) {
            iVar6 = TEasy_Panel::create_button
                              ((TEasy_Panel *)this,(TPanel *)this,this->button + iVar7 + 2,0x2438,0,
                               0x14,iVar9,0x168,0x1e,0,0,1);
            if (iVar6 == 0) goto LAB_0043f66f;
            iVar6 = TEasy_Panel::create_button
                              ((TEasy_Panel *)this,(TPanel *)this,this->button + iVar7 + 3,0x243c,0,
                               0x14,iVar8 + 0x69,0x168,0x1e,0,0,3);
            if (iVar6 == 0) goto LAB_0043f66f;
            iVar11 = iVar7 + 5;
            iVar6 = TEasy_Panel::create_button
                              ((TEasy_Panel *)this,(TPanel *)this,this->button + iVar7 + 4,0x243f,0,
                               0x14,iVar8 + 0x8c,0x168,0x1e,0,0,0xb);
            if (iVar6 == 0) goto LAB_0043f66f;
            iVar9 = iVar8 + 0xaf;
          }
          iVar6 = TEasy_Panel::create_button
                            ((TEasy_Panel *)this,(TPanel *)this,this->button + iVar11,0x243a,0,0x14,
                             iVar9,0x168,0x1e,0,0,5);
          if (iVar6 != 0) {
            iVar6 = TEasy_Panel::create_button
                              ((TEasy_Panel *)this,(TPanel *)this,this->button + iVar11 + 1,0x23f5,0
                               ,0x14,iVar9 + 0x23,0x168,0x1e,0,0,8);
            if (iVar6 != 0) {
              iVar6 = TEasy_Panel::create_button
                                ((TEasy_Panel *)this,(TPanel *)this,this->button + iVar11 + 2,0x23f9
                                 ,0,0x14,iVar9 + 0x46,0x168,0x1e,0,0,10);
              if (iVar6 != 0) {
                iVar6 = TEasy_Panel::create_button
                                  ((TEasy_Panel *)this,(TPanel *)this,this->button + iVar11 + 3,
                                   0x243b,0,0x14,iVar9 + 0x78,0x168,0x1e,0,0,6);
                if (iVar6 != 0) {
                  pTVar1 = this->button[iVar11 + 3];
                  pTVar1->hotkey_shift = 0;
                  pTVar1->hotkey = 0x1b;
                  TPanel::set_curr_child((TPanel *)this,(TPanel *)this->button[0]);
                  TPanel::set_tab_order((TPanel *)this,(TPanel **)this->button,(short)iVar11 + 4);
                }
              }
            }
          }
        }
      }
    }
  }
LAB_0043f66f:
  *unaff_FS_OFFSET = local_c;
  return this;
}

// --------------------------------------------------

// Function: `scalar_deleting_destructor'
// Address: 0043f690
void * __thiscall TribeMenuDialog::_scalar_deleting_destructor_(TribeMenuDialog *this,uint param_1)
{
  ~TribeMenuDialog(this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}

// --------------------------------------------------

// Function: ~TribeMenuDialog
// Address: 0043f6b0
void __thiscall TribeMenuDialog::~TribeMenuDialog(TribeMenuDialog *this)
{
  int iVar1;
  TButtonPanel **ppTVar2;
  undefined4 *unaff_FS_OFFSET;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  pcStack_8 = FUN_0055d128;
  local_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &local_c;
  this->_padding_ = (int)&_vftable_;
  local_4 = 0;
  ppTVar2 = this->button;
  iVar1 = 0xb;
  do {
    TPanel::delete_panel((TPanel *)this,(TPanel **)ppTVar2);
    ppTVar2 = ppTVar2 + 1;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  local_4 = 0xffffffff;
  TDialogPanel::~TDialogPanel((TDialogPanel *)this);
  *unaff_FS_OFFSET = local_c;
  return;
}

// --------------------------------------------------

// Function: action
// Address: 0043f720
// [HELPER] s_Achievements_Screen: "Achievements Screen"
// [HELPER] s_Game_Screen: "Game Screen"
// [HELPER] s_Menu_Dialog: "Menu Dialog"
// [HELPER] s_Mission_Dialog: "Mission Dialog"
// [HELPER] s_QuitAndLoadDialog: "QuitAndLoadDialog"
// [HELPER] s_QuitGameDialog: "QuitGameDialog"
// [HELPER] s_ResignDialog: "ResignDialog"
// [HELPER] s_RestartDialog: "RestartDialog"
// [HELPER] s_Save_Game_Screen: "Save Game Screen"
// [HELPER] s_empires_hlp: "empires.hlp"
long __thiscall
TribeMenuDialog::action
          (TribeMenuDialog *this,TPanel *param_1,long param_2,ulong param_3,ulong param_4)
{
  TEasy_Panel *pTVar1;
  TScreenPanel *pTVar2;
  TribeSaveGameScreen *pTVar3;
  int iVar4;
  TribeConfigDialog *this_00;
  TribeAchievementsScreen *this_01;
  char *pcVar5;
  TribeAboutDialog *this_02;
  TRIBE_Mission_Screen *this_03;
  long lVar6;
  undefined4 *unaff_FS_OFFSET;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  local_c = *unaff_FS_OFFSET;
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055d182;
  *unaff_FS_OFFSET = &local_c;
  if ((param_1 != (TPanel *)0x0) && (param_2 == 1)) {
    if (param_3 == 1) {
      pTVar3 = (TribeSaveGameScreen *)operator_new(0x6a4);
      local_4 = 0;
      if (pTVar3 != (TribeSaveGameScreen *)0x0) {
        TribeSaveGameScreen::TribeSaveGameScreen(pTVar3,SaveGame,(char *)0x0,0);
      }
      local_4 = 0xffffffff;
      TPanelSystem::setCurrentPanel(&panel_system,s_Save_Game_Screen,0);
      TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
      *unaff_FS_OFFSET = local_c;
      return 1;
    }
    if (param_3 == 2) {
      pTVar3 = (TribeSaveGameScreen *)operator_new(0x6a4);
      local_4 = 1;
      if (pTVar3 != (TribeSaveGameScreen *)0x0) {
        TribeSaveGameScreen::TribeSaveGameScreen(pTVar3,SaveScenario,(char *)0x0,0);
      }
      local_4 = 0xffffffff;
      TPanelSystem::setCurrentPanel(&panel_system,s_Save_Game_Screen,0);
      *unaff_FS_OFFSET = local_c;
      return 1;
    }
    if (param_3 == 3) {
      pTVar1 = (TEasy_Panel *)this->_padding_;
      TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
      TPanelSystem::setCurrentPanel(&panel_system,s_Game_Screen,0);
      TEasy_Panel::popupYesNoDialog(pTVar1,0xc1c,&s_QuitAndLoadDialog,0x1c2,100);
      *unaff_FS_OFFSET = local_c;
      return 1;
    }
    if (param_3 == 8) {
      iVar4 = RGE_Base_Game::singlePlayerGame(rge_base_game);
      if ((iVar4 == 1) && (rge_base_game->save_paused == 0)) {
        RGE_Base_Game::set_paused(rge_base_game,0,0);
      }
      TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
      TPanelSystem::setCurrentPanel(&panel_system,s_Game_Screen,0);
      WinHelpA(rge_base_game->prog_window,s_empires_hlp,3,0);
      *unaff_FS_OFFSET = local_c;
      return 1;
    }
    if (param_3 == 4) {
      confirmed_close = 1;
      pTVar1 = (TEasy_Panel *)this->_padding_;
      TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
      TPanelSystem::setCurrentPanel(&panel_system,s_Game_Screen,0);
      TEasy_Panel::popupYesNoDialog(pTVar1,0xc1d,&s_QuitGameDialog,0x1c2,100);
      *unaff_FS_OFFSET = local_c;
      return 1;
    }
    if (param_3 == 5) {
      pTVar2 = (TScreenPanel *)this->_padding_;
      TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
      TPanelSystem::setCurrentPanel(&panel_system,s_Game_Screen,0);
      this_00 = (TribeConfigDialog *)operator_new(0x564);
      local_4 = 2;
      if (this_00 != (TribeConfigDialog *)0x0) {
        TribeConfigDialog::TribeConfigDialog(this_00,InGame,pTVar2);
        *unaff_FS_OFFSET = local_c;
        return 1;
      }
    }
    else {
      if (param_3 == 7) {
        this_01 = (TribeAchievementsScreen *)operator_new(0x5f8);
        local_4 = 3;
        if (this_01 != (TribeAchievementsScreen *)0x0) {
          iVar4 = 0;
          pcVar5 = TPanel::get_string((TPanel *)this,0x269e);
          TribeAchievementsScreen::TribeAchievementsScreen(this_01,pcVar5,iVar4);
        }
        local_4 = 0xffffffff;
        TPanelSystem::setCurrentPanel(&panel_system,s_Achievements_Screen,0);
        TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
        *unaff_FS_OFFSET = local_c;
        return 1;
      }
      if (param_3 == 10) {
        pTVar2 = (TScreenPanel *)this->_padding_;
        TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
        TPanelSystem::setCurrentPanel(&panel_system,s_Game_Screen,0);
        this_02 = (TribeAboutDialog *)operator_new(0x4c4);
        local_4 = 4;
        if (this_02 != (TribeAboutDialog *)0x0) {
          TribeAboutDialog::TribeAboutDialog(this_02,pTVar2);
          *unaff_FS_OFFSET = local_c;
          return 1;
        }
      }
      else {
        if (param_3 == 0xb) {
          pTVar1 = (TEasy_Panel *)this->_padding_;
          TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
          TPanelSystem::setCurrentPanel(&panel_system,s_Game_Screen,0);
          TEasy_Panel::popupYesNoDialog(pTVar1,0xc1e,&s_RestartDialog,0x1c2,100);
          *unaff_FS_OFFSET = local_c;
          return 1;
        }
        if (param_3 == 9) {
          this_03 = (TRIBE_Mission_Screen *)operator_new(0x49c);
          local_4 = 5;
          if (this_03 != (TRIBE_Mission_Screen *)0x0) {
            TRIBE_Mission_Screen::TRIBE_Mission_Screen
                      (this_03,(char *)0x0,'\x01',rge_base_game->world->scenario->mission_picture);
          }
          local_4 = 0xffffffff;
          TPanelSystem::setCurrentPanel(&panel_system,s_Mission_Dialog,0);
          TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
          *unaff_FS_OFFSET = local_c;
          return 1;
        }
        if (param_3 == 6) {
          iVar4 = RGE_Base_Game::singlePlayerGame(rge_base_game);
          if ((iVar4 == 1) && (rge_base_game->save_paused == 0)) {
            RGE_Base_Game::set_paused(rge_base_game,0,0);
          }
          TPanelSystem::setCurrentPanel(&panel_system,s_Game_Screen,0);
          TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
          *unaff_FS_OFFSET = local_c;
          return 1;
        }
        if (param_3 != 0xc) goto LAB_0043fc43;
        pTVar1 = (TEasy_Panel *)this->_padding_;
        TPanelSystem::destroyPanel(&panel_system,s_Menu_Dialog);
        TPanelSystem::setCurrentPanel(&panel_system,s_Game_Screen,0);
        TEasy_Panel::popupYesNoDialog(pTVar1,0xc1f,&s_ResignDialog,0x1c2,100);
      }
    }
    *unaff_FS_OFFSET = local_c;
    return 1;
  }
LAB_0043fc43:
  lVar6 = TEasy_Panel::action((TEasy_Panel *)this,param_1,param_2,param_3,param_4);
  *unaff_FS_OFFSET = local_c;
  return lVar6;
}

// --------------------------------------------------

