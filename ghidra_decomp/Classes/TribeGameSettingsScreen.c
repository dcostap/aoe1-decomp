// Class: TribeGameSettingsScreen
// Size:  0x560
//
// VTable Layout:
// [00] `vector_deleting_destructor'
// [01] setup
// [02] set_rect
// [03] set_rect
// [04] set_color
// [05] set_active
// [06] set_positioning
// [07] set_fixed_position
// [08] set_redraw
// [09] set_overlapped_redraw
// [10] draw_setup
// [11] draw_finish
// [12] draw
// [13] draw_rect
// [14] draw_offset
// [15] draw_rect2
// [16] draw_offset2
// [17] paint
// [18] wnd_proc
// [19] handle_idle
// [20] handle_size
// [21] handle_paint
// [22] handle_key_down
// [23] handle_char
// [24] handle_command
// [25] handle_user_command
// [26] handle_timer_command
// [27] handle_scroll
// [28] handle_mouse_down
// [29] handle_mouse_move
// [30] handle_mouse_up
// [31] handle_mouse_dbl_click
// [32] mouse_move_action
// [33] mouse_left_down_action
// [34] mouse_left_hold_action
// [35] mouse_left_move_action
// [36] mouse_left_up_action
// [37] mouse_left_dbl_click_action
// [38] mouse_right_down_action
// [39] mouse_right_hold_action
// [40] mouse_right_move_action
// [41] mouse_right_up_action
// [42] mouse_right_dbl_click_action
// [43] key_down_action
// [44] char_action
// [45] action
// [46] get_true_render_rect
// [47] is_inside
// [48] set_focus
// [49] set_tab_order
// [50] set_tab_order
// [51] get_help_info
// [52] stop_sound_system
// [53] restart_sound_system
// [54] take_snapshot
// [55] handle_reactivate
// [56] draw_background
// [57] set_ideal_size
// [58] create_button
// [59] create_button
// [60] create_check_box
// [61] create_radio_button
// [62] create_text
// [63] create_text
// [64] create_text
// [65] create_input
// [66] create_edit
// [67] create_drop_down
// [68] create_list
// [69] create_scrollbar
// [70] create_auto_scrollbar
// [71] create_vert_slider
// [72] create_horz_slider
// [73] position_panel
// [74] `vector_deleting_destructor'
// [75] setup
// [76] set_rect
// [77] set_rect
// [78] set_color
// [79] set_active
// [80] set_positioning
// [81] set_fixed_position
// [82] set_redraw
// [83] set_overlapped_redraw
// [84] draw_setup
// [85] draw_finish
// [86] draw
// [87] draw_rect
// [88] draw_offset
// [89] draw_rect2
// [90] draw_offset2
// [91] paint
// [92] wnd_proc
// [93] handle_idle
// [94] handle_size
// [95] handle_paint
// [96] handle_key_down
// [97] handle_char
// [98] handle_command
// [99] handle_user_command
// [100] handle_timer_command
// [101] handle_scroll
// [102] handle_mouse_down
// [103] handle_mouse_move
// [104] handle_mouse_up
// [105] handle_mouse_dbl_click
// [106] mouse_move_action
// [107] mouse_left_down_action
// [108] mouse_left_hold_action
// [109] mouse_left_move_action
// [110] mouse_left_up_action
// [111] mouse_left_dbl_click_action
// [112] mouse_right_down_action
// [113] mouse_right_hold_action
// [114] mouse_right_move_action
// [115] mouse_right_up_action
// [116] mouse_right_dbl_click_action
// [117] key_down_action
// [118] char_action
// [119] action
// [120] get_true_render_rect
// [121] is_inside
// [122] set_focus
// [123] set_tab_order
// [124] set_tab_order
// [125] get_help_info
// [126] stop_sound_system
// [127] restart_sound_system
// [128] take_snapshot
// [129] handle_reactivate
// [130] draw_background
// [131] set_ideal_size
// [132] create_button
// [133] create_button
// [134] create_check_box
// [135] create_radio_button
// [136] create_text
// [137] create_text
// [138] create_text
// [139] create_input
// [140] create_edit
// [141] create_drop_down
// [142] create_list
// [143] create_scrollbar
// [144] create_auto_scrollbar
// [145] create_vert_slider
// [146] create_horz_slider
// [147] position_panel
// [148] `vector_deleting_destructor'
// [149] setup
// [150] set_rect
// [151] set_rect
// [152] set_color
// [153] set_active
// [154] set_positioning
// [155] set_fixed_position
// [156] set_redraw
// [157] set_overlapped_redraw
// [158] draw_setup
// [159] draw_finish
// [160] draw
// [161] draw_rect
// [162] draw_offset
// [163] draw_rect2
// [164] draw_offset2
// [165] paint
// [166] wnd_proc
// [167] handle_idle
// [168] handle_size
// [169] handle_paint
// [170] handle_key_down
// [171] handle_char
// [172] handle_command
// [173] handle_user_command
// [174] handle_timer_command
// [175] handle_scroll
// [176] handle_mouse_down
// [177] handle_mouse_move
// [178] handle_mouse_up
// [179] handle_mouse_dbl_click
// [180] mouse_move_action
// [181] mouse_left_down_action
// [182] mouse_left_hold_action
// [183] mouse_left_move_action
// [184] mouse_left_up_action
// [185] mouse_left_dbl_click_action
// [186] mouse_right_down_action
// [187] mouse_right_hold_action
// [188] mouse_right_move_action
// [189] mouse_right_up_action
// [190] mouse_right_dbl_click_action
// [191] key_down_action
// [192] char_action
// [193] action
// [194] get_true_render_rect
// [195] is_inside
// [196] set_focus
// [197] set_tab_order
// [198] set_tab_order
// [199] get_help_info
// [200] stop_sound_system
// [201] restart_sound_system
// [202] take_snapshot
// [203] handle_reactivate
// [204] draw_background
// [205] set_ideal_size
// [206] create_button
// [207] create_button
// [208] create_check_box
// [209] create_radio_button
// [210] create_text
// [211] create_text
// [212] create_text
// [213] create_input
// [214] create_edit
// [215] create_drop_down
// [216] create_list
// [217] create_scrollbar
// [218] create_auto_scrollbar
// [219] create_vert_slider
// [220] create_horz_slider
// [221] position_panel
// [222] `scalar_deleting_destructor'
// [223] setup
// [224] set_rect
// [225] set_rect
// [226] set_color
// [227] set_active
// [228] set_positioning
// [229] set_fixed_position
// [230] set_redraw
// [231] set_overlapped_redraw
// [232] draw_setup
// [233] draw_finish
// [234] draw
// [235] draw_rect
// [236] draw_offset
// [237] draw_rect2
// [238] draw_offset2
// [239] paint
// [240] wnd_proc
// [241] handle_idle
// [242] handle_size
// [243] handle_paint
// [244] handle_key_down
// [245] handle_char
// [246] handle_command
// [247] handle_user_command
// [248] handle_timer_command
// [249] handle_scroll
// [250] handle_mouse_down
// [251] handle_mouse_move
// [252] handle_mouse_up
// [253] handle_mouse_dbl_click
// [254] mouse_move_action
// [255] mouse_left_down_action
// [256] mouse_left_hold_action
// [257] mouse_left_move_action
// [258] mouse_left_up_action
// [259] mouse_left_dbl_click_action
// [260] mouse_right_down_action
// [261] mouse_right_hold_action
// [262] mouse_right_move_action
// [263] mouse_right_up_action
// [264] mouse_right_dbl_click_action
// [265] key_down_action
// [266] char_action
// [267] action
// [268] get_true_render_rect
// [269] is_inside
// [270] set_focus
// [271] set_tab_order
// [272] set_tab_order
// [273] get_help_info
// [274] stop_sound_system
// [275] restart_sound_system
// [276] take_snapshot
// [277] handle_reactivate
// [278] draw_background
// [279] set_ideal_size
// [280] create_button
// [281] create_button
// [282] create_check_box
// [283] create_radio_button
// [284] create_text
// [285] create_text
// [286] create_text
// [287] create_input
// [288] create_edit
// [289] create_drop_down
// [290] create_list
// [291] create_scrollbar
// [292] create_auto_scrollbar
// [293] create_vert_slider
// [294] create_horz_slider
// [295] position_panel
// [296] `vector_deleting_destructor'
// [297] setup
// [298] set_rect
// [299] set_rect
// [300] set_color
// [301] set_active
// [302] set_positioning
// [303] set_fixed_position
// [304] set_redraw
// [305] set_overlapped_redraw
// [306] draw_setup
// [307] draw_finish
// [308] draw
// [309] draw_rect
// [310] draw_offset
// [311] draw_rect2
// [312] draw_offset2
// [313] paint
// [314] wnd_proc
// [315] handle_idle
// [316] handle_size
// [317] handle_paint
// [318] handle_key_down
// [319] handle_char
// [320] handle_command
// [321] handle_user_command
// [322] handle_timer_command
// [323] handle_scroll
// [324] handle_mouse_down
// [325] handle_mouse_move
// [326] handle_mouse_up
// [327] handle_mouse_dbl_click
// [328] mouse_move_action
// [329] mouse_left_down_action
// [330] mouse_left_hold_action
// [331] mouse_left_move_action
// [332] mouse_left_up_action
// [333] mouse_left_dbl_click_action
// [334] mouse_right_down_action
// [335] mouse_right_hold_action
// [336] mouse_right_move_action
// [337] mouse_right_up_action
// [338] mouse_right_dbl_click_action
// [339] key_down_action
// [340] char_action
// [341] action
// [342] get_true_render_rect
// [343] is_inside
// [344] set_focus
// [345] set_tab_order
// [346] set_tab_order
// [347] get_help_info
// [348] stop_sound_system
// [349] restart_sound_system
// [350] take_snapshot
// [351] handle_reactivate
// [352] draw_background
// [353] set_ideal_size
// [354] create_button
// [355] create_button
// [356] create_check_box
// [357] create_radio_button
// [358] create_text
// [359] create_text
// [360] create_text
// [361] create_input
// [362] create_edit
// [363] create_drop_down
// [364] create_list
// [365] create_scrollbar
// [366] create_auto_scrollbar
// [367] create_vert_slider
// [368] create_horz_slider
// [369] position_panel
// [370] `scalar_deleting_destructor'
// [371] setup
// [372] set_rect
// [373] set_rect
// [374] set_color
// [375] set_active
// [376] set_positioning
// [377] set_fixed_position
// [378] set_redraw
// [379] set_overlapped_redraw
// [380] draw_setup
// [381] draw_finish
// [382] draw
// [383] draw_rect
// [384] draw_offset
// [385] draw_rect2
// [386] draw_offset2
// [387] paint
// [388] wnd_proc
// [389] handle_idle
// [390] handle_size
// [391] handle_paint
// [392] handle_key_down
// [393] handle_char
// [394] handle_command
// [395] handle_user_command
// [396] handle_timer_command
// [397] handle_scroll
// [398] handle_mouse_down
// [399] handle_mouse_move
// [400] handle_mouse_up
// [401] handle_mouse_dbl_click
// [402] mouse_move_action
// [403] mouse_left_down_action
// [404] mouse_left_hold_action
// [405] mouse_left_move_action
// [406] mouse_left_up_action
// [407] mouse_left_dbl_click_action
// [408] mouse_right_down_action
// [409] mouse_right_hold_action
// [410] mouse_right_move_action
// [411] mouse_right_up_action
// [412] mouse_right_dbl_click_action
// [413] key_down_action
// [414] char_action
// [415] action
// [416] get_true_render_rect
// [417] is_inside
// [418] set_focus
// [419] set_tab_order
// [420] set_tab_order
// [421] get_help_info
// [422] stop_sound_system
// [423] restart_sound_system
// [424] take_snapshot
// [425] handle_reactivate
// [426] draw_item
//
// Member Layout:
// [0x478] TTextPanel * title
// [0x47C] State state
// [0x480] TTextPanel * mapSizeLabel
// [0x484] TDropDownPanel * mapSizeDrop
// [0x488] TTextPanel * mapTypeLabel
// [0x48C] TDropDownPanel * mapTypeDrop
// [0x490] TTextPanel * victoryTypeLabel
// [0x494] TDropDownPanel * victoryTypeDrop
// [0x498] TTextPanel * victoryFixedText
// [0x49C] TTextPanel * percentLabel
// [0x4A0] TTextPanel * scoreLabel
// [0x4A4] TDropDownPanel * scoreDrop
// [0x4A8] TTextPanel * timeLabel
// [0x4AC] TDropDownPanel * timeDrop
// [0x4B0] TTextPanel * difficultyLabel
// [0x4B4] TDropDownPanel * difficultyDrop
// [0x4B8] TTextPanel * ageLabel
// [0x4BC] TDropDownPanel * ageDrop
// [0x4C0] TTextPanel * resourcesLabel
// [0x4C4] TDropDownPanel * resourcesDrop
// [0x4C8] TTextPanel * pathingLabel
// [0x4CC] TDropDownPanel * pathingDrop
// [0x4D0] TTextPanel * limitLabel
// [0x4D4] TDropDownPanel * limitDrop
// [0x4D8] TTextPanel * scenarioTitle
// [0x4DC] TTextPanel * scenarioPlayersTitle
// [0x4E0] long scenarioListX
// [0x4E4] long scenarioListY
// [0x4E8] long scenarioListWidth
// [0x4EC] long scenarioListHeight
// [0x4F0] TListPanel * scenarioList
// [0x4F4] TScrollBarPanel * scenarioScrollbar
// [0x4F8] int scenarioCount
// [0x4FC] char * * scenarioMission
// [0x500] int * scenarioFixed
// [0x504] int scenariosLoaded
// [0x508] TTextPanel * missionTitle
// [0x50C] long missionTextX
// [0x510] long missionTextY
// [0x514] long missionTextWidth
// [0x518] long missionTextHeight
// [0x51C] TTextPanel * missionText
// [0x520] TScrollBarPanel * missionScrollbar
// [0x524] TButtonPanel *[4] optionButton (sz: 0x10)
// [0x534] TTextPanel *[4] optionText (sz: 0x10)
// [0x544] TButtonPanel * okButton
// [0x548] TButtonPanel * cancelButton
// [0x54C] TButtonPanel * help_button
// [0x550] TribeMPSetupScreen * chat_scr
// [0x554] int last_scenario_line
// [0x558] int scenario_line_offset
// [0x55C] ulong last_send_shared
// ----------------------------------------------------------------

// Function: TribeGameSettingsScreen
// Address: 004b4880
// [HELPER] s_1200: "1200"
// [HELPER] s_1500: "1500"
// [HELPER] s_1800: "1800"
// [HELPER] s_2100: "2100"
// [HELPER] s_2400: "2400"
// [HELPER] s_2700: "2700"
// [HELPER] s_3000: "3000"
// [HELPER] s_300: "300"
// [HELPER] s_400: "400"
// [HELPER] s_500: "500"
// [HELPER] s_600: "600"
// [HELPER] s_700: "700"
// [HELPER] s_800: "800"
// [HELPER] s_900: "900"
// [HELPER] s_: ""
// [HELPER] s_Game_Settings_Screen: "Game Settings Screen"
// [HELPER] s_MP_Setup_Screen: "MP Setup Screen"
// [HELPER] s__d: "%d"
// [HELPER] s_scr2: "scr2"
// [HELPER] s_scr3: "scr3"
/* public: __thiscall TribeGameSettingsScreen::TribeGameSettingsScreen(void) */

TribeGameSettingsScreen * __thiscall
TribeGameSettingsScreen::TribeGameSettingsScreen(TribeGameSettingsScreen *this)
{
  TDropDownPanel **ppTVar1;
  TListPanel **ppTVar2;
  TTextPanel **ppTVar3;
  TButtonPanel **ppTVar4;
  TButtonPanel **ppTVar5;
  TDrawArea *pTVar6;
  TButtonPanel *pTVar7;
  TribeMPSetupScreen *pTVar8;
  int iVar9;
  char *pcVar10;
  undefined4 *unaff_FS_OFFSET;
  int iVar11;
  long lVar12;
  long lVar13;
  long lVar14;
  long lVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  char num_str [5];
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055f698;
  local_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &local_c;
  num_str._0_4_ = this;
  TScreenPanel::TScreenPanel((TScreenPanel *)this,&s_Game_Settings_Screen);
  local_4 = 0;
  this->_padding_ = (int)&_vftable_;
  init_vars(this);
  pTVar8 = (TribeMPSetupScreen *)TPanelSystem::panel(&panel_system,s_MP_Setup_Screen);
  this->chat_scr = pTVar8;
  iVar9 = RGE_Base_Game::multiplayerGame(rge_base_game);
  pcVar10 = &s_scr3;
  if (iVar9 == 0) {
    pcVar10 = &s_scr2;
  }
  iVar17 = 1;
  lVar15 = 0;
  lVar14 = 0;
  pTVar6 = rge_base_game->draw_area;
  lVar13 = 0;
  lVar12 = 0;
  iVar11 = 1;
  iVar9 = RGE_Base_Game::multiplayerGame(rge_base_game);
  lVar12 = TEasy_Panel::setup((TEasy_Panel *)this,pTVar6,(TPanel *)0x0,pcVar10,(iVar9 != 0) + 0xc384
                              ,iVar11,lVar12,lVar13,lVar14,lVar15,iVar17);
  if (lVar12 == 0) {
    this->_padding_ = 1;
    *unaff_FS_OFFSET = local_c;
    return this;
  }
  TEasy_Panel::setup_shadow_area((TEasy_Panel *)this,0);
  TEasy_Panel::set_ideal_size((TEasy_Panel *)this,0x280,0x1e0);
                    /* language.dll match for 0x2616: "Scenario Settings" */
  iVar9 = TEasy_Panel::create_text
                    ((TEasy_Panel *)this,(TPanel *)this,&this->title,0x2616,0x14,10,600,0x1e,1,1,0,1
                    );
                    /* language.dll match for 0x29a0: "Map Size" */
  if ((iVar9 != 0) &&
     (iVar9 = TEasy_Panel::create_text
                        ((TEasy_Panel *)this,(TPanel *)this,&this->mapSizeLabel,0x29a0,0x14,0xd8,
                         0xb4,0x14,0xb,0,0,0), iVar9 != 0)) {
    ppTVar1 = &this->mapSizeDrop;
    iVar9 = TEasy_Panel::create_drop_down
                      ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,0xb4,100,0x14,0xec,0xb4,0x18,0xb);
    if (iVar9 != 0) {
      TDropDownPanel::empty_list(*ppTVar1);
                    /* language.dll match for 0x2973: "Tiny" */
      TDropDownPanel::append_line(*ppTVar1,0x2973,0);
                    /* language.dll match for 0x2974: "Small" */
      TDropDownPanel::append_line(*ppTVar1,0x2974,1);
                    /* language.dll match for 0x2975: "Medium" */
      TDropDownPanel::append_line(*ppTVar1,0x2975,2);
                    /* language.dll match for 0x2976: "Large" */
      TDropDownPanel::append_line(*ppTVar1,0x2976,3);
                    /* language.dll match for 0x2977: "Huge" */
      TDropDownPanel::append_line(*ppTVar1,0x2977,4);
                    /* language.dll match for 0x2978: "Gigantic" */
      TDropDownPanel::append_line(*ppTVar1,0x2978,5);
                    /* language.dll match for 0x762a: "Select the map size. The larger the map, the
                       longer the game." */
      TPanel::set_help_info((TPanel *)*ppTVar1,0x762a,-1);
                    /* language.dll match for 0x25db: "Map Type" */
      iVar9 = TEasy_Panel::create_text
                        ((TEasy_Panel *)this,(TPanel *)this,&this->mapTypeLabel,0x25db,0xdc,0xd8,
                         0xb4,0x14,0xb,0,0,0);
      if (iVar9 != 0) {
        ppTVar1 = &this->mapTypeDrop;
        iVar9 = TEasy_Panel::create_drop_down
                          ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,0xb4,100,0xdc,0xec,0xb4,0x18,
                           0xb);
        if (iVar9 != 0) {
          TDropDownPanel::empty_list(*ppTVar1);
                    /* language.dll match for 0x296a: "Small Islands" */
          TDropDownPanel::append_line(*ppTVar1,0x296a,0);
                    /* language.dll match for 0x296b: "Large Islands" */
          TDropDownPanel::append_line(*ppTVar1,0x296b,1);
                    /* language.dll match for 0x296c: "Coastal" */
          TDropDownPanel::append_line(*ppTVar1,0x296c,2);
                    /* language.dll match for 0x296d: "Inland" */
          TDropDownPanel::append_line(*ppTVar1,0x296d,3);
                    /* language.dll match for 0x296e: "Highland" */
          TDropDownPanel::append_line(*ppTVar1,0x296e,4);
                    /* language.dll match for 0x296f: "Continental" */
          TDropDownPanel::append_line(*ppTVar1,0x296f,5);
                    /* language.dll match for 0x2970: "Mediterranean" */
          TDropDownPanel::append_line(*ppTVar1,0x2970,6);
                    /* language.dll match for 0x2971: "Hill Country" */
          TDropDownPanel::append_line(*ppTVar1,0x2971,7);
                    /* language.dll match for 0x2972: "Narrows"
                       language.dll match for 0x2972: "******* SIZE *******" */
          TDropDownPanel::append_line(*ppTVar1,0x2972,8);
                    /* language.dll match for 0x762b: "Select the distribution of land and water on
                       the map." */
          TPanel::set_help_info((TPanel *)*ppTVar1,0x762b,-1);
                    /* language.dll match for 0x2a34: "Victory Condition" */
          iVar9 = TEasy_Panel::create_text
                            ((TEasy_Panel *)this,(TPanel *)this,&this->victoryTypeLabel,0x2a34,0x14,
                             0x108,0xb4,0x14,0xb,0,0,0);
          if (iVar9 != 0) {
            ppTVar1 = &this->victoryTypeDrop;
            iVar9 = TEasy_Panel::create_drop_down
                              ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,0xb4,100,0x14,0x11c,0xb4,
                               0x18,0xb);
            if (iVar9 != 0) {
              TDropDownPanel::empty_list(*ppTVar1);
              iVar9 = RGE_Base_Game::scenarioGame(rge_base_game);
              lVar12 = 0;
              if (iVar9 != 0) {
                    /* language.dll match for 0x10e7: "Default" */
                TDropDownPanel::append_line(*ppTVar1,0x10e7,0);
                lVar12 = 9;
              }
                    /* language.dll match for 0x10ec: "Standard" */
              TDropDownPanel::append_line(*ppTVar1,0x10ec,lVar12);
                    /* language.dll match for 0x10e1: "Conquest" */
              TDropDownPanel::append_line(*ppTVar1,0x10e1,1);
                    /* language.dll match for 0x10e9: "Time Limit" */
              TDropDownPanel::append_line(*ppTVar1,0x10e9,7);
                    /* language.dll match for 0x10ea: "Score" */
              TDropDownPanel::append_line(*ppTVar1,0x10ea,8);
                    /* language.dll match for 0x762c: "Select the victory condition. The first
                       civilization (or team) to achieve the victory condition wins the game. For
                       more information about the victory conditions, click More Help." */
              TPanel::set_help_info((TPanel *)*ppTVar1,0x762c,0x25f0a);
                    /* language.dll match for 0x10e9: "Time Limit" */
              iVar9 = TEasy_Panel::create_text
                                ((TEasy_Panel *)this,(TPanel *)this,&this->timeLabel,0x10e9,0x14,
                                 0x138,0xb4,0x14,0xb,0,0,0);
              if (iVar9 != 0) {
                ppTVar1 = &this->timeDrop;
                iVar9 = TEasy_Panel::create_drop_down
                                  ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,0xb4,100,0x14,0x14c,
                                   0xb4,0x18,0xb);
                if (iVar9 != 0) {
                  TDropDownPanel::empty_list(*ppTVar1);
                    /* language.dll match for 0x2634: "15,000 years (2:00 hr)" */
                  TDropDownPanel::append_line(*ppTVar1,0x2634,15000);
                    /* language.dll match for 0x2635: "13,000 years (1:45 hr)" */
                  TDropDownPanel::append_line(*ppTVar1,0x2635,13000);
                    /* language.dll match for 0x2636: "11,000 years (1:30 hr)" */
                  TDropDownPanel::append_line(*ppTVar1,0x2636,11000);
                    /* language.dll match for 0x2637: "9,000 years (1:15 hr)" */
                  TDropDownPanel::append_line(*ppTVar1,0x2637,9000);
                    /* language.dll match for 0x2638: "7,000 years (60 min)" */
                  TDropDownPanel::append_line(*ppTVar1,0x2638,7000);
                    /* language.dll match for 0x2639: "5,000 years (40 min)" */
                  TDropDownPanel::append_line(*ppTVar1,0x2639,5000);
                    /* language.dll match for 0x263a: "3,000 years (25 min)" */
                  TDropDownPanel::append_line(*ppTVar1,0x263a,3000);
                    /* language.dll match for 0x763b: "Select the time limit for the game. The
                       civilization with the highest score at the end of the time limit wins the
                       game." */
                  TPanel::set_help_info((TPanel *)*ppTVar1,0x763b,-1);
                    /* language.dll match for 0x10ea: "Score" */
                  iVar9 = TEasy_Panel::create_text
                                    ((TEasy_Panel *)this,(TPanel *)this,&this->scoreLabel,0x10ea,
                                     0x14,0x138,0xb4,0x14,0xb,0,0,0);
                  if (iVar9 != 0) {
                    ppTVar1 = &this->scoreDrop;
                    iVar9 = TEasy_Panel::create_drop_down
                                      ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,0xb4,100,0x14,
                                       0x14c,0xb4,0x18,0xb);
                    if (iVar9 != 0) {
                      TDropDownPanel::empty_list(*ppTVar1);
                      TDropDownPanel::append_line(*ppTVar1,s_3000,3000);
                      TDropDownPanel::append_line(*ppTVar1,s_2700,0xa8c);
                    /* language.dll match for 0x960: "********** TRIBE ERRORS **********" */
                      TDropDownPanel::append_line(*ppTVar1,s_2400,0x960);
                      TDropDownPanel::append_line(*ppTVar1,s_2100,0x834);
                      TDropDownPanel::append_line(*ppTVar1,s_1800,0x708);
                      TDropDownPanel::append_line(*ppTVar1,s_1500,0x5dc);
                    /* language.dll match for 0x4b0: "Ready" */
                      TDropDownPanel::append_line(*ppTVar1,s_1200,0x4b0);
                      TDropDownPanel::append_line(*ppTVar1,s_900,900);
                      TDropDownPanel::append_line(*ppTVar1,s_800,800);
                      TDropDownPanel::append_line(*ppTVar1,s_700,700);
                      TDropDownPanel::append_line(*ppTVar1,s_600,600);
                      TDropDownPanel::append_line(*ppTVar1,s_500,500);
                      TDropDownPanel::append_line(*ppTVar1,s_400,400);
                      TDropDownPanel::append_line(*ppTVar1,s_300,300);
                    /* language.dll match for 0x763c: "Select the score for the game. The first
                       civilization to achieve this score or military conquest wins the game." */
                      TPanel::set_help_info((TPanel *)*ppTVar1,0x763c,-1);
                    /* language.dll match for 0x25d9: "This scenario contains Individual Victory
                       conditions that cannot be customized." */
                      iVar9 = TEasy_Panel::create_text
                                        ((TEasy_Panel *)this,(TPanel *)this,&this->victoryFixedText,
                                         0x25d9,0x14,0x108,0xb4,0x5c,0xb,1,1,1);
                      if (iVar9 != 0) {
                        (**(code **)(this->victoryFixedText->_padding_ + 0xec))
                                  (3,(char)this->_padding_,
                                   *(undefined1 *)((int)&this->_padding_ + 1),
                                   *(undefined1 *)((int)&this->_padding_ + 2),
                                   *(undefined1 *)((int)&this->_padding_ + 3),(char)this->_padding_,
                                   *(undefined1 *)((int)&this->_padding_ + 1));
                    /* language.dll match for 0x2606: "Starting Age" */
                        iVar9 = TEasy_Panel::create_text
                                          ((TEasy_Panel *)this,(TPanel *)this,&this->ageLabel,0x2606
                                           ,0xdc,0x108,0xb4,0x14,0xb,0,0,0);
                        if (iVar9 != 0) {
                          ppTVar1 = &this->ageDrop;
                          iVar9 = TEasy_Panel::create_drop_down
                                            ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,0xb4,100,
                                             0xdc,0x11c,0xb4,0x18,0xb);
                          if (iVar9 != 0) {
                            TDropDownPanel::empty_list(*ppTVar1);
                    /* language.dll match for 0x10e7: "Default" */
                            TDropDownPanel::append_line(*ppTVar1,0x10e7,0);
                    /* language.dll match for 0x106e: "Nomad" */
                            TDropDownPanel::append_line(*ppTVar1,0x106e,1);
                    /* language.dll match for 0x1069: "Stone Age" */
                            TDropDownPanel::append_line(*ppTVar1,0x1069,2);
                    /* language.dll match for 0x106a: "Tool Age" */
                            TDropDownPanel::append_line(*ppTVar1,0x106a,3);
                    /* language.dll match for 0x106b: "Bronze Age" */
                            TDropDownPanel::append_line(*ppTVar1,0x106b,4);
                    /* language.dll match for 0x106c: "Iron Age" */
                            TDropDownPanel::append_line(*ppTVar1,0x106c,5);
                    /* language.dll match for 0x7631: "Select the age at which the game begins. For
                       example, Bronze Age indicates that all Stone Age and Tool Age technology has
                       been completed. Nomad indicates that the game starts in the Stone Age and you
                       choose where to build your Town Center." */
                            TPanel::set_help_info((TPanel *)*ppTVar1,0x7631,-1);
                    /* language.dll match for 0x2607: "Resources" */
                            iVar9 = TEasy_Panel::create_text
                                              ((TEasy_Panel *)this,(TPanel *)this,
                                               &this->resourcesLabel,0x2607,0xdc,0x138,0xb4,0x14,0xb
                                               ,0,0,0);
                            if (iVar9 != 0) {
                              ppTVar1 = &this->resourcesDrop;
                              iVar9 = TEasy_Panel::create_drop_down
                                                ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,0xb4,100
                                                 ,0xdc,0x14c,0xb4,0x18,0xb);
                              if (iVar9 != 0) {
                                TDropDownPanel::empty_list(*ppTVar1);
                    /* language.dll match for 0x10e7: "Default" */
                                TDropDownPanel::append_line(*ppTVar1,0x10e7,0);
                    /* language.dll match for 0x2609: "Medium" */
                                TDropDownPanel::append_line(*ppTVar1,0x2609,2);
                    /* language.dll match for 0x260a: "High" */
                                TDropDownPanel::append_line(*ppTVar1,0x260a,3);
                    /* language.dll match for 0x7632: "Select the quantity of resources (food, wood,
                       stone, and gold) in each player's stockpile when the game begins." */
                                TPanel::set_help_info((TPanel *)*ppTVar1,0x7632,-1);
                    /* language.dll match for 0x260d: "Path Finding" */
                                iVar9 = TEasy_Panel::create_text
                                                  ((TEasy_Panel *)this,(TPanel *)this,
                                                   &this->pathingLabel,0x260d,0x1a4,0x138,0xb4,0x14,
                                                   0xb,0,0,0);
                                if (iVar9 != 0) {
                                  ppTVar1 = &this->pathingDrop;
                                  iVar9 = TEasy_Panel::create_drop_down
                                                    ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,0xb4
                                                     ,100,0x1a4,0x14c,0xb4,0x18,0xb);
                                  if (iVar9 != 0) {
                                    TDropDownPanel::empty_list(*ppTVar1);
                    /* language.dll match for 0x260e: "Default" */
                                    TDropDownPanel::append_line(*ppTVar1,0x260e,0);
                    /* language.dll match for 0x260f: "Medium" */
                                    TDropDownPanel::append_line(*ppTVar1,0x260f,1);
                    /* language.dll match for 0x2610: "High" */
                                    TDropDownPanel::append_line(*ppTVar1,0x2610,2);
                    /* language.dll match for 0x763e: "Select the path finding capability. The
                       higher the value, the better paths units can find to get from one place to
                       another. Higher values also require faster machines." */
                                    TPanel::set_help_info((TPanel *)*ppTVar1,0x763e,-1);
                                    iVar9 = RGE_Base_Game::multiplayerGame(rge_base_game);
                                    if (iVar9 != 0) {
                    /* language.dll match for 0x2613: "Population Limit" */
                                      iVar9 = TEasy_Panel::create_text
                                                        ((TEasy_Panel *)this,(TPanel *)this,
                                                         &this->limitLabel,0x2613,0x1a4,0xd8,0xb4,
                                                         0x14,0xb,0,0,0);
                                      if (iVar9 == 0) goto LAB_004b57d9;
                                      ppTVar1 = &this->limitDrop;
                                      iVar9 = TEasy_Panel::create_drop_down
                                                        ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,
                                                         0xb4,100,0x1a4,0xec,0xb4,0x18,0xb);
                                      if (iVar9 == 0) goto LAB_004b57d9;
                                      TDropDownPanel::empty_list(*ppTVar1);
                                      iVar9 = 0x19;
                                      do {
                                        sprintf(num_str + 4,&s__d,iVar9);
                                        TDropDownPanel::append_line(*ppTVar1,num_str + 4,iVar9);
                                        iVar9 = iVar9 + 0x19;
                                      } while (iVar9 < 0xc9);
                    /* language.dll match for 0x763f: "Select the maximum number of units a player
                       can create or train. The recommended value is 50. Also, higher values require
                       faster machines." */
                                      TPanel::set_help_info((TPanel *)*ppTVar1,0x763f,-1);
                                    }
                    /* language.dll match for 0x2bcf: "Difficulty Level" */
                                    iVar9 = TEasy_Panel::create_text
                                                      ((TEasy_Panel *)this,(TPanel *)this,
                                                       &this->difficultyLabel,0x2bcf,0x1a4,0x108,
                                                       0xb4,0x14,0xb,0,0,0);
                                    if (iVar9 != 0) {
                                      ppTVar1 = &this->difficultyDrop;
                                      iVar9 = TEasy_Panel::create_drop_down
                                                        ((TEasy_Panel *)this,(TPanel *)this,ppTVar1,
                                                         0xb4,100,0x1a4,0x11c,0xb4,0x18,0xb);
                                      if (iVar9 != 0) {
                                        TDropDownPanel::empty_list(*ppTVar1);
                    /* language.dll match for 0x2bd4: "Easiest" */
                                        TDropDownPanel::append_line(*ppTVar1,0x2bd4,4);
                    /* language.dll match for 0x2bd3: "Easy" */
                                        TDropDownPanel::append_line(*ppTVar1,0x2bd3,3);
                    /* language.dll match for 0x2bd2: "Moderate" */
                                        TDropDownPanel::append_line(*ppTVar1,0x2bd2,2);
                    /* language.dll match for 0x2bd1: "Hard" */
                                        TDropDownPanel::append_line(*ppTVar1,0x2bd1,1);
                    /* language.dll match for 0x2bd0: "Hardest" */
                                        TDropDownPanel::append_line(*ppTVar1,0x2bd0,0);
                    /* language.dll match for 0x763d: "Select the skill of civilizations controlled
                       by the computer." */
                                        TPanel::set_help_info((TPanel *)*ppTVar1,0x763d,-1);
                                        iVar9 = TEasy_Panel::create_check_box
                                                          ((TEasy_Panel *)this,(TPanel *)this,
                                                           this->optionButton,10,0x168,0x1e,0x1e,0,0
                                                          );
                    /* language.dll match for 0x2601: "Fixed Positions" */
                                        if ((iVar9 != 0) &&
                                           (iVar9 = TEasy_Panel::create_text
                                                              ((TEasy_Panel *)this,(TPanel *)this,
                                                               this->optionText,0x2601,0x28,0x168,
                                                               0xaa,0x1e,0xb,0,1,0), iVar9 != 0)) {
                    /* language.dll match for 0x7633: "If there is a check in the box, players begin
                       the game in fixed (clockwise) positions based on the player number. Team
                       members with consecutive player numbers are located adjacent to each other on
                       the map. Otherwise, players begin the game in random locations on the map."
                        */
                                          TPanel::set_help_info
                                                    ((TPanel *)this->optionButton[0],0x7633,-1);
                                          iVar9 = TEasy_Panel::create_check_box
                                                            ((TEasy_Panel *)this,(TPanel *)this,
                                                             this->optionButton + 2,0xdc,0x168,0x1e,
                                                             0x1e,0,0);
                    /* language.dll match for 0x2604: "Full Tech Tree" */
                                          if ((iVar9 != 0) &&
                                             (iVar9 = TEasy_Panel::create_text
                                                                ((TEasy_Panel *)this,(TPanel *)this,
                                                                 this->optionText + 2,0x2604,0xfa,
                                                                 0x168,0xaa,0x1e,0xb,0,1,0),
                                             iVar9 != 0)) {
                    /* language.dll match for 0x7637: "If there is a check in the box, all
                       civilizations can research all technologies and build all units in the game
                       (except Fire Galleys) and the special attributes usually associated with each
                       civilization are removed. Otherwise, each civilization can research limited
                       technology and has special attributes."
                       language.dll match for 0x7637: "If there is a check in the box, all
                       civilizations can research all technologies in the game and the special
                       attributes usually associated with each civilization are removed. Otherwise,
                       each civilization can research limited technology and has special
                       attributes." */
                                            TPanel::set_help_info
                                                      ((TPanel *)this->optionButton[2],0x7637,-1);
                                            iVar9 = TEasy_Panel::create_check_box
                                                              ((TEasy_Panel *)this,(TPanel *)this,
                                                               this->optionButton + 1,0x1ae,0x168,
                                                               0x1e,0x1e,0,0);
                    /* language.dll match for 0x25fc: "Reveal Map" */
                                            if ((iVar9 != 0) &&
                                               (iVar9 = TEasy_Panel::create_text
                                                                  ((TEasy_Panel *)this,
                                                                   (TPanel *)this,
                                                                   this->optionText + 1,0x25fc,0x1cc
                                                                   ,0x168,0xaa,0x1e,0xb,0,1,0),
                                               iVar9 != 0)) {
                    /* language.dll match for 0x7634: "If there is a check in the box, the map
                       terrain is revealed at the beginning of the game. Otherwise, it is revealed
                       as you explore." */
                                              TPanel::set_help_info
                                                        ((TPanel *)this->optionButton[1],0x7634,-1);
                                              iVar9 = RGE_Base_Game::multiplayerGame(rge_base_game);
                                              if (iVar9 != 0) {
                                                iVar9 = TEasy_Panel::create_check_box
                                                                  ((TEasy_Panel *)this,
                                                                   (TPanel *)this,
                                                                   this->optionButton + 3,0x1ae,
                                                                   0x18b,0x1e,0x1e,0,0);
                    /* language.dll match for 0x25fb: "Enable Cheating" */
                                                if ((iVar9 == 0) ||
                                                   (iVar9 = TEasy_Panel::create_text
                                                                      ((TEasy_Panel *)this,
                                                                       (TPanel *)this,
                                                                       this->optionText + 3,0x25fb,
                                                                       0x1cc,0x18b,0xa5,0x1e,0xb,0,1
                                                                       ,0), iVar9 == 0))
                                                goto LAB_004b57d9;
                    /* language.dll match for 0x7638: "If there is a check in the box, players can
                       use the cheat codes." */
                                                TPanel::set_help_info
                                                          ((TPanel *)this->optionButton[3],0x7638,-1
                                                          );
                                              }
                                              this->scenarioListX = 0x14;
                                              this->scenarioListY = 0x3c;
                                              this->scenarioListWidth = 600;
                                              iVar9 = RGE_Base_Game::multiplayerGame(rge_base_game);
                                              if (iVar9 == 0) {
                                                this->scenarioListHeight = 0x18;
                                              }
                                              else {
                                                this->scenarioListHeight = 0x6f;
                                              }
                                              ppTVar2 = &this->scenarioList;
                                              iVar9 = TEasy_Panel::create_list
                                                                ((TEasy_Panel *)this,(TPanel *)this,
                                                                 ppTVar2,this->scenarioListX,
                                                                 this->scenarioListY,
                                                                 this->scenarioListWidth,
                                                                 this->scenarioListHeight,0xb);
                                              if (iVar9 != 0) {
                                                TTextPanel::set_second_column_pos
                                                          ((TTextPanel *)*ppTVar2,
                                                           (this->_padding_ *
                                                           (this->scenarioListWidth + -0x3c)) /
                                                           this->_padding_);
                                                iVar9 = RGE_Base_Game::multiplayerGame
                                                                  (rge_base_game);
                                                if (iVar9 == 0) {
                                                  (*ppTVar2)->_padding_ = 0;
                                                  TListPanel::setDrawHighlightBar(*ppTVar2,0);
                                                  TTextPanel::set_spacer_size
                                                            ((TTextPanel *)*ppTVar2,0);
                                                }
                                                else {
                    /* language.dll match for 0x25fd: "Loading list of scenarios..." */
                                                  (**(code **)((*ppTVar2)->_padding_ + 0xe4))
                                                            (0x25fd);
                    /* language.dll match for 0x7639: "Select the scenario to play." */
                                                  TPanel::set_help_info
                                                            ((TPanel *)*ppTVar2,0x7639,-1);
                                                  iVar9 = TEasy_Panel::create_auto_scrollbar
                                                                    ((TEasy_Panel *)this,
                                                                     &this->scenarioScrollbar,
                                                                     (TTextPanel *)*ppTVar2,0x14);
                                                  if (iVar9 == 0) goto LAB_004b57d9;
                                                }
                                                lVar12 = this->scenarioListX;
                                                iVar18 = 0;
                                                iVar16 = 0;
                                                iVar17 = 0;
                                                lVar15 = 4;
                                                lVar14 = 0x14;
                                                iVar9 = this->scenarioListY + -0x14;
                                                lVar13 = 300;
                                                iVar11 = RGE_Base_Game::multiplayerGame
                                                                   (rge_base_game);
                                                iVar9 = TEasy_Panel::create_text
                                                                  ((TEasy_Panel *)this,
                                                                   (TPanel *)this,
                                                                   &this->scenarioTitle,
                                                                   (-(uint)(iVar11 != 0) &
                                                                   0xffffffde) + 0x2620,lVar12,iVar9
                                                                   ,lVar13,lVar14,lVar15,iVar17,
                                                                   iVar16,iVar18);
                                                if (iVar9 != 0) {
                    /* language.dll match for 0x25ff: "Players" */
                                                  iVar9 = TEasy_Panel::create_text
                                                                    ((TEasy_Panel *)this,
                                                                     (TPanel *)this,
                                                                     &this->scenarioPlayersTitle,
                                                                     0x25ff,this->scenarioListWidth
                                                                            + -0xdc + this->
                                                  scenarioListX,this->scenarioListY + -0x14,0xdc,
                                                  0x14,4,0,0,0);
                                                  if (iVar9 != 0) {
                                                    TTextPanel::set_alignment
                                                              (this->scenarioPlayersTitle,AlignTop,
                                                               AlignRight);
                                                    iVar9 = this->scenarioListHeight + 0x18 +
                                                            this->scenarioListY;
                                                    this->missionTextWidth = this->scenarioListWidth
                                                    ;
                                                    this->missionTextY = iVar9;
                    /* language.dll match for 0x2600: "Scenario Instructions" */
                                                    this->missionTextX = this->scenarioListX;
                                                    this->missionTextHeight = 0x104 - iVar9;
                                                    iVar9 = TEasy_Panel::create_text
                                                                      ((TEasy_Panel *)this,
                                                                       (TPanel *)this,
                                                                       &this->missionTitle,0x2600,
                                                                       this->scenarioListX,
                                                                       iVar9 + -0x14,300,0x14,4,0,0,
                                                                       0);
                                                    if (iVar9 != 0) {
                                                      ppTVar3 = &this->missionText;
                                                      iVar9 = TEasy_Panel::create_text
                                                                        ((TEasy_Panel *)this,
                                                                         (TPanel *)this,ppTVar3,s_,
                                                                         this->missionTextX,
                                                                         this->missionTextY,
                                                                         this->missionTextWidth,
                                                                         this->missionTextHeight,0xb
                                                                         ,0,0,1);
                                                      if (iVar9 != 0) {
                                                        (**(code **)((*ppTVar3)->_padding_ + 0xec))
                                                                  (3,(char)this->_padding_,
                                                                   *(undefined1 *)
                                                                    ((int)&this->_padding_ + 1),
                                                                   *(undefined1 *)
                                                                    ((int)&this->_padding_ + 2),
                                                                   *(undefined1 *)
                                                                    ((int)&this->_padding_ + 3),
                                                                   (char)this->_padding_,
                                                                   *(undefined1 *)
                                                                    ((int)&this->_padding_ + 1));
                                                        iVar9 = TEasy_Panel::create_auto_scrollbar
                                                                          ((TEasy_Panel *)this,
                                                                           &this->missionScrollbar,
                                                                           *ppTVar3,0x14);
                                                        if (iVar9 != 0) {
                    /* language.dll match for 0x763a: "Explains what you must do to win the game."
                        */
                                                          TPanel::set_help_info
                                                                    ((TPanel *)
                                                                     this->missionScrollbar,0x763a,
                                                                     -1);
                                                          ppTVar4 = &this->okButton;
                    /* language.dll match for 0xfa1: "OK" */
                                                          iVar9 = TEasy_Panel::create_button
                                                                            ((TEasy_Panel *)this,
                                                                             (TPanel *)this,ppTVar4,
                                                                             0xfa1,0,0x3c,0x1b8,0xf0
                                                                             ,0x1e,0,0,0);
                                                          if (iVar9 != 0) {
                                                            TPanel::set_help_info
                                                                      ((TPanel *)*ppTVar4,0x7531,-1)
                                                            ;
                                                            ppTVar5 = &this->cancelButton;
                    /* language.dll match for 0xfa2: "Cancel" */
                                                            iVar9 = TEasy_Panel::create_button
                                                                              ((TEasy_Panel *)this,
                                                                               (TPanel *)this,
                                                                               ppTVar5,0xfa2,0,0x140
                                                                               ,0x1b8,0xf0,0x1e,0,0,
                                                                               0);
                                                            if (iVar9 != 0) {
                                                              pTVar7 = *ppTVar5;
                                                              pTVar7->hotkey = 0x1b;
                                                              pTVar7->hotkey_shift = 0;
                                                              TPanel::set_help_info
                                                                        ((TPanel *)*ppTVar5,0x7532,
                                                                         -1);
                    /* language.dll match for 0xfa9: "?" */
                                                              iVar9 = TEasy_Panel::create_button
                                                                                ((TEasy_Panel *)this
                                                                                 ,(TPanel *)this,
                                                                                 &this->help_button,
                                                                                 0xfa9,0,0x244,0x1b8
                                                                                 ,0x1e,0x1e,0,0,0);
                                                              if (iVar9 != 0) {
                                                                fillScenarios(this);
                                                                this->scenariosLoaded = 1;
                                                                getSettings(this);
                                                                fillMissionText(this);
                                                                activatePanels(this);
                                                                TPanel::set_curr_child
                                                                          ((TPanel *)this,
                                                                           (TPanel *)*ppTVar4);
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
LAB_004b57d9:
  *unaff_FS_OFFSET = local_c;
  return this;
}

// --------------------------------------------------

// Function: `vector_deleting_destructor'
// Address: 004b57f0
/* public: virtual void * __thiscall TribeGameSettingsScreen::`vector deleting destructor'(unsigned
   int) */

void * __thiscall
TribeGameSettingsScreen::_vector_deleting_destructor_(TribeGameSettingsScreen *this,uint param_1)
{
  ~TribeGameSettingsScreen(this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}

// --------------------------------------------------

// Function: init_vars
// Address: 004b5810
/* protected: void __thiscall TribeGameSettingsScreen::init_vars(void) */

void __thiscall TribeGameSettingsScreen::init_vars(TribeGameSettingsScreen *this)
{
  TTextPanel **ppTVar1;
  int iVar2;
  
  this->title = (TTextPanel *)0x0;
  this->mapSizeLabel = (TTextPanel *)0x0;
  this->mapSizeDrop = (TDropDownPanel *)0x0;
  this->mapTypeLabel = (TTextPanel *)0x0;
  this->mapTypeDrop = (TDropDownPanel *)0x0;
  this->victoryTypeLabel = (TTextPanel *)0x0;
  this->victoryTypeDrop = (TDropDownPanel *)0x0;
  this->scoreLabel = (TTextPanel *)0x0;
  this->scoreDrop = (TDropDownPanel *)0x0;
  this->timeLabel = (TTextPanel *)0x0;
  this->timeDrop = (TDropDownPanel *)0x0;
  this->victoryFixedText = (TTextPanel *)0x0;
  this->difficultyLabel = (TTextPanel *)0x0;
  this->difficultyDrop = (TDropDownPanel *)0x0;
  this->ageLabel = (TTextPanel *)0x0;
  this->ageDrop = (TDropDownPanel *)0x0;
  this->limitLabel = (TTextPanel *)0x0;
  this->limitDrop = (TDropDownPanel *)0x0;
  this->resourcesLabel = (TTextPanel *)0x0;
  this->resourcesDrop = (TDropDownPanel *)0x0;
  this->pathingLabel = (TTextPanel *)0x0;
  this->pathingDrop = (TDropDownPanel *)0x0;
  this->scenarioTitle = (TTextPanel *)0x0;
  this->scenarioPlayersTitle = (TTextPanel *)0x0;
  this->scenarioList = (TListPanel *)0x0;
  this->scenarioScrollbar = (TScrollBarPanel *)0x0;
  this->scenarioCount = 0;
  this->scenarioMission = (char **)0x0;
  this->scenarioFixed = (int *)0x0;
  this->scenariosLoaded = 0;
  this->missionTitle = (TTextPanel *)0x0;
  this->missionText = (TTextPanel *)0x0;
  this->missionScrollbar = (TScrollBarPanel *)0x0;
  ppTVar1 = this->optionText;
  iVar2 = 4;
  do {
    ppTVar1[-4] = (TTextPanel *)0x0;
    *ppTVar1 = (TTextPanel *)0x0;
    ppTVar1 = ppTVar1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  this->okButton = (TButtonPanel *)0x0;
  this->cancelButton = (TButtonPanel *)0x0;
  this->help_button = (TButtonPanel *)0x0;
  this->chat_scr = (TribeMPSetupScreen *)0x0;
  this->last_scenario_line = -1;
  this->scenario_line_offset = 0;
  this->last_send_shared = 0;
  return;
}

// --------------------------------------------------

// Function: ~TribeGameSettingsScreen
// Address: 004b5920
/* public: virtual __thiscall TribeGameSettingsScreen::~TribeGameSettingsScreen(void) */

void __thiscall TribeGameSettingsScreen::~TribeGameSettingsScreen(TribeGameSettingsScreen *this)
{
  int iVar1;
  TTextPanel **ppTVar2;
  undefined4 *unaff_FS_OFFSET;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  pcStack_8 = FUN_0055f6b8;
  local_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &local_c;
  this->_padding_ = (int)&_vftable_;
  local_4 = 0;
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->title);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->mapSizeLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->mapSizeDrop);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->mapTypeLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->mapTypeDrop);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->victoryTypeLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->victoryTypeDrop);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->timeDrop);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->timeLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->scoreDrop);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->scoreLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->victoryFixedText);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->difficultyLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->difficultyDrop);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->ageLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->ageDrop);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->resourcesLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->resourcesDrop);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->scenarioTitle);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->scenarioPlayersTitle);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->scenarioList);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->scenarioScrollbar);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->missionTitle);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->missionText);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->missionScrollbar);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->pathingLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->pathingDrop);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->limitLabel);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->limitDrop);
  ppTVar2 = this->optionText;
  iVar1 = 4;
  do {
    TPanel::delete_panel((TPanel *)this,(TPanel **)(ppTVar2 + -4));
    TPanel::delete_panel((TPanel *)this,(TPanel **)ppTVar2);
    ppTVar2 = ppTVar2 + 1;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->okButton);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->cancelButton);
  TPanel::delete_panel((TPanel *)this,(TPanel **)&this->help_button);
  if (this->scenarioMission != (char **)0x0) {
    iVar1 = 0;
    if (0 < this->scenarioCount) {
      do {
        if (this->scenarioMission[iVar1] != (char *)0x0) {
          free(this->scenarioMission[iVar1]);
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < this->scenarioCount);
    }
    free(this->scenarioMission);
  }
  if (this->scenarioFixed != (int *)0x0) {
    free(this->scenarioFixed);
  }
  local_4 = 0xffffffff;
  TScreenPanel::~TScreenPanel((TScreenPanel *)this);
  *unaff_FS_OFFSET = local_c;
  return;
}

// --------------------------------------------------

// Function: handle_idle
// Address: 004b5bb0
// [HELPER] s_C__msdev_work_age1_x1_scr_set_cp: "C:\msdev\work\age1_x1\scr_set.cpp"
/* public: virtual long __thiscall TribeGameSettingsScreen::handle_idle(void) */

long __thiscall TribeGameSettingsScreen::handle_idle(TribeGameSettingsScreen *this)
{
  int iVar1;
  ulong uVar2;
  long lVar3;
  
  if (this->scenariosLoaded == 0) {
    fillScenarios(this);
    fillMissionText(this);
    this->scenariosLoaded = 1;
    activatePanels(this);
    TPanel::set_curr_child((TPanel *)this,(TPanel *)this->scenarioList);
  }
  if (rge_base_game->input_enabled == 0) {
    RGE_Base_Game::enable_input(rge_base_game);
  }
  iVar1 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if (iVar1 != 0) {
    if (this->last_send_shared == 0) {
      iVar1 = 0x23a;
    }
    else {
      uVar2 = debug_timeGetTime(s_C__msdev_work_age1_x1_scr_set_cp,0x23d);
      if (uVar2 == this->last_send_shared) goto LAB_004b5c5e;
      TCommunications_Handler::SendSharedData(comm,0);
      iVar1 = 0x240;
    }
    uVar2 = debug_timeGetTime(s_C__msdev_work_age1_x1_scr_set_cp,iVar1);
    this->last_send_shared = uVar2;
  }
LAB_004b5c5e:
  lVar3 = TPanel::handle_idle((TPanel *)this);
  return lVar3;
}

// --------------------------------------------------

// Function: handle_user_command
// Address: 004b5c70
/* public: virtual long __thiscall TribeGameSettingsScreen::handle_user_command(unsigned int,long)
    */

long __thiscall
TribeGameSettingsScreen::handle_user_command
          (TribeGameSettingsScreen *this,uint param_1,long param_2)
{
  int iVar1;
  long lVar2;
  
  if ((this->chat_scr != (TribeMPSetupScreen *)0x0) &&
     (iVar1 = (**(code **)(this->chat_scr->_padding_ + 100))(param_1,param_2), iVar1 != 0)) {
    return iVar1;
  }
  lVar2 = TPanel::handle_user_command((TPanel *)this,param_1,param_2);
  return lVar2;
}

// --------------------------------------------------

// Function: action
// Address: 004b5cb0
/* protected: virtual long __thiscall TribeGameSettingsScreen::action(class TPanel *,long,unsigned
   long,unsigned long) */

long __thiscall
TribeGameSettingsScreen::action
          (TribeGameSettingsScreen *this,TPanel *param_1,long param_2,ulong param_3,ulong param_4)
{
  long lVar1;
  TDropDownPanel *this_00;
  
  if ((param_1 != (TPanel *)0x0) && (this->scenariosLoaded != 0)) {
    if (((TButtonPanel *)param_1 == this->okButton) && (param_2 == 1)) {
      TPanel::set_curr_child((TPanel *)this,(TPanel *)this->scenarioList);
      sendSettings(this);
      (**(code **)(this->chat_scr->_padding_ + 0xb4))(this,1,0,0);
      return 1;
    }
    if (((TButtonPanel *)param_1 == this->cancelButton) && (param_2 == 1)) {
      TPanel::set_curr_child((TPanel *)this,(TPanel *)this->scenarioList);
      getSettings(this);
      (**(code **)(this->chat_scr->_padding_ + 0xb4))(this,0,0,0);
      return 1;
    }
    if (((TButtonPanel *)param_1 == this->help_button) && (param_2 == 1)) {
      TEasy_Panel::setup_popup_help((TEasy_Panel *)this);
      return 1;
    }
    if (((TDropDownPanel *)param_1 == this->victoryTypeDrop) && (param_2 == 0)) {
      lVar1 = TDropDownPanel::get_id(this->victoryTypeDrop);
      if (lVar1 == 7) {
        this_00 = this->timeDrop;
        lVar1 = 3;
      }
      else {
        if (lVar1 != 8) {
LAB_004b5dd2:
          activatePanels(this);
          return 1;
        }
        this_00 = this->scoreDrop;
        lVar1 = 7;
      }
      TDropDownPanel::set_line(this_00,lVar1);
      activatePanels(this);
      return 1;
    }
    if ((TListPanel *)param_1 == this->scenarioList) {
      if (param_2 == 3) {
        return 1;
      }
      if (param_2 == 1) {
        fillMissionText(this);
        goto LAB_004b5dd2;
      }
    }
  }
  lVar1 = TEasy_Panel::action((TEasy_Panel *)this,param_1,param_2,param_3,param_4);
  return lVar1;
}

// --------------------------------------------------

// Function: fillScenarios
// Address: 004b5e00
// [HELPER] s_2___8: "2 - 8"
// [HELPER] s__d: "%d"
// [HELPER] s__d____d: "%d - %d"
/* WARNING: Variable defined which should be unmapped: i */
/* protected: void __thiscall TribeGameSettingsScreen::fillScenarios(void) */

void __thiscall TribeGameSettingsScreen::fillScenarios(TribeGameSettingsScreen *this)
{
  char cVar1;
  byte bVar2;
  uchar uVar3;
  int iVar4;
  char *pcVar5;
  byte *pbVar6;
  char **ppcVar7;
  int *piVar8;
  long lVar9;
  RGE_Scenario_Header *pRVar10;
  char *pcVar11;
  uint uVar12;
  byte *pbVar13;
  uint uVar14;
  RGE_Scenario_File_Info *this_00;
  char *pcVar15;
  bool bVar16;
  int i;
  RGE_Scenario_File_Info *scenario_info_file;
  char player_str [20];
  char file_name [260];
  char scenario_file [260];
  
  TTextPanel::empty_list((TTextPanel *)this->scenarioList);
  this->scenario_line_offset = 0;
  iVar4 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if ((iVar4 != 0) || (iVar4 = RGE_Base_Game::scenarioGame(rge_base_game), iVar4 != 0)) {
    this_00 = rge_base_game->scenario_info;
    player_str._0_4_ = this_00;
    RGE_Scenario_File_Info::reload_scenarios(this_00);
    scenario_info_file = (RGE_Scenario_File_Info *)0x0;
    this->scenarioList->_padding_ = 1;
    this->scenarioCount = 0;
    while (pcVar5 = RGE_Scenario_File_Info::get_scenario_name(this_00,(long)scenario_info_file),
          pcVar5 != (char *)0x0) {
      uVar12 = 0xffffffff;
      pcVar11 = pcVar5;
      do {
        if (uVar12 == 0) break;
        uVar12 = uVar12 - 1;
        cVar1 = *pcVar11;
        pcVar11 = pcVar11 + 1;
      } while (cVar1 != '\0');
      strncpy(file_name + 4,pcVar5,~uVar12 - 5);
      player_str[~uVar12 + 0x13] = '\0';
      iVar4 = RGE_Base_Game::multiplayerGame(rge_base_game);
      if (iVar4 == 0) {
        pbVar6 = (byte *)RGE_Base_Game::scenarioName(rge_base_game);
        pbVar13 = (byte *)(file_name + 4);
        do {
          bVar2 = *pbVar13;
          bVar16 = bVar2 < *pbVar6;
          if (bVar2 != *pbVar6) {
LAB_004b5eed:
            iVar4 = (1 - (uint)bVar16) - (uint)(bVar16 != 0);
            goto LAB_004b5ef2;
          }
          if (bVar2 == 0) break;
          bVar2 = pbVar13[1];
          bVar16 = bVar2 < pbVar6[1];
          if (bVar2 != pbVar6[1]) goto LAB_004b5eed;
          pbVar13 = pbVar13 + 2;
          pbVar6 = pbVar6 + 2;
        } while (bVar2 != 0);
        iVar4 = 0;
LAB_004b5ef2:
        if (iVar4 == 0) goto LAB_004b5ef6;
      }
      else {
LAB_004b5ef6:
        TTextPanel::append_line
                  ((TTextPanel *)this->scenarioList,file_name + 4,(long)scenario_info_file);
        this->scenarioCount = this->scenarioCount + 1;
      }
      scenario_info_file = (RGE_Scenario_File_Info *)(scenario_info_file->filename + 1);
    }
    ppcVar7 = (char **)calloc(this->scenarioCount,4);
    this->scenarioMission = ppcVar7;
    piVar8 = (int *)calloc(this->scenarioCount,4);
    this->scenarioFixed = piVar8;
    if (((this->scenarioMission != (char **)0x0) && (piVar8 != (int *)0x0)) &&
       (scenario_info_file = (RGE_Scenario_File_Info *)0x0, 0 < this->scenarioCount)) {
      do {
        lVar9 = TTextPanel::get_id((TTextPanel *)this->scenarioList,(long)scenario_info_file);
        pRVar10 = RGE_Scenario_File_Info::get_scenario_info(this_00,lVar9);
        if (pRVar10 != (RGE_Scenario_Header *)0x0) {
          pcVar5 = (char *)calloc(0x1000,1);
          this->scenarioMission[(int)scenario_info_file] = pcVar5;
          if ((this->scenarioMission[(int)scenario_info_file] != (char *)0x0) &&
             (pRVar10->description != (char *)0x0)) {
            uVar12 = 0xffffffff;
            pcVar5 = pRVar10->description;
            do {
              pcVar11 = pcVar5;
              if (uVar12 == 0) break;
              uVar12 = uVar12 - 1;
              pcVar11 = pcVar5 + 1;
              cVar1 = *pcVar5;
              pcVar5 = pcVar11;
            } while (cVar1 != '\0');
            uVar12 = ~uVar12;
            pcVar5 = pcVar11 + -uVar12;
            pcVar11 = this->scenarioMission[(int)scenario_info_file];
            for (uVar14 = uVar12 >> 2; uVar14 != 0; uVar14 = uVar14 - 1) {
              *(undefined4 *)pcVar11 = *(undefined4 *)pcVar5;
              pcVar5 = pcVar5 + 4;
              pcVar11 = pcVar11 + 4;
            }
            for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
              *pcVar11 = *pcVar5;
              pcVar5 = pcVar5 + 1;
              pcVar11 = pcVar11 + 1;
            }
          }
          this->scenarioFixed[(int)scenario_info_file] = pRVar10[1]._padding_;
          iVar4 = pRVar10[1].error_code;
          if (0 < iVar4) {
            if ((this->scenarioFixed[(int)scenario_info_file] == 0) && (2 < iVar4)) {
              sprintf(player_str + 4,s__d____d,2,iVar4);
            }
            else {
              sprintf(player_str + 4,&s__d,iVar4);
            }
            pcVar11 = TTextPanel::get_text
                                ((TTextPanel *)this->scenarioList,(long)scenario_info_file);
            uVar12 = 0xffffffff;
            pcVar5 = scenario_file;
            do {
              pcVar15 = pcVar11;
              if (uVar12 == 0) break;
              uVar12 = uVar12 - 1;
              pcVar15 = pcVar11 + 1;
              cVar1 = *pcVar11;
              pcVar11 = pcVar15;
            } while (cVar1 != '\0');
            uVar12 = ~uVar12;
            pcVar11 = pcVar15 + -uVar12;
            for (uVar14 = uVar12 >> 2; pcVar5 = pcVar5 + 4, uVar14 != 0; uVar14 = uVar14 - 1) {
              *(undefined4 *)pcVar5 = *(undefined4 *)pcVar11;
              pcVar11 = pcVar11 + 4;
            }
            for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
              *pcVar5 = *pcVar11;
              pcVar11 = pcVar11 + 1;
              pcVar5 = pcVar5 + 1;
            }
            TTextPanel::change_line
                      ((TTextPanel *)this->scenarioList,(long)scenario_info_file,scenario_file + 4,
                       player_str + 4,0);
          }
        }
        scenario_info_file = (RGE_Scenario_File_Info *)(scenario_info_file->filename + 1);
        this_00 = (RGE_Scenario_File_Info *)player_str._0_4_;
      } while ((int)scenario_info_file < this->scenarioCount);
    }
  }
  this->scenarioList->_padding_ = 0;
  iVar4 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if ((iVar4 != 0) ||
     ((iVar4 = RGE_Base_Game::randomGame(rge_base_game), iVar4 != 0 &&
      (uVar3 = TRIBE_Game::deathMatch((TRIBE_Game *)rge_base_game), uVar3 == '\0')))) {
    lVar9 = -2;
    pcVar11 = s_2___8;
                    /* language.dll match for 0x25b5: "Random Map" */
    pcVar5 = TPanel::get_string((TPanel *)this,0x25b5);
    TTextPanel::insert_line((TTextPanel *)this->scenarioList,0,pcVar5,pcVar11,lVar9);
    this->scenario_line_offset = this->scenario_line_offset + -1;
  }
  iVar4 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if ((iVar4 != 0) ||
     ((iVar4 = RGE_Base_Game::randomGame(rge_base_game), iVar4 != 0 &&
      (uVar3 = TRIBE_Game::deathMatch((TRIBE_Game *)rge_base_game), uVar3 != '\0')))) {
    lVar9 = -1;
    pcVar11 = s_2___8;
                    /* language.dll match for 0x2617: "Death Match" */
    pcVar5 = TPanel::get_string((TPanel *)this,0x2617);
    TTextPanel::insert_line((TTextPanel *)this->scenarioList,1,pcVar5,pcVar11,lVar9);
    this->scenario_line_offset = this->scenario_line_offset + -1;
  }
  return;
}

// --------------------------------------------------

// Function: fillMissionText
// Address: 004b6160
// [HELPER] s_: ""
/* protected: void __thiscall TribeGameSettingsScreen::fillMissionText(void) */

void __thiscall TribeGameSettingsScreen::fillMissionText(TribeGameSettingsScreen *this)
{
  long lVar1;
  long lVar2;
  
  (**(code **)(this->missionText->_padding_ + 0xe8))(s_);
  lVar1 = TTextPanel::get_line((TTextPanel *)this->scenarioList);
  lVar2 = TTextPanel::get_id((TTextPanel *)this->scenarioList);
  if (lVar2 == -2) {
                    /* language.dll match for 0x25dc: "This is a game played on a random map.  The
                       next screen allows you to change random map settings." */
    (**(code **)(this->missionText->_padding_ + 0xe4))(0x25dc);
  }
  else if (lVar2 == -1) {
                    /* language.dll match for 0x2618: "A game played on a random map where each
                       player gets 20,000 of each resource." */
    (**(code **)(this->missionText->_padding_ + 0xe4))(0x2618);
  }
  else {
    (**(code **)(this->missionText->_padding_ + 0xe8))
              (this->scenarioMission[this->scenario_line_offset + lVar1]);
  }
  if (lVar1 != this->last_scenario_line) {
    TDropDownPanel::set_line(this->victoryTypeDrop,0);
  }
  if (lVar2 < 0) {
    this->state = StateRandom;
    this->last_scenario_line = lVar1;
    return;
  }
  this->last_scenario_line = lVar1;
  this->state = StateScenario;
  return;
}

// --------------------------------------------------

// Function: getSettings
// Address: 004b6230
/* protected: void __thiscall TribeGameSettingsScreen::getSettings(void) */

void __thiscall TribeGameSettingsScreen::getSettings(TribeGameSettingsScreen *this)
{
  uchar uVar1;
  byte bVar2;
  int iVar3;
  char *pcVar4;
  MapSize MVar5;
  long lVar6;
  MapType MVar7;
  VictoryType VVar8;
  int iVar9;
  ResourceLevel RVar10;
  Age AVar11;
  short sVar12;
  
  iVar3 = RGE_Base_Game::scenarioGame(rge_base_game);
  if (iVar3 == 0) {
    this->state = StateRandom;
  }
  else {
    this->state = StateScenario;
  }
  this->last_scenario_line = 0;
  if (this->state == StateRandom) {
    uVar1 = TRIBE_Game::deathMatch((TRIBE_Game *)rge_base_game);
    if (uVar1 == '\0') goto LAB_004b62b4;
    sVar12 = 1;
  }
  else {
    pcVar4 = RGE_Base_Game::scenarioName(rge_base_game);
    lVar6 = TTextPanel::get_line((TTextPanel *)this->scenarioList,pcVar4);
    if (lVar6 != -1) {
      TListPanel::scroll_cur_line(this->scenarioList,'\x01',(short)lVar6,1);
      this->last_scenario_line = lVar6 + -1;
      goto LAB_004b62c3;
    }
LAB_004b62b4:
    sVar12 = 0;
  }
  TListPanel::scroll_cur_line(this->scenarioList,'\x01',sVar12,1);
LAB_004b62c3:
  MVar5 = TRIBE_Game::mapSize((TRIBE_Game *)rge_base_game);
  lVar6 = TDropDownPanel::get_line(this->mapSizeDrop,MVar5);
  TDropDownPanel::set_line(this->mapSizeDrop,lVar6);
  MVar7 = TRIBE_Game::mapType((TRIBE_Game *)rge_base_game);
  lVar6 = TDropDownPanel::get_line(this->mapTypeDrop,MVar7);
  TDropDownPanel::set_line(this->mapTypeDrop,lVar6);
  VVar8 = TRIBE_Game::victoryType((TRIBE_Game *)rge_base_game);
  lVar6 = TDropDownPanel::get_line(this->victoryTypeDrop,VVar8);
  TDropDownPanel::set_line(this->victoryTypeDrop,lVar6);
  if (this->optionButton[3] != (TButtonPanel *)0x0) {
    iVar3 = this->optionButton[3]->_padding_;
    iVar9 = RGE_Base_Game::allowCheatCodes(rge_base_game);
    (**(code **)(iVar3 + 0xe0))(iVar9);
  }
  iVar3 = this->optionButton[1]->_padding_;
  iVar9 = RGE_Base_Game::fullVisibility(rge_base_game);
  (**(code **)(iVar3 + 0xe0))(iVar9);
  iVar3 = this->optionButton[0]->_padding_;
  iVar9 = TRIBE_Game::randomizePositions((TRIBE_Game *)rge_base_game);
  (**(code **)(iVar3 + 0xe0))(iVar9 == 0);
  iVar3 = this->optionButton[2]->_padding_;
  iVar9 = TRIBE_Game::fullTechTree((TRIBE_Game *)rge_base_game);
  (**(code **)(iVar3 + 0xe0))(iVar9);
  RVar10 = TRIBE_Game::resourceLevel((TRIBE_Game *)rge_base_game);
  lVar6 = TDropDownPanel::get_line(this->resourcesDrop,RVar10);
  TDropDownPanel::set_line(this->resourcesDrop,lVar6);
  AVar11 = TRIBE_Game::startingAge((TRIBE_Game *)rge_base_game);
  lVar6 = TDropDownPanel::get_line(this->ageDrop,AVar11);
  TDropDownPanel::set_line(this->ageDrop,lVar6);
  iVar3 = RGE_Base_Game::difficulty(rge_base_game);
  lVar6 = TDropDownPanel::get_line(this->difficultyDrop,iVar3);
  TDropDownPanel::set_line(this->difficultyDrop,lVar6);
  iVar3 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if (iVar3 == 0) {
    bVar2 = RGE_Base_Game::pathFinding(rge_base_game);
  }
  else {
    bVar2 = RGE_Base_Game::mpPathFinding(rge_base_game);
  }
  lVar6 = TDropDownPanel::get_line(this->pathingDrop,(uint)bVar2);
  TDropDownPanel::set_line(this->pathingDrop,lVar6);
  iVar3 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if (iVar3 != 0) {
    bVar2 = TRIBE_Game::popLimit((TRIBE_Game *)rge_base_game);
    lVar6 = TDropDownPanel::get_line(this->limitDrop,(uint)bVar2);
    TDropDownPanel::set_line(this->limitDrop,lVar6);
  }
  VVar8 = TRIBE_Game::victoryType((TRIBE_Game *)rge_base_game);
  if (VVar8 == VictoryTime) {
    iVar3 = TRIBE_Game::victoryAmount((TRIBE_Game *)rge_base_game);
    lVar6 = TDropDownPanel::get_line(this->timeDrop,iVar3);
    TDropDownPanel::set_line(this->timeDrop,lVar6);
    return;
  }
  VVar8 = TRIBE_Game::victoryType((TRIBE_Game *)rge_base_game);
  if (VVar8 == VictoryScore) {
    iVar3 = TRIBE_Game::victoryAmount((TRIBE_Game *)rge_base_game);
    lVar6 = TDropDownPanel::get_line(this->scoreDrop,iVar3);
    TDropDownPanel::set_line(this->scoreDrop,lVar6);
  }
  return;
}

// --------------------------------------------------

// Function: sendSettings
// Address: 004b6500
// [HELPER] s_: ""
/* protected: void __thiscall TribeGameSettingsScreen::sendSettings(void) */

void __thiscall TribeGameSettingsScreen::sendSettings(TribeGameSettingsScreen *this)
{
  long lVar1;
  char *pcVar2;
  VictoryType VVar3;
  int iVar4;
  MapSize MVar5;
  MapType MVar6;
  Age AVar7;
  ResourceLevel RVar8;
  
  lVar1 = TTextPanel::get_id((TTextPanel *)this->scenarioList);
  if (lVar1 < 0) {
    RGE_Base_Game::setScenarioGame(rge_base_game,0);
    pcVar2 = s_;
  }
  else {
    RGE_Base_Game::setScenarioGame(rge_base_game,1);
    pcVar2 = TTextPanel::get_text((TTextPanel *)this->scenarioList);
  }
  RGE_Base_Game::setScenarioName(rge_base_game,pcVar2);
  lVar1 = TTextPanel::get_id((TTextPanel *)this->scenarioList);
  TRIBE_Game::setDeathMatch((TRIBE_Game *)rge_base_game,lVar1 == -1);
  lVar1 = TDropDownPanel::get_id(this->victoryTypeDrop);
  if (lVar1 == 7) {
    lVar1 = TDropDownPanel::get_id(this->timeDrop);
    VVar3 = VictoryTime;
  }
  else if (lVar1 == 8) {
    lVar1 = TDropDownPanel::get_id(this->scoreDrop);
    VVar3 = VictoryScore;
  }
  else {
    lVar1 = 1;
    VVar3 = TDropDownPanel::get_id(this->victoryTypeDrop);
  }
  TRIBE_Game::setVictoryType((TRIBE_Game *)rge_base_game,VVar3,lVar1);
  iVar4 = RGE_Base_Game::randomGame(rge_base_game);
  if (iVar4 != 0) {
    MVar5 = TDropDownPanel::get_id(this->mapSizeDrop);
    TRIBE_Game::setMapSize((TRIBE_Game *)rge_base_game,MVar5);
    MVar6 = TDropDownPanel::get_id(this->mapTypeDrop);
    TRIBE_Game::setMapType((TRIBE_Game *)rge_base_game,MVar6);
  }
  if (this->optionButton[3] != (TButtonPanel *)0x0) {
    iVar4 = TButtonPanel::get_state(this->optionButton[3]);
    RGE_Base_Game::setAllowCheatCodes(rge_base_game,iVar4);
  }
  iVar4 = TButtonPanel::get_state(this->optionButton[1]);
  RGE_Base_Game::setFullVisibility(rge_base_game,iVar4);
  iVar4 = TButtonPanel::get_state(this->optionButton[0]);
  TRIBE_Game::setRandomizePositions((TRIBE_Game *)rge_base_game,(uint)(iVar4 == 0));
  iVar4 = TButtonPanel::get_state(this->optionButton[2]);
  TRIBE_Game::setFullTechTree((TRIBE_Game *)rge_base_game,iVar4);
  lVar1 = TTextPanel::get_id((TTextPanel *)this->scenarioList);
  if (lVar1 == -1) {
    RVar8 = DefaultResources;
  }
  else {
    RVar8 = TDropDownPanel::get_id(this->resourcesDrop);
  }
  TRIBE_Game::setResourceLevel((TRIBE_Game *)rge_base_game,RVar8);
  iVar4 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if (iVar4 == 0) {
    lVar1 = TDropDownPanel::get_id(this->pathingDrop);
    RGE_Base_Game::setPathFinding(rge_base_game,(uchar)lVar1);
  }
  else {
    lVar1 = TDropDownPanel::get_id(this->pathingDrop);
    RGE_Base_Game::setMpPathFinding(rge_base_game,(uchar)lVar1);
  }
  iVar4 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if (iVar4 != 0) {
    lVar1 = TDropDownPanel::get_id(this->limitDrop);
    TRIBE_Game::setPopLimit((TRIBE_Game *)rge_base_game,(uchar)lVar1);
  }
  AVar7 = TDropDownPanel::get_id(this->ageDrop);
  TRIBE_Game::setStartingAge((TRIBE_Game *)rge_base_game,AVar7);
  lVar1 = TDropDownPanel::get_id(this->difficultyDrop);
  RGE_Base_Game::setDifficulty(rge_base_game,lVar1);
  iVar4 = RGE_Base_Game::singlePlayerGame(rge_base_game);
  if (iVar4 != 0) {
    lVar1 = TDropDownPanel::get_id(this->difficultyDrop);
    RGE_Base_Game::set_single_player_difficulty(rge_base_game,lVar1);
  }
  return;
}

// --------------------------------------------------

// Function: activatePanels
// Address: 004b6740
/* WARNING: Variable defined which should be unmapped: tabList */
/* protected: void __thiscall TribeGameSettingsScreen::activatePanels(void) */

void __thiscall TribeGameSettingsScreen::activatePanels(TribeGameSettingsScreen *this)
{
  TButtonPanel *pTVar1;
  long lVar2;
  int iVar3;
  TListPanel *pTVar4;
  uint uVar5;
  bool bVar6;
  TListPanel *apTStack_2c [4];
  uint uStack_1c;
  undefined4 uStack_18;
  TPanel *tabList [3];
  
  bVar6 = this->state != StateScenario;
  iVar3 = this->missionTitle->_padding_;
  if (bVar6) {
    uStack_18 = 0;
    uStack_1c = 0x4b6778;
    (**(code **)(iVar3 + 0x14))();
    iVar3 = this->missionText->_padding_;
  }
  else {
    uStack_18 = 1;
    uStack_1c = 0x4b6767;
    (**(code **)(iVar3 + 0x14))();
    iVar3 = this->missionText->_padding_;
  }
  uStack_1c = (uint)!bVar6;
  apTStack_2c[3] = (TListPanel *)0x4b6785;
  (**(code **)(iVar3 + 0x14))();
  pTVar4 = (TListPanel *)(uint)bVar6;
  apTStack_2c[2] = (TListPanel *)0x4b679a;
  apTStack_2c[3] = pTVar4;
  (**(code **)(this->mapSizeDrop->_padding_ + 0x14))();
  apTStack_2c[1] = (TListPanel *)0x4b67a6;
  apTStack_2c[2] = pTVar4;
  (**(code **)(this->mapTypeDrop->_padding_ + 0x14))();
  apTStack_2c[0] = (TListPanel *)0x4b67b2;
  apTStack_2c[1] = pTVar4;
  (**(code **)(this->mapSizeLabel->_padding_ + 0x14))();
  apTStack_2c[0] = pTVar4;
  (**(code **)(this->mapTypeLabel->_padding_ + 0x14))();
  lVar2 = TTextPanel::get_id((TTextPanel *)this->scenarioList);
  iVar3 = this->resourcesDrop->_padding_;
  if (lVar2 != -1) {
    (**(code **)(iVar3 + 0x14))(1);
    iVar3 = this->resourcesLabel->_padding_;
  }
  else {
    (**(code **)(iVar3 + 0x14))(0);
    iVar3 = this->resourcesLabel->_padding_;
  }
  (**(code **)(iVar3 + 0x14))(lVar2 != -1);
  activateVictoryPanels(this);
  iVar3 = RGE_Base_Game::multiplayerGame(rge_base_game);
  if (iVar3 != 0) {
    apTStack_2c[0] = this->scenarioList;
  }
  uVar5 = (uint)(iVar3 != 0);
  pTVar1 = this->cancelButton;
  apTStack_2c[uVar5] = (TListPanel *)this->okButton;
  iVar3 = this->_padding_;
  apTStack_2c[uVar5 + 1] = (TListPanel *)pTVar1;
  (**(code **)(iVar3 + 200))(apTStack_2c,uVar5 + 2);
  if ((this->_padding_ == 0) || (*(int *)(this->_padding_ + 0x6c) == 0)) {
    TPanel::set_curr_child((TPanel *)this,(TPanel *)this->okButton);
  }
  return;
}

// --------------------------------------------------

// Function: activateVictoryPanels
// Address: 004b6870
/* protected: void __thiscall TribeGameSettingsScreen::activateVictoryPanels(void) */

void __thiscall TribeGameSettingsScreen::activateVictoryPanels(TribeGameSettingsScreen *this)
{
  long lVar1;
  long lVar2;
  
  (**(code **)(this->timeLabel->_padding_ + 0x14))(0);
  (**(code **)(this->timeDrop->_padding_ + 0x14))(0);
  (**(code **)(this->scoreLabel->_padding_ + 0x14))(0);
  (**(code **)(this->scoreDrop->_padding_ + 0x14))(0);
  if (this->state == StateScenario) {
    lVar1 = TTextPanel::get_line((TTextPanel *)this->scenarioList);
    lVar2 = TTextPanel::get_line((TTextPanel *)this->scenarioList);
    if (((this->scenariosLoaded != 0) && (-1 < lVar2)) &&
       (this->scenarioFixed[this->scenario_line_offset + lVar1] != 0)) {
      (**(code **)(this->victoryFixedText->_padding_ + 0x14))(1);
      (**(code **)(this->victoryTypeLabel->_padding_ + 0x14))(0);
      (**(code **)(this->victoryTypeDrop->_padding_ + 0x14))(0);
      return;
    }
  }
  (**(code **)(this->victoryFixedText->_padding_ + 0x14))(0);
  (**(code **)(this->victoryTypeLabel->_padding_ + 0x14))(1);
  (**(code **)(this->victoryTypeDrop->_padding_ + 0x14))(1);
  lVar1 = TDropDownPanel::get_id(this->victoryTypeDrop);
  if (lVar1 == 7) {
    (**(code **)(this->timeLabel->_padding_ + 0x14))(1);
    (**(code **)(this->timeDrop->_padding_ + 0x14))(1);
  }
  lVar1 = TDropDownPanel::get_id(this->victoryTypeDrop);
  if (lVar1 == 8) {
    (**(code **)(this->scoreLabel->_padding_ + 0x14))(1);
    (**(code **)(this->scoreDrop->_padding_ + 0x14))(1);
  }
  return;
}

// --------------------------------------------------

