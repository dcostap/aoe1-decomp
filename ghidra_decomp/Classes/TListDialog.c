// Class: TListDialog
// Size:  0x4AC
//
// VTable Layout:
// [00] `vector_deleting_destructor'
// [01] setup
// [02] set_rect
// [03] set_rect
// [04] set_color
// [05] set_active
// [06] set_positioning
// [07] set_fixed_position
// [08] set_redraw
// [09] set_overlapped_redraw
// [10] draw_setup
// [11] draw_finish
// [12] draw
// [13] draw_rect
// [14] draw_offset
// [15] draw_rect2
// [16] draw_offset2
// [17] paint
// [18] wnd_proc
// [19] handle_idle
// [20] handle_size
// [21] handle_paint
// [22] handle_key_down
// [23] handle_char
// [24] handle_command
// [25] handle_user_command
// [26] handle_timer_command
// [27] handle_scroll
// [28] handle_mouse_down
// [29] handle_mouse_move
// [30] handle_mouse_up
// [31] handle_mouse_dbl_click
// [32] mouse_move_action
// [33] mouse_left_down_action
// [34] mouse_left_hold_action
// [35] mouse_left_move_action
// [36] mouse_left_up_action
// [37] mouse_left_dbl_click_action
// [38] mouse_right_down_action
// [39] mouse_right_hold_action
// [40] mouse_right_move_action
// [41] mouse_right_up_action
// [42] mouse_right_dbl_click_action
// [43] key_down_action
// [44] char_action
// [45] action
// [46] get_true_render_rect
// [47] is_inside
// [48] set_focus
// [49] set_tab_order
// [50] set_tab_order
// [51] get_help_info
// [52] stop_sound_system
// [53] restart_sound_system
// [54] take_snapshot
// [55] handle_reactivate
// [56] draw_background
// [57] set_ideal_size
// [58] create_button
// [59] create_button
// [60] create_check_box
// [61] create_radio_button
// [62] create_text
// [63] create_text
// [64] create_text
// [65] create_input
// [66] create_edit
// [67] create_drop_down
// [68] create_list
// [69] create_scrollbar
// [70] create_auto_scrollbar
// [71] create_vert_slider
// [72] create_horz_slider
// [73] position_panel
// [74] setup
// [75] setup
// [76] get_list_id
// [77] get_list_name
// [78] `scalar_deleting_destructor'
// [79] setup
// [80] set_rect
// [81] set_rect
// [82] set_color
// [83] set_active
// [84] set_positioning
// [85] set_fixed_position
// [86] set_redraw
// [87] set_overlapped_redraw
// [88] draw_setup
// [89] draw_finish
// [90] draw
// [91] draw_rect
// [92] draw_offset
// [93] draw_rect2
// [94] draw_offset2
// [95] paint
// [96] wnd_proc
// [97] handle_idle
// [98] handle_size
// [99] handle_paint
// [100] handle_key_down
// [101] handle_char
// [102] handle_command
// [103] handle_user_command
// [104] handle_timer_command
// [105] handle_scroll
// [106] handle_mouse_down
// [107] handle_mouse_move
// [108] handle_mouse_up
// [109] handle_mouse_dbl_click
// [110] mouse_move_action
// [111] mouse_left_down_action
// [112] mouse_left_hold_action
// [113] mouse_left_move_action
// [114] mouse_left_up_action
// [115] mouse_left_dbl_click_action
// [116] mouse_right_down_action
// [117] mouse_right_hold_action
// [118] mouse_right_move_action
// [119] mouse_right_up_action
// [120] mouse_right_dbl_click_action
// [121] key_down_action
// [122] char_action
// [123] action
// [124] get_true_render_rect
// [125] is_inside
// [126] set_focus
// [127] set_tab_order
// [128] set_tab_order
// [129] get_help_info
// [130] stop_sound_system
// [131] restart_sound_system
// [132] take_snapshot
// [133] handle_reactivate
// [134] draw_background
// [135] set_ideal_size
// [136] create_button
// [137] create_button
// [138] create_check_box
// [139] create_radio_button
// [140] create_text
// [141] create_text
// [142] create_text
// [143] create_input
// [144] create_edit
// [145] create_drop_down
// [146] create_list
// [147] create_scrollbar
// [148] create_auto_scrollbar
// [149] create_vert_slider
// [150] create_horz_slider
// [151] position_panel
// [152] setup
// [153] setup
// [154] `scalar_deleting_destructor'
// [155] setup
// [156] set_rect
// [157] set_rect
// [158] set_color
// [159] set_active
// [160] set_positioning
// [161] set_fixed_position
// [162] set_redraw
// [163] set_overlapped_redraw
// [164] draw_setup
// [165] draw_finish
// [166] draw
// [167] draw_rect
// [168] draw_offset
// [169] draw_rect2
// [170] draw_offset2
// [171] paint
// [172] wnd_proc
// [173] handle_idle
// [174] handle_size
// [175] handle_paint
// [176] handle_key_down
// [177] handle_char
// [178] handle_command
// [179] handle_user_command
// [180] handle_timer_command
// [181] handle_scroll
// [182] handle_mouse_down
// [183] handle_mouse_move
// [184] handle_mouse_up
// [185] handle_mouse_dbl_click
// [186] mouse_move_action
// [187] mouse_left_down_action
// [188] mouse_left_hold_action
// [189] mouse_left_move_action
// [190] mouse_left_up_action
// [191] mouse_left_dbl_click_action
// [192] mouse_right_down_action
// [193] mouse_right_hold_action
// [194] mouse_right_move_action
// [195] mouse_right_up_action
// [196] mouse_right_dbl_click_action
// [197] key_down_action
// [198] char_action
// [199] action
// [200] get_true_render_rect
// [201] is_inside
// [202] set_focus
// [203] set_tab_order
// [204] set_tab_order
// [205] get_help_info
// [206] stop_sound_system
// [207] restart_sound_system
// [208] take_snapshot
// [209] handle_reactivate
// [210] draw_background
// [211] set_ideal_size
// [212] create_button
// [213] create_button
// [214] create_check_box
// [215] create_radio_button
// [216] create_text
// [217] create_text
// [218] create_text
// [219] create_input
// [220] create_edit
// [221] create_drop_down
// [222] create_list
// [223] create_scrollbar
// [224] create_auto_scrollbar
// [225] create_vert_slider
// [226] create_horz_slider
// [227] position_panel
// [228] setup
// [229] setup
// [230] `scalar_deleting_destructor'
// [231] setup
// [232] set_rect
// [233] set_rect
// [234] set_color
// [235] set_active
// [236] set_positioning
// [237] set_fixed_position
// [238] set_redraw
// [239] set_overlapped_redraw
// [240] draw_setup
// [241] draw_finish
// [242] draw
// [243] draw_rect
// [244] draw_offset
// [245] draw_rect2
// [246] draw_offset2
// [247] paint
// [248] wnd_proc
// [249] handle_idle
// [250] handle_size
// [251] handle_paint
// [252] handle_key_down
// [253] handle_char
// [254] handle_command
// [255] handle_user_command
// [256] handle_timer_command
// [257] handle_scroll
// [258] handle_mouse_down
// [259] handle_mouse_move
// [260] handle_mouse_up
// [261] handle_mouse_dbl_click
// [262] mouse_move_action
// [263] mouse_left_down_action
// [264] mouse_left_hold_action
// [265] mouse_left_move_action
// [266] mouse_left_up_action
// [267] mouse_left_dbl_click_action
// [268] mouse_right_down_action
// [269] mouse_right_hold_action
// [270] mouse_right_move_action
// [271] mouse_right_up_action
// [272] mouse_right_dbl_click_action
// [273] key_down_action
// [274] char_action
// [275] action
// [276] get_true_render_rect
// [277] is_inside
// [278] set_focus
// [279] set_tab_order
// [280] set_tab_order
// [281] get_help_info
// [282] stop_sound_system
// [283] restart_sound_system
// [284] take_snapshot
// [285] handle_reactivate
// [286] draw_background
// [287] set_ideal_size
// [288] create_button
// [289] create_button
// [290] create_check_box
// [291] create_radio_button
// [292] create_text
// [293] create_text
// [294] create_text
// [295] create_input
// [296] create_edit
// [297] create_drop_down
// [298] create_list
// [299] create_scrollbar
// [300] create_auto_scrollbar
// [301] create_vert_slider
// [302] create_horz_slider
// [303] position_panel
// [304] setup
// [305] setup
// [306] `scalar_deleting_destructor'
// [307] setup
// [308] set_rect
// [309] set_rect
// [310] set_color
// [311] set_active
// [312] set_positioning
// [313] set_fixed_position
// [314] set_redraw
// [315] set_overlapped_redraw
// [316] draw_setup
// [317] draw_finish
// [318] draw
// [319] draw_rect
// [320] draw_offset
// [321] draw_rect2
// [322] draw_offset2
// [323] paint
// [324] wnd_proc
// [325] handle_idle
// [326] handle_size
// [327] handle_paint
// [328] handle_key_down
// [329] handle_char
// [330] handle_command
// [331] handle_user_command
// [332] handle_timer_command
// [333] handle_scroll
// [334] handle_mouse_down
// [335] handle_mouse_move
// [336] handle_mouse_up
// [337] handle_mouse_dbl_click
// [338] mouse_move_action
// [339] mouse_left_down_action
// [340] mouse_left_hold_action
// [341] mouse_left_move_action
// [342] mouse_left_up_action
// [343] mouse_left_dbl_click_action
// [344] mouse_right_down_action
// [345] mouse_right_hold_action
// [346] mouse_right_move_action
// [347] mouse_right_up_action
// [348] mouse_right_dbl_click_action
// [349] key_down_action
// [350] char_action
// [351] action
// [352] get_true_render_rect
// [353] is_inside
// [354] set_focus
// [355] set_tab_order
// [356] set_tab_order
// [357] get_help_info
// [358] stop_sound_system
// [359] restart_sound_system
// [360] take_snapshot
// [361] handle_reactivate
// [362] draw_background
// [363] set_ideal_size
// [364] create_button
// [365] create_button
// [366] create_check_box
// [367] create_radio_button
// [368] create_text
// [369] create_text
// [370] create_text
// [371] create_input
// [372] create_edit
// [373] create_drop_down
// [374] create_list
// [375] create_scrollbar
// [376] create_auto_scrollbar
// [377] create_vert_slider
// [378] create_horz_slider
// [379] position_panel
// [380] setup
// [381] setup
// [382] `vector_deleting_destructor'
// [383] setup
// [384] set_rect
// [385] set_rect
// [386] set_color
// [387] set_active
// [388] set_positioning
// [389] set_fixed_position
// [390] set_redraw
// [391] set_overlapped_redraw
// [392] draw_setup
// [393] draw_finish
// [394] draw
// [395] draw_rect
// [396] draw_offset
// [397] draw_rect2
// [398] draw_offset2
// [399] paint
// [400] wnd_proc
// [401] handle_idle
// [402] handle_size
// [403] handle_paint
// [404] handle_key_down
// [405] handle_char
// [406] handle_command
// [407] handle_user_command
// [408] handle_timer_command
// [409] handle_scroll
// [410] handle_mouse_down
// [411] handle_mouse_move
// [412] handle_mouse_up
// [413] handle_mouse_dbl_click
// [414] mouse_move_action
// [415] mouse_left_down_action
// [416] mouse_left_hold_action
// [417] mouse_left_move_action
// [418] mouse_left_up_action
// [419] mouse_left_dbl_click_action
// [420] mouse_right_down_action
// [421] mouse_right_hold_action
// [422] mouse_right_move_action
// [423] mouse_right_up_action
// [424] mouse_right_dbl_click_action
// [425] key_down_action
// [426] char_action
// [427] action
// [428] get_true_render_rect
// [429] is_inside
// [430] set_focus
// [431] set_tab_order
// [432] set_tab_order
// [433] get_help_info
// [434] stop_sound_system
// [435] restart_sound_system
// [436] take_snapshot
// [437] handle_reactivate
// [438] draw_background
// [439] set_ideal_size
// [440] create_button
// [441] create_button
// [442] create_check_box
// [443] create_radio_button
// [444] create_text
// [445] create_text
// [446] create_text
// [447] create_input
// [448] create_edit
// [449] create_drop_down
// [450] create_list
// [451] create_scrollbar
// [452] create_auto_scrollbar
// [453] create_vert_slider
// [454] create_horz_slider
// [455] position_panel
// [456] setup
// [457] setup
// [458] `scalar_deleting_destructor'
// [459] recycle_in_to_game
// [460] recycle_out_of_game
// [461] draw
// [462] shadow_draw
// [463] normal_draw
// [464] draw_front_frame
// [465] draw_back_frame
// [466] draw_frame
// [467] update
// [468] check_damage_sprites
// [469] rehook
// [470] save
// [471] teleport
// [472] new_sprite
// [473] add_overlay_sprite
// [474] remove_overlay_sprite
// [475] change_ownership
// [476] modify
// [477] modify_delta
// [478] modify_percent
// [479] transform
// [480] copy_obj
// [481] set_object_state
// [482] remove_visible_resource
// [483] create_doppleganger_when_dying
// [484] destroy_obj
// [485] die_die_die
// [486] damage
// [487] calculateDamage
// [488] rotate
// [489] can_attack
// [490] set_attribute
// [491] set_attribute_amount
// [492] heal
// [493] heal
// [494] canRepair
// [495] notify_of_relation
// [496] do_command
// [497] move_to
// [498] work
// [499] stop
// [500] set_attack
// [501] play_command_sound
// [502] play_move_sound
// [503] new_angle
// [504] spawn_death_obj
// [505] get_command_master
// [506] set_being_worked_on
// [507] release_being_worked_on
// [508] is_moving
// [509] get_target_obj
// [510] enter_obj
// [511] exit_obj
// [512] explore_terrain
// [513] unexplore_terrain
// [514] get_los_table
// [515] inAttackRange
// [516] underAttack
// [517] setUnderAttack
// [518] calc_attack_modifier
// [519] getSpeed
// [520] getAngle
// [521] maximumSpeed
// [522] rateOfFire
// [523] damageCapability
// [524] damageCapability
// [525] weaponRange
// [526] minimumWeaponRange
// [527] passableTile
// [528] facetToNextWaypoint
// [529] currentTargetID
// [530] currentTargetX
// [531] currentTargetY
// [532] currentTargetZ
// [533] setWaitingToMove
// [534] waitingToMove
// [535] actionState
// [536] keepGatheringWhenObjectIsOut
// [537] produceWhenKilledBy
// [538] useSameZoneDropsite
// [539] logDebug
// [540] notify
// [541] attack
// [542] attack
// [543] moveTo
// [544] moveTo
// [545] moveTo
// [546] moveAwayFrom
// [547] hunt
// [548] gather
// [549] convert
// [550] repair
// [551] build
// [552] trade
// [553] explore
// [554] enter
// [555] unload
// [556] transport
// [557] stopAction
// [558] pause
// [559] canPath
// [560] canPath
// [561] canBidirectionPath
// [562] canPathWithObstructions
// [563] canPathWithAdditionalPassability
// [564] findFirstTerrainAlongExceptionPath
// [565] canLinePath
// [566] canLinePath
// [567] firstTileAlongLine
// [568] userDefinedWaypoint
// [569] addUserDefinedWaypoint
// [570] removeAllUserDefinedWaypoints
// [571] removeUserDefinedWaypoint
// [572] numberUserDefinedWaypoints
// [573] findAvoidancePath
// [574] get_action_checksum
// [575] get_waypoint_checksum
// [576] setup
// [577] setup
// [578] create_object_list
// [579] create_sprite_list
// [580] setup
// [581] recycle_in_to_game
// [582] validate
// [583] setup
//
// Member Layout:
// [0x490] TTextPanel * title
// [0x494] TListPanel * list
// [0x498] TScrollBarPanel * scroll_bar
// [0x49C] TButtonPanel * ok_btn
// [0x4A0] TButtonPanel * cancel_btn
// [0x4A4] short list_id
// [0x4A8] char * list_name
// ----------------------------------------------------------------

// Function: TListDialog
// Address: 0043ee70
TListDialog * __thiscall TListDialog::TListDialog(TListDialog *this,char *param_1)
{
  TDialogPanel::TDialogPanel((TDialogPanel *)this,param_1);
  this->list_id = -1;
  this->title = (TTextPanel *)0x0;
  this->list = (TListPanel *)0x0;
  this->scroll_bar = (TScrollBarPanel *)0x0;
  this->ok_btn = (TButtonPanel *)0x0;
  this->cancel_btn = (TButtonPanel *)0x0;
  this->list_name = (char *)0x0;
  this->_padding_ = (int)&_vftable_;
  return this;
}

// --------------------------------------------------

// Function: `vector_deleting_destructor'
// Address: 0043eec0
void * __thiscall TListDialog::_vector_deleting_destructor_(TListDialog *this,uint param_1)
{
  ~TListDialog(this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}

// --------------------------------------------------

// Function: ~TListDialog
// Address: 0043eee0
void __thiscall TListDialog::~TListDialog(TListDialog *this)
{
  undefined4 *unaff_FS_OFFSET;
  undefined4 uStack_c;
  code *pcStack_8;
  undefined4 local_4;
  
  pcStack_8 = FUN_0055d0e8;
  uStack_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &uStack_c;
  this->_padding_ = (int)&_vftable_;
  local_4 = 0;
  if (this->title != (TTextPanel *)0x0) {
    (**(code **)this->title->_padding_)(1);
  }
  if (this->list != (TListPanel *)0x0) {
    (**(code **)this->list->_padding_)(1);
  }
  if (this->scroll_bar != (TScrollBarPanel *)0x0) {
    (**(code **)this->scroll_bar->_padding_)(1);
  }
  if (this->ok_btn != (TButtonPanel *)0x0) {
    (**(code **)this->ok_btn->_padding_)(1);
  }
  if (this->cancel_btn != (TButtonPanel *)0x0) {
    (**(code **)this->cancel_btn->_padding_)(1);
  }
  local_4 = 0xffffffff;
  TDialogPanel::~TDialogPanel((TDialogPanel *)this);
  *unaff_FS_OFFSET = uStack_c;
  return;
}

// --------------------------------------------------

// Function: setup
// Address: 0043ef80
long __thiscall
TListDialog::setup(TListDialog *this,TPanel *param_1,char *param_2,long param_3,long param_4,
                  long param_5,long param_6,long param_7,long param_8,long param_9,char *param_10,
                  long param_11,long param_12,long param_13,long param_14,char **param_15,
                  short param_16,short param_17,long param_18,long param_19,long param_20,
                  long param_21,long param_22)
{
  TListPanel **ppTVar1;
  code *pcVar2;
  TButtonPanel *pTVar3;
  TDrawArea *pTVar4;
  int iVar5;
  undefined4 unaff_EBX;
  undefined4 unaff_EBP;
  undefined4 unaff_retaddr;
  TPanel *pTVar6;
  long lVar7;
  int iVar8;
  
  iVar8 = 1;
  pTVar6 = param_1;
  lVar7 = param_5;
  pTVar4 = TPanel::renderArea(param_1);
  iVar8 = TDialogPanel::setup((TDialogPanel *)this,pTVar4,pTVar6,param_4,lVar7,param_2,param_3,iVar8
                             );
  if (iVar8 == 0) {
    return 0;
  }
  if ((param_10 != (char *)0x0) && (*param_10 != '\0')) {
    iVar8 = (**(code **)(this->_padding_ + 0x100))
                      (this,&this->title,param_10,param_6,param_7,param_8,param_9,4,1,1,1);
    if (iVar8 == 0) {
      return 0;
    }
  }
  iVar8 = this->_padding_;
  ppTVar1 = &this->list;
  iVar5 = (**(code **)(iVar8 + 0x110))(this,ppTVar1,param_11,param_12,param_13,param_14,0xb);
  if (iVar5 == 0) {
    return 0;
  }
  iVar5 = (**(code **)(iVar8 + 0x118))(&this->scroll_bar,*ppTVar1,0x14);
  if (iVar5 == 0) {
    return 0;
  }
  if (param_5 != 0) {
    (**(code **)((*ppTVar1)->_padding_ + 0xe0))(param_5,param_6);
  }
  this->list_id = (short)param_7;
  TListPanel::scroll_cur_line(*ppTVar1,'\x01',(short)param_7,1);
  pcVar2 = *(code **)(iVar8 + 0xe8);
  iVar8 = (*pcVar2)(this,&this->ok_btn,0xfa1,0,param_8,param_10,param_11,param_12,0,0,0);
  if (iVar8 == 0) {
    return 0;
  }
  iVar8 = (*pcVar2)(this,&this->cancel_btn,0xfa2,0,unaff_EBP,unaff_EBX,unaff_retaddr,param_1,0,0,0);
  if (iVar8 == 0) {
    return 0;
  }
  pTVar3 = this->cancel_btn;
  pTVar3->hotkey = 0x1b;
  pTVar3->hotkey_shift = 0;
  TPanel::set_curr_child((TPanel *)this,(TPanel *)*ppTVar1);
  return 1;
}

// --------------------------------------------------

// Function: setup
// Address: 0043f130
long __thiscall
TListDialog::setup(TListDialog *this,TPanel *param_1,char *param_2,long param_3,long param_4,
                  long param_5,long param_6,long param_7,long param_8,long param_9,int param_10,
                  long param_11,long param_12,long param_13,long param_14,char **param_15,
                  short param_16,short param_17,long param_18,long param_19,long param_20,
                  long param_21,long param_22)
{
  long lVar1;
  char str [256];
  
  TPanel::get_string((TPanel *)this,param_10,str + 4,0x100);
  lVar1 = setup(this,param_1,param_2,param_3,param_4,param_5,param_6,param_7,param_8,param_9,str + 4
                ,param_11,param_12,param_13,param_14,param_15,param_16,param_17,param_18,param_19,
                param_20,param_21,param_22);
  return lVar1;
}

// --------------------------------------------------

// Function: key_down_action
// Address: 0043f210
long __thiscall
TListDialog::key_down_action
          (TListDialog *this,long param_1,short param_2,int param_3,int param_4,int param_5)
{
  return 0;
}

// --------------------------------------------------

// Function: action
// Address: 0043f220
long __thiscall
TListDialog::action(TListDialog *this,TPanel *param_1,long param_2,ulong param_3,ulong param_4)
{
  int iVar1;
  char *pcVar2;
  long lVar3;
  
  if (param_1 != (TPanel *)0x0) {
    if ((TButtonPanel *)param_1 == this->ok_btn) {
      if (param_2 == 1) {
        iVar1 = TTextPanel::currentLineNumber((TTextPanel *)this->list);
        this->list_id = (short)iVar1;
        pcVar2 = TTextPanel::currentLine((TTextPanel *)this->list);
        this->list_name = pcVar2;
        if ((int *)this->_padding_ != (int *)0x0) {
          (**(code **)(*(int *)this->_padding_ + 0xb4))(this,1,0,0);
          return 1;
        }
        return 1;
      }
    }
    else if ((TButtonPanel *)param_1 == this->cancel_btn) {
      if (param_2 == 1) {
        if ((int *)this->_padding_ == (int *)0x0) {
          return 1;
        }
        (**(code **)(*(int *)this->_padding_ + 0xb4))(this,2,0,0);
        return 1;
      }
    }
    else if (((TListPanel *)param_1 == this->list) && (param_2 == 3)) {
      iVar1 = TTextPanel::currentLineNumber((TTextPanel *)this->list);
      this->list_id = (short)iVar1;
      pcVar2 = TTextPanel::currentLine((TTextPanel *)this->list);
      this->list_name = pcVar2;
      if ((int *)this->_padding_ == (int *)0x0) {
        return 1;
      }
      (**(code **)(*(int *)this->_padding_ + 0xb4))(this,1,0,0);
      return 1;
    }
  }
  lVar3 = TEasy_Panel::action((TEasy_Panel *)this,param_1,param_2,param_3,param_4);
  return lVar3;
}

// --------------------------------------------------

// Function: get_list_id
// Address: 0043f320
short __thiscall TListDialog::get_list_id(TListDialog *this)
{
  return this->list_id;
}

// --------------------------------------------------

// Function: get_list_name
// Address: 0043f330
char * __thiscall TListDialog::get_list_name(TListDialog *this)
{
  return this->list_name;
}

// --------------------------------------------------

