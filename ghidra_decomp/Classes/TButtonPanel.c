// Class: TButtonPanel
// Size:  0x2B8
//
// VTable Layout:
// [00] `scalar_deleting_destructor'
// [01] setup
// [02] set_rect
// [03] set_rect
// [04] set_color
// [05] set_active
// [06] set_positioning
// [07] set_fixed_position
// [08] set_redraw
// [09] set_overlapped_redraw
// [10] draw_setup
// [11] draw_finish
// [12] draw
// [13] draw_rect
// [14] draw_offset
// [15] draw_rect2
// [16] draw_offset2
// [17] paint
// [18] wnd_proc
// [19] handle_idle
// [20] handle_size
// [21] handle_paint
// [22] handle_key_down
// [23] handle_char
// [24] handle_command
// [25] handle_user_command
// [26] handle_timer_command
// [27] handle_scroll
// [28] handle_mouse_down
// [29] handle_mouse_move
// [30] handle_mouse_up
// [31] handle_mouse_dbl_click
// [32] mouse_move_action
// [33] mouse_left_down_action
// [34] mouse_left_hold_action
// [35] mouse_left_move_action
// [36] mouse_left_up_action
// [37] mouse_left_dbl_click_action
// [38] mouse_right_down_action
// [39] mouse_right_hold_action
// [40] mouse_right_move_action
// [41] mouse_right_up_action
// [42] mouse_right_dbl_click_action
// [43] key_down_action
// [44] char_action
// [45] action
// [46] get_true_render_rect
// [47] is_inside
// [48] set_focus
// [49] set_tab_order
// [50] set_tab_order
// [51] get_help_info
// [52] stop_sound_system
// [53] restart_sound_system
// [54] take_snapshot
// [55] handle_reactivate
// [56] set_state
// [57] hit_button
// [58] `vector_deleting_destructor'
// [59] setup
// [60] set_rect
// [61] set_rect
// [62] set_color
// [63] set_active
// [64] set_positioning
// [65] set_fixed_position
// [66] set_redraw
// [67] set_overlapped_redraw
// [68] draw_setup
// [69] draw_finish
// [70] draw
// [71] draw_rect
// [72] draw_offset
// [73] draw_rect2
// [74] draw_offset2
// [75] paint
// [76] wnd_proc
// [77] handle_idle
// [78] handle_size
// [79] handle_paint
// [80] handle_key_down
// [81] handle_char
// [82] handle_command
// [83] handle_user_command
// [84] handle_timer_command
// [85] handle_scroll
// [86] handle_mouse_down
// [87] handle_mouse_move
// [88] handle_mouse_up
// [89] handle_mouse_dbl_click
// [90] mouse_move_action
// [91] mouse_left_down_action
// [92] mouse_left_hold_action
// [93] mouse_left_move_action
// [94] mouse_left_up_action
// [95] mouse_left_dbl_click_action
// [96] mouse_right_down_action
// [97] mouse_right_hold_action
// [98] mouse_right_move_action
// [99] mouse_right_up_action
// [100] mouse_right_dbl_click_action
// [101] key_down_action
// [102] char_action
// [103] action
// [104] get_true_render_rect
// [105] is_inside
// [106] set_focus
// [107] set_tab_order
// [108] set_tab_order
// [109] get_help_info
// [110] stop_sound_system
// [111] restart_sound_system
// [112] take_snapshot
// [113] handle_reactivate
// [114] draw_background
// [115] set_ideal_size
// [116] create_button
// [117] create_button
// [118] create_check_box
// [119] create_radio_button
// [120] create_text
// [121] create_text
// [122] create_text
// [123] create_input
// [124] create_edit
// [125] create_drop_down
// [126] create_list
// [127] create_scrollbar
// [128] create_auto_scrollbar
// [129] create_vert_slider
// [130] create_horz_slider
// [131] position_panel
// [132] setup
// [133] setup
// [134] `scalar_deleting_destructor'
// [135] setup
// [136] set_rect
// [137] set_rect
// [138] set_color
// [139] set_active
// [140] set_positioning
// [141] set_fixed_position
// [142] set_redraw
// [143] set_overlapped_redraw
// [144] draw_setup
// [145] draw_finish
// [146] draw
// [147] draw_rect
// [148] draw_offset
// [149] draw_rect2
// [150] draw_offset2
// [151] paint
// [152] wnd_proc
// [153] handle_idle
// [154] handle_size
// [155] handle_paint
// [156] handle_key_down
// [157] handle_char
// [158] handle_command
// [159] handle_user_command
// [160] handle_timer_command
// [161] handle_scroll
// [162] handle_mouse_down
// [163] handle_mouse_move
// [164] handle_mouse_up
// [165] handle_mouse_dbl_click
// [166] mouse_move_action
// [167] mouse_left_down_action
// [168] mouse_left_hold_action
// [169] mouse_left_move_action
// [170] mouse_left_up_action
// [171] mouse_left_dbl_click_action
// [172] mouse_right_down_action
// [173] mouse_right_hold_action
// [174] mouse_right_move_action
// [175] mouse_right_up_action
// [176] mouse_right_dbl_click_action
// [177] key_down_action
// [178] char_action
// [179] action
// [180] get_true_render_rect
// [181] is_inside
// [182] set_focus
// [183] set_tab_order
// [184] set_tab_order
// [185] get_help_info
// [186] stop_sound_system
// [187] restart_sound_system
// [188] take_snapshot
// [189] handle_reactivate
// [190] `vector_deleting_destructor'
// [191] setup
// [192] set_rect
// [193] set_rect
// [194] set_color
// [195] set_active
// [196] set_positioning
// [197] set_fixed_position
// [198] set_redraw
// [199] set_overlapped_redraw
// [200] draw_setup
// [201] draw_finish
// [202] draw
// [203] draw_rect
// [204] draw_offset
// [205] draw_rect2
// [206] draw_offset2
// [207] paint
// [208] wnd_proc
// [209] handle_idle
// [210] handle_size
// [211] handle_paint
// [212] handle_key_down
// [213] handle_char
// [214] handle_command
// [215] handle_user_command
// [216] handle_timer_command
// [217] handle_scroll
// [218] handle_mouse_down
// [219] handle_mouse_move
// [220] handle_mouse_up
// [221] handle_mouse_dbl_click
// [222] mouse_move_action
// [223] mouse_left_down_action
// [224] mouse_left_hold_action
// [225] mouse_left_move_action
// [226] mouse_left_up_action
// [227] mouse_left_dbl_click_action
// [228] mouse_right_down_action
// [229] mouse_right_hold_action
// [230] mouse_right_move_action
// [231] mouse_right_up_action
// [232] mouse_right_dbl_click_action
// [233] key_down_action
// [234] char_action
// [235] action
// [236] get_true_render_rect
// [237] is_inside
// [238] set_focus
// [239] set_tab_order
// [240] set_tab_order
// [241] get_help_info
// [242] stop_sound_system
// [243] restart_sound_system
// [244] take_snapshot
// [245] handle_reactivate
// [246] set_state
// [247] hit_button
// [248] `vector_deleting_destructor'
// [249] setup
// [250] set_rect
// [251] set_rect
// [252] set_color
// [253] set_active
// [254] set_positioning
// [255] set_fixed_position
// [256] set_redraw
// [257] set_overlapped_redraw
// [258] draw_setup
// [259] draw_finish
// [260] draw
// [261] draw_rect
// [262] draw_offset
// [263] draw_rect2
// [264] draw_offset2
// [265] paint
// [266] wnd_proc
// [267] handle_idle
// [268] handle_size
// [269] handle_paint
// [270] handle_key_down
// [271] handle_char
// [272] handle_command
// [273] handle_user_command
// [274] handle_timer_command
// [275] handle_scroll
// [276] handle_mouse_down
// [277] handle_mouse_move
// [278] handle_mouse_up
// [279] handle_mouse_dbl_click
// [280] mouse_move_action
// [281] mouse_left_down_action
// [282] mouse_left_hold_action
// [283] mouse_left_move_action
// [284] mouse_left_up_action
// [285] mouse_left_dbl_click_action
// [286] mouse_right_down_action
// [287] mouse_right_hold_action
// [288] mouse_right_move_action
// [289] mouse_right_up_action
// [290] mouse_right_dbl_click_action
// [291] key_down_action
// [292] char_action
// [293] action
// [294] get_true_render_rect
// [295] is_inside
// [296] set_focus
// [297] set_tab_order
// [298] set_tab_order
// [299] get_help_info
// [300] stop_sound_system
// [301] restart_sound_system
// [302] take_snapshot
// [303] handle_reactivate
// [304] `scalar_deleting_destructor'
// [305] setup
// [306] set_rect
// [307] set_rect
// [308] set_color
// [309] set_active
// [310] set_positioning
// [311] set_fixed_position
// [312] set_redraw
// [313] set_overlapped_redraw
// [314] draw_setup
// [315] draw_finish
// [316] draw
// [317] draw_rect
// [318] draw_offset
// [319] draw_rect2
// [320] draw_offset2
// [321] paint
// [322] wnd_proc
// [323] handle_idle
// [324] handle_size
// [325] handle_paint
// [326] handle_key_down
// [327] handle_char
// [328] handle_command
// [329] handle_user_command
// [330] handle_timer_command
// [331] handle_scroll
// [332] handle_mouse_down
// [333] handle_mouse_move
// [334] handle_mouse_up
// [335] handle_mouse_dbl_click
// [336] mouse_move_action
// [337] mouse_left_down_action
// [338] mouse_left_hold_action
// [339] mouse_left_move_action
// [340] mouse_left_up_action
// [341] mouse_left_dbl_click_action
// [342] mouse_right_down_action
// [343] mouse_right_hold_action
// [344] mouse_right_move_action
// [345] mouse_right_up_action
// [346] mouse_right_dbl_click_action
// [347] key_down_action
// [348] char_action
// [349] action
// [350] get_true_render_rect
// [351] is_inside
// [352] set_focus
// [353] set_tab_order
// [354] set_tab_order
// [355] get_help_info
// [356] stop_sound_system
// [357] restart_sound_system
// [358] take_snapshot
// [359] handle_reactivate
// [360] set_text
// [361] set_text
// [362] set_text
// [363] set_bevel_info
// [364] `vector_deleting_destructor'
// [365] setup
// [366] set_rect
// [367] set_rect
// [368] set_color
// [369] set_active
// [370] set_positioning
// [371] set_fixed_position
// [372] set_redraw
// [373] set_overlapped_redraw
// [374] draw_setup
// [375] draw_finish
// [376] draw
// [377] draw_rect
// [378] draw_offset
// [379] draw_rect2
// [380] draw_offset2
// [381] paint
// [382] wnd_proc
// [383] handle_idle
// [384] handle_size
// [385] handle_paint
// [386] handle_key_down
// [387] handle_char
// [388] handle_command
// [389] handle_user_command
// [390] handle_timer_command
// [391] handle_scroll
// [392] handle_mouse_down
// [393] handle_mouse_move
// [394] handle_mouse_up
// [395] handle_mouse_dbl_click
// [396] mouse_move_action
// [397] mouse_left_down_action
// [398] mouse_left_hold_action
// [399] mouse_left_move_action
// [400] mouse_left_up_action
// [401] mouse_left_dbl_click_action
// [402] mouse_right_down_action
// [403] mouse_right_hold_action
// [404] mouse_right_move_action
// [405] mouse_right_up_action
// [406] mouse_right_dbl_click_action
// [407] key_down_action
// [408] char_action
// [409] action
// [410] get_true_render_rect
// [411] is_inside
// [412] set_focus
// [413] set_tab_order
// [414] set_tab_order
// [415] get_help_info
// [416] stop_sound_system
// [417] restart_sound_system
// [418] take_snapshot
// [419] handle_reactivate
// [420] set_text
// [421] set_text
// [422] set_text
// [423] set_bevel_info
// [424] `scalar_deleting_destructor'
// [425] setup
// [426] set_rect
// [427] set_rect
// [428] set_color
// [429] set_active
// [430] set_positioning
// [431] set_fixed_position
// [432] set_redraw
// [433] set_overlapped_redraw
// [434] draw_setup
// [435] draw_finish
// [436] draw
// [437] draw_rect
// [438] draw_offset
// [439] draw_rect2
// [440] draw_offset2
// [441] paint
// [442] wnd_proc
// [443] handle_idle
// [444] handle_size
// [445] handle_paint
// [446] handle_key_down
// [447] handle_char
// [448] handle_command
// [449] handle_user_command
// [450] handle_timer_command
// [451] handle_scroll
// [452] handle_mouse_down
// [453] handle_mouse_move
// [454] handle_mouse_up
// [455] handle_mouse_dbl_click
// [456] mouse_move_action
// [457] mouse_left_down_action
// [458] mouse_left_hold_action
// [459] mouse_left_move_action
// [460] mouse_left_up_action
// [461] mouse_left_dbl_click_action
// [462] mouse_right_down_action
// [463] mouse_right_hold_action
// [464] mouse_right_move_action
// [465] mouse_right_up_action
// [466] mouse_right_dbl_click_action
// [467] key_down_action
// [468] char_action
// [469] action
// [470] get_true_render_rect
// [471] is_inside
// [472] set_focus
// [473] set_tab_order
// [474] set_tab_order
// [475] get_help_info
// [476] stop_sound_system
// [477] restart_sound_system
// [478] take_snapshot
// [479] handle_reactivate
// [480] set_font
//
// Member Layout:
// [0x0F4] long[9] id (sz: 0x24)
// [0x118] long[9] id2 (sz: 0x24)
// [0x13C] ButtonType buttonTypeValue
// [0x140] DrawType drawTypeValue
// [0x144] NotifyType notifyTypeValue
// [0x148] TDigital * sound
// [0x14C] TShape *[9] pic (sz: 0x24)
// [0x170] short[9] pic_index (sz: 0x12)
// [0x184] int auto_pic_pos
// [0x188] long pic_x
// [0x18C] long pic_y
// [0x190] int all_hot
// [0x194] int draw_reverse
// [0x198] char *[9] text1 (sz: 0x24)
// [0x1BC] char *[9] text2 (sz: 0x24)
// [0x1E0] long text_x
// [0x1E4] long text_y
// [0x1E8] void * font
// [0x1EC] long font_wid
// [0x1F0] long font_hgt
// [0x1F4] short num_states
// [0x1F6] short cur_state
// [0x1F8] int is_down
// [0x1FC] TButtonPanel * * radio_buttons
// [0x200] short num_radio_buttons
// [0x204] ulong button_down_time
// [0x208] ulong[9] text_color1 (sz: 0x24)
// [0x22C] ulong[9] text_color2 (sz: 0x24)
// [0x250] ulong[9] highlight_text_color1 (sz: 0x24)
// [0x274] ulong[9] highlight_text_color2 (sz: 0x24)
// [0x298] long hotkey
// [0x29C] int hotkey_shift
// [0x2A0] int bevel_type
// [0x2A4] uchar bevel_color1
// [0x2A5] uchar bevel_color2
// [0x2A6] uchar bevel_color3
// [0x2A7] uchar bevel_color4
// [0x2A8] uchar bevel_color5
// [0x2A9] uchar bevel_color6
// [0x2AC] long key_down
// [0x2B0] int disabled
// [0x2B4] int sound_number
// ----------------------------------------------------------------

// Function: TButtonPanel
// Address: 00471ec0
TButtonPanel * __thiscall TButtonPanel::TButtonPanel(TButtonPanel *this)
{
  long *plVar1;
  short *psVar2;
  int iVar3;
  
  TPanel::TPanel((TPanel *)this);
  this->buttonTypeValue = Normal;
  this->drawTypeValue = DrawClear;
  this->notifyTypeValue = NotifyAction;
  this->auto_pic_pos = 1;
  this->all_hot = 1;
  this->text_x = -1;
  this->text_y = -1;
  this->num_states = 1;
  this->bevel_type = 1;
  this->sound_number = -1;
  this->sound = (TDigital *)0x0;
  this->pic_x = 0;
  this->pic_y = 0;
  this->draw_reverse = 0;
  this->font = (void *)0x0;
  this->font_wid = 0;
  this->font_hgt = 0;
  this->cur_state = 0;
  this->is_down = 0;
  this->radio_buttons = (TButtonPanel **)0x0;
  this->num_radio_buttons = 0;
  this->button_down_time = 0;
  this->hotkey = 0;
  this->hotkey_shift = 0;
  this->bevel_color1 = '\0';
  this->bevel_color2 = '\0';
  this->bevel_color3 = '\0';
  this->bevel_color4 = '\0';
  this->bevel_color5 = '\0';
  this->bevel_color6 = '\0';
  this->key_down = 0;
  this->disabled = 0;
  this->_padding_ = (int)&_vftable_;
  *(undefined1 *)((int)&this->_padding_ + 2) = 3;
  psVar2 = this->pic_index;
  plVar1 = this->id2;
  iVar3 = 9;
  do {
    plVar1[-9] = 0;
    *plVar1 = 0;
    plVar1[0xd] = 0;
    *psVar2 = -1;
    plVar1[0x20] = 0;
    plVar1[0x29] = 0;
    plVar1[0x3c] = 0xffffff;
    plVar1[0x45] = 0;
    plVar1[0x4e] = 0xffff;
    plVar1[0x57] = 0;
    psVar2 = psVar2 + 1;
    plVar1 = plVar1 + 1;
    iVar3 = iVar3 + -1;
  } while (iVar3 != 0);
  return this;
}

// --------------------------------------------------

// Function: `scalar_deleting_destructor'
// Address: 00472010
void * __thiscall TButtonPanel::_scalar_deleting_destructor_(TButtonPanel *this,uint param_1)
{
  ~TButtonPanel(this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}

// --------------------------------------------------

// Function: ~TButtonPanel
// Address: 00472030
void __thiscall TButtonPanel::~TButtonPanel(TButtonPanel *this)
{
  int iVar1;
  char **ppcVar2;
  
  iVar1 = 9;
  this->_padding_ = (int)&_vftable_;
  ppcVar2 = this->text2;
  do {
    if (ppcVar2[-9] != (char *)0x0) {
      free(ppcVar2[-9]);
      ppcVar2[-9] = (char *)0x0;
    }
    if (*ppcVar2 != (char *)0x0) {
      free(*ppcVar2);
      *ppcVar2 = (char *)0x0;
    }
    ppcVar2 = ppcVar2 + 1;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  if (this->radio_buttons != (TButtonPanel **)0x0) {
    free(this->radio_buttons);
    this->radio_buttons = (TButtonPanel **)0x0;
  }
  TPanel::~TPanel((TPanel *)this);
  return;
}

// --------------------------------------------------

// Function: setup
// Address: 004720a0
long __thiscall
TButtonPanel::setup(TButtonPanel *this,TDrawArea *param_1,TPanel *param_2,long param_3,long param_4,
                   long param_5,long param_6,DrawType param_7,TDigital *param_8,NotifyType param_9,
                   long param_10)
{
  TPanel::setup((TPanel *)this,param_1,param_2,param_3,param_4,param_5,param_6,'\0');
  this->notifyTypeValue = param_9;
  this->drawTypeValue = param_7;
  set_sound(this,param_8);
  set_id(this,0,param_10,0);
  return 1;
}

// --------------------------------------------------

// Function: buttonType
// Address: 00472110
ButtonType __thiscall TButtonPanel::buttonType(TButtonPanel *this)
{
  return this->buttonTypeValue;
}

// --------------------------------------------------

// Function: drawType
// Address: 00472120
DrawType __thiscall TButtonPanel::drawType(TButtonPanel *this)
{
  return this->drawTypeValue;
}

// --------------------------------------------------

// Function: notifyType
// Address: 00472130
NotifyType __thiscall TButtonPanel::notifyType(TButtonPanel *this)
{
  return this->notifyTypeValue;
}

// --------------------------------------------------

// Function: setDrawType
// Address: 00472140
void __thiscall TButtonPanel::setDrawType(TButtonPanel *this,DrawType param_1)
{
  this->drawTypeValue = param_1;
  return;
}

// --------------------------------------------------

// Function: setButtonType
// Address: 00472150
void __thiscall TButtonPanel::setButtonType(TButtonPanel *this,ButtonType param_1)
{
  this->buttonTypeValue = param_1;
  return;
}

// --------------------------------------------------

// Function: set_picture_info
// Address: 00472160
void __thiscall
TButtonPanel::set_picture_info
          (TButtonPanel *this,TShape *param_1,short param_2,long param_3,long param_4,int param_5,
          int param_6)
{
  this->pic_x = param_3;
  this->pic_y = param_4;
  this->all_hot = param_5;
  this->auto_pic_pos = param_6;
  set_picture(this,0,param_1,param_2);
  return;
}

// --------------------------------------------------

// Function: set_text_info
// Address: 004721a0
void __thiscall
TButtonPanel::set_text_info
          (TButtonPanel *this,char *param_1,void *param_2,long param_3,long param_4,long param_5,
          long param_6)
{
  set_text_pos(this,param_5,param_6);
  set_text(this,0,param_1);
  set_font(this,param_2,param_3,param_4);
  return;
}

// --------------------------------------------------

// Function: set_text_info
// Address: 004721e0
void __thiscall
TButtonPanel::set_text_info
          (TButtonPanel *this,long param_1,void *param_2,long param_3,long param_4,long param_5,
          long param_6)
{
  set_text_pos(this,param_5,param_6);
  set_text(this,0,param_1);
  set_font(this,param_2,param_3,param_4);
  return;
}

// --------------------------------------------------

// Function: set_text_pos
// Address: 00472220
void __thiscall TButtonPanel::set_text_pos(TButtonPanel *this,long param_1,long param_2)
{
  this->text_x = param_1;
  this->text_y = param_2;
  (**(code **)(this->_padding_ + 0x20))(1);
  return;
}

// --------------------------------------------------

// Function: set_radio_info
// Address: 00472240
void __thiscall
TButtonPanel::set_radio_info(TButtonPanel *this,TButtonPanel **param_1,short param_2)
{
  TButtonPanel **ppTVar1;
  int iVar2;
  int iVar3;
  
  this->buttonTypeValue = Radio;
  if (this->radio_buttons != (TButtonPanel **)0x0) {
    free(this->radio_buttons);
    this->radio_buttons = (TButtonPanel **)0x0;
  }
  if (param_2 != 0) {
    iVar3 = (int)param_2;
    this->num_radio_buttons = param_2;
    ppTVar1 = (TButtonPanel **)calloc(iVar3,4);
    this->radio_buttons = ppTVar1;
    if (0 < param_2) {
      iVar2 = 0;
      do {
        *(undefined4 *)((int)this->radio_buttons + iVar2) = *(undefined4 *)((int)param_1 + iVar2);
        iVar2 = iVar2 + 4;
        iVar3 = iVar3 + -1;
      } while (iVar3 != 0);
    }
  }
  return;
}

// --------------------------------------------------

// Function: set_state_info
// Address: 004722c0
void __thiscall TButtonPanel::set_state_info(TButtonPanel *this,short param_1)
{
  this->buttonTypeValue = State;
  this->num_states = param_1;
  return;
}

// --------------------------------------------------

// Function: set_id
// Address: 004722e0
void __thiscall TButtonPanel::set_id(TButtonPanel *this,short param_1,long param_2,long param_3)
{
  this->id[param_1] = param_2;
  this->id2[param_1] = param_3;
  return;
}

// --------------------------------------------------

// Function: set_picture
// Address: 00472300
void __thiscall
TButtonPanel::set_picture(TButtonPanel *this,short param_1,TShape *param_2,short param_3)
{
  this->pic[param_1] = param_2;
  this->pic_index[param_1] = param_3;
  (**(code **)(this->_padding_ + 0x20))(1);
  return;
}

// --------------------------------------------------

// Function: set_text
// Address: 00472330
void __thiscall TButtonPanel::set_text(TButtonPanel *this,short param_1,char *param_2)
{
  char cVar1;
  int iVar2;
  char *pcVar3;
  short sVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  char *pcVar8;
  int iVar9;
  char *pcVar10;
  
  iVar7 = (int)param_1;
  if (this->text1[iVar7] != (char *)0x0) {
    free(this->text1[iVar7]);
    this->text1[iVar7] = (char *)0x0;
  }
  if (this->text2[iVar7] != (char *)0x0) {
    free(this->text2[iVar7]);
    this->text2[iVar7] = (char *)0x0;
  }
  if ((param_2 != (char *)0x0) && (*param_2 != '\0')) {
    iVar2 = strchr(param_2,10);
    if (iVar2 == 0) {
      iVar9 = -1;
      pcVar3 = param_2;
      do {
        if (iVar9 == 0) break;
        iVar9 = iVar9 + -1;
        cVar1 = *pcVar3;
        pcVar3 = pcVar3 + 1;
      } while (cVar1 != '\0');
      sVar4 = ~(ushort)iVar9 - 1;
    }
    else {
      sVar4 = (short)iVar2 - (short)param_2;
    }
    iVar9 = (int)sVar4;
    pcVar3 = (char *)calloc(iVar9 + 1,1);
    this->text1[iVar7] = pcVar3;
    if (pcVar3 != (char *)0x0) {
      strncpy(pcVar3,param_2,iVar9);
      this->text1[iVar7][iVar9] = '\0';
      if (iVar2 != 0) {
        uVar5 = 0xffffffff;
        pcVar3 = (char *)(iVar2 + 1);
        do {
          if (uVar5 == 0) break;
          uVar5 = uVar5 - 1;
          cVar1 = *pcVar3;
          pcVar3 = pcVar3 + 1;
        } while (cVar1 != '\0');
        pcVar3 = (char *)calloc(~uVar5,1);
        this->text2[iVar7] = pcVar3;
        if (pcVar3 != (char *)0x0) {
          uVar5 = 0xffffffff;
          pcVar8 = (char *)(iVar2 + 1);
          do {
            pcVar10 = pcVar8;
            if (uVar5 == 0) break;
            uVar5 = uVar5 - 1;
            pcVar10 = pcVar8 + 1;
            cVar1 = *pcVar8;
            pcVar8 = pcVar10;
          } while (cVar1 != '\0');
          uVar5 = ~uVar5;
          pcVar8 = pcVar10 + -uVar5;
          for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
            *(undefined4 *)pcVar3 = *(undefined4 *)pcVar8;
            pcVar8 = pcVar8 + 4;
            pcVar3 = pcVar3 + 4;
          }
          for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
            *pcVar3 = *pcVar8;
            pcVar8 = pcVar8 + 1;
            pcVar3 = pcVar3 + 1;
          }
        }
      }
    }
  }
  (**(code **)(this->_padding_ + 0x20))(1);
  return;
}

// --------------------------------------------------

// Function: set_text
// Address: 00472440
void __thiscall TButtonPanel::set_text(TButtonPanel *this,short param_1,char *param_2,char *param_3)
{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  char *pcVar6;
  
  iVar5 = (int)param_1;
  if (this->text1[iVar5] != (char *)0x0) {
    free(this->text1[iVar5]);
    this->text1[iVar5] = (char *)0x0;
  }
  if (this->text2[iVar5] != (char *)0x0) {
    free(this->text2[iVar5]);
    this->text2[iVar5] = (char *)0x0;
  }
  if ((param_2 != (char *)0x0) && (*param_2 != '\0')) {
    uVar3 = 0xffffffff;
    pcVar2 = param_2;
    do {
      if (uVar3 == 0) break;
      uVar3 = uVar3 - 1;
      cVar1 = *pcVar2;
      pcVar2 = pcVar2 + 1;
    } while (cVar1 != '\0');
    pcVar2 = (char *)calloc(~uVar3,1);
    this->text1[iVar5] = pcVar2;
    if (pcVar2 != (char *)0x0) {
      uVar3 = 0xffffffff;
      do {
        pcVar6 = param_2;
        if (uVar3 == 0) break;
        uVar3 = uVar3 - 1;
        pcVar6 = param_2 + 1;
        cVar1 = *param_2;
        param_2 = pcVar6;
      } while (cVar1 != '\0');
      uVar3 = ~uVar3;
      pcVar6 = pcVar6 + -uVar3;
      for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
        *(undefined4 *)pcVar2 = *(undefined4 *)pcVar6;
        pcVar6 = pcVar6 + 4;
        pcVar2 = pcVar2 + 4;
      }
      for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
        *pcVar2 = *pcVar6;
        pcVar6 = pcVar6 + 1;
        pcVar2 = pcVar2 + 1;
      }
      if ((param_3 != (char *)0x0) && (*param_3 != '\0')) {
        uVar3 = 0xffffffff;
        pcVar2 = param_3;
        do {
          if (uVar3 == 0) break;
          uVar3 = uVar3 - 1;
          cVar1 = *pcVar2;
          pcVar2 = pcVar2 + 1;
        } while (cVar1 != '\0');
        pcVar2 = (char *)calloc(~uVar3,1);
        this->text2[iVar5] = pcVar2;
        if (pcVar2 != (char *)0x0) {
          uVar3 = 0xffffffff;
          do {
            pcVar6 = param_3;
            if (uVar3 == 0) break;
            uVar3 = uVar3 - 1;
            pcVar6 = param_3 + 1;
            cVar1 = *param_3;
            param_3 = pcVar6;
          } while (cVar1 != '\0');
          uVar3 = ~uVar3;
          pcVar6 = pcVar6 + -uVar3;
          for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
            *(undefined4 *)pcVar2 = *(undefined4 *)pcVar6;
            pcVar6 = pcVar6 + 4;
            pcVar2 = pcVar2 + 4;
          }
          for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
            *pcVar2 = *pcVar6;
            pcVar6 = pcVar6 + 1;
            pcVar2 = pcVar2 + 1;
          }
        }
      }
    }
  }
  (**(code **)(this->_padding_ + 0x20))(1);
  return;
}

// --------------------------------------------------

// Function: set_text
// Address: 00472540
void __thiscall TButtonPanel::set_text(TButtonPanel *this,short param_1,long param_2)
{
  char str [256];
  
  TPanel::get_string((TPanel *)this,param_2,str + 4,0x100);
  set_text(this,param_1,str + 4);
  return;
}

// --------------------------------------------------

// Function: set_text
// Address: 00472580
void __thiscall TButtonPanel::set_text(TButtonPanel *this,short param_1,long param_2,long param_3)
{
  char str2 [256];
  char str1 [256];
  
  TPanel::get_string((TPanel *)this,param_2,str1 + 4,0x100);
  TPanel::get_string((TPanel *)this,param_3,str2 + 4,0x100);
  set_text(this,param_1,str1 + 4,str2 + 4);
  return;
}

// --------------------------------------------------

// Function: set_font
// Address: 004725f0
void __thiscall TButtonPanel::set_font(TButtonPanel *this,void *param_1,long param_2,long param_3)
{
  this->font = param_1;
  this->font_wid = param_2;
  this->font_hgt = param_3;
  (**(code **)(this->_padding_ + 0x20))(1);
  return;
}

// --------------------------------------------------

// Function: set_text_color
// Address: 00472620
void __thiscall
TButtonPanel::set_text_color(TButtonPanel *this,int param_1,ulong param_2,ulong param_3)
{
  if ((-1 < param_1) && (param_1 < 9)) {
    this->text_color1[param_1] = param_2;
    this->text_color2[param_1] = param_3;
    (**(code **)(this->_padding_ + 0x20))(1);
  }
  return;
}

// --------------------------------------------------

// Function: set_highlight_text_color
// Address: 00472650
void __thiscall
TButtonPanel::set_highlight_text_color(TButtonPanel *this,int param_1,ulong param_2,ulong param_3)
{
  if ((-1 < param_1) && (param_1 < 9)) {
    this->highlight_text_color1[param_1] = param_2;
    this->highlight_text_color2[param_1] = param_3;
    (**(code **)(this->_padding_ + 0x20))(1);
  }
  return;
}

// --------------------------------------------------

// Function: set_sound
// Address: 00472680
void __thiscall TButtonPanel::set_sound(TButtonPanel *this,TDigital *param_1)
{
  this->sound = param_1;
  return;
}

// --------------------------------------------------

// Function: set_radio_button
// Address: 00472690
void __thiscall TButtonPanel::set_radio_button(TButtonPanel *this)
{
  int iVar1;
  
  iVar1 = 0;
  if (0 < this->num_radio_buttons) {
    do {
      this->radio_buttons[iVar1]->is_down = 0;
      (**(code **)(this->radio_buttons[iVar1]->_padding_ + 0xe0))(0);
      iVar1 = iVar1 + 1;
    } while (iVar1 < this->num_radio_buttons);
  }
  if ((this->drawTypeValue == DrawTextA) || (this->drawTypeValue == DrawFillAndText)) {
    this->is_down = 1;
  }
  (**(code **)(this->_padding_ + 0xe0))(1);
  return;
}

// --------------------------------------------------

// Function: set_state
// Address: 00472700
void __thiscall TButtonPanel::set_state(TButtonPanel *this,short param_1)
{
  this->cur_state = param_1;
  (**(code **)(this->_padding_ + 0x20))(1);
  return;
}

// --------------------------------------------------

// Function: set_state_by_id
// Address: 00472720
void __thiscall TButtonPanel::set_state_by_id(TButtonPanel *this,long param_1)
{
  int iVar1;
  long *plVar2;
  
  iVar1 = 0;
  if (0 < this->num_states) {
    plVar2 = this->id;
    while (*plVar2 != param_1) {
      iVar1 = iVar1 + 1;
      plVar2 = plVar2 + 1;
      if (this->num_states <= iVar1) {
        return;
      }
    }
    this->cur_state = (short)iVar1;
    (**(code **)(this->_padding_ + 0x20))(1);
  }
  return;
}

// --------------------------------------------------

// Function: set_bevel_info
// Address: 00472760
void __thiscall
TButtonPanel::set_bevel_info
          (TButtonPanel *this,int param_1,int param_2,int param_3,int param_4,int param_5,
          int param_6,int param_7)
{
  this->bevel_type = param_1;
  this->bevel_color1 = (uchar)param_2;
  this->bevel_color2 = (uchar)param_3;
  this->bevel_color3 = (uchar)param_4;
  this->bevel_color4 = (uchar)param_5;
  this->bevel_color5 = (uchar)param_6;
  this->bevel_color6 = (uchar)param_7;
  return;
}

// --------------------------------------------------

// Function: set_disabled
// Address: 004727b0
void __thiscall TButtonPanel::set_disabled(TButtonPanel *this,int param_1)
{
  this->disabled = param_1;
  (**(code **)(this->_padding_ + 0x20))(1);
  if (this->disabled != 0) {
    this->_padding_ = 0;
    return;
  }
  this->_padding_ = 1;
  return;
}

// --------------------------------------------------

// Function: set_rect
// Address: 004727f0
void __thiscall
TButtonPanel::set_rect(TButtonPanel *this,long param_1,long param_2,long param_3,long param_4)
{
  TPanel::set_rect((TPanel *)this,param_1,param_2,param_3,param_4);
  return;
}

// --------------------------------------------------

// Function: get_state
// Address: 00472810
int __thiscall TButtonPanel::get_state(TButtonPanel *this)
{
  return (int)this->cur_state;
}

// --------------------------------------------------

// Function: get_id
// Address: 00472820
long __thiscall TButtonPanel::get_id(TButtonPanel *this)
{
  return this->id[this->cur_state];
}

// --------------------------------------------------

// Function: get_id2
// Address: 00472830
long __thiscall TButtonPanel::get_id2(TButtonPanel *this)
{
  return this->id2[this->cur_state];
}

// --------------------------------------------------

// Function: get_text
// Address: 00472840
int __thiscall
TButtonPanel::get_text(TButtonPanel *this,short param_1,char **param_2,char **param_3)
{
  if (param_1 == -1) {
    param_1 = this->cur_state;
  }
  *param_2 = this->text1[param_1];
  *param_3 = this->text2[param_1];
  return (uint)(*param_2 != (char *)0x0);
}

// --------------------------------------------------

// Function: get_text_color
// Address: 00472880
void __thiscall
TButtonPanel::get_text_color(TButtonPanel *this,short param_1,ulong *param_2,ulong *param_3)
{
  if (param_1 == -1) {
    param_1 = this->cur_state;
  }
  *param_2 = this->text_color1[param_1];
  *param_3 = this->text_color2[param_1];
  return;
}

// --------------------------------------------------

// Function: draw
// Address: 004728c0
// [HELPER] s_pnl_btn__draw2: "pnl_btn::draw2"
// [HELPER] s_pnl_btn__draw: "pnl_btn::draw"
void __thiscall TButtonPanel::draw(TButtonPanel *this)
{
  char cVar1;
  uchar uVar2;
  short sVar3;
  int *piVar4;
  DrawType DVar5;
  uchar *puVar6;
  long lVar7;
  void *pvVar8;
  int iVar9;
  long lVar10;
  int iVar11;
  uchar uVar12;
  char *pcVar13;
  int iVar14;
  int iVar15;
  code *pcVar16;
  undefined4 unaff_EDI;
  int iVar17;
  char *pcVar18;
  undefined4 uVar19;
  char *text;
  long y;
  long x;
  long calc_x;
  long x_max;
  long x_min;
  long y_max;
  long y_min;
  void *old_font;
  int iStack_10;
  tagSIZE text_size;
  
  if (((((TDrawArea *)this->_padding_ == (TDrawArea *)0x0) || (this->_padding_ == 0)) ||
      (this->_padding_ == 0)) || (this->drawTypeValue == DrawClear)) {
    this->_padding_ = 0;
    return;
  }
  if (this->drawTypeValue == DrawFillAndText) {
    TDrawArea::Clear((TDrawArea *)this->_padding_,(tagRECT *)&this->_padding_,
                     (uint)*(byte *)((int)&this->_padding_ + 3));
  }
  else {
    piVar4 = (int *)this->_padding_;
    if (piVar4 != (int *)0x0) {
      if ((this->bevel_type < 2) || (4 < this->bevel_type)) {
        if (piVar4[0x21] == 0) {
          (**(code **)(*piVar4 + 0x34))(&this->_padding_);
        }
      }
      else {
        (**(code **)(*piVar4 + 0x3c))(&this->_padding_);
      }
    }
  }
  iVar14 = this->_padding_;
  uVar19 = 0;
  text_size.cx = iVar14;
  (**(code **)(iVar14 + 0x28))(0);
  DVar5 = this->drawTypeValue;
  if ((((DVar5 == DrawPicture) || (DVar5 == DrawPictureAndText)) || (DVar5 == DrawBevelPicture)) &&
     (puVar6 = TDrawArea::Lock((TDrawArea *)this->_padding_,s_pnl_btn__draw,1),
     puVar6 != (uchar *)0x0)) {
    if (this->pic[this->cur_state] != (TShape *)0x0) {
      if (this->auto_pic_pos != 0) {
        TShape::shape_minmax
                  (this->pic[this->cur_state],&x_min,&y_min,&x_max,&y_max,
                   (int)this->pic_index[this->cur_state]);
        this->pic_x = (int)(short)(((short)(this->_padding_ / 2) -
                                   (short)(((x_max - x_min) + 1) / 2)) - (short)x_min);
        this->pic_y = (int)(short)(((short)(this->_padding_ / 2) -
                                   (short)(((y_max - y_min) + 1) / 2)) - (short)y_min);
      }
      lVar10 = this->pic_y + this->_padding_;
      lVar7 = this->pic_x + this->_padding_;
      if (this->draw_reverse == 0) {
        if (this->is_down != 0) {
LAB_00472a41:
          lVar7 = lVar7 + 1;
          lVar10 = lVar10 + -1;
        }
      }
      else if (this->is_down == 0) goto LAB_00472a41;
      TShape::shape_draw(this->pic[this->cur_state],(TDrawArea *)this->_padding_,lVar7,lVar10,
                         (int)this->pic_index[this->cur_state],'\0',(uchar *)0x0);
    }
    TDrawArea::Unlock((TDrawArea *)this->_padding_,s_pnl_btn__draw);
  }
  DVar5 = this->drawTypeValue;
  if ((((DVar5 == DrawTextA) || (DVar5 == DrawPictureAndText)) || (DVar5 == DrawFillAndText)) &&
     (pvVar8 = TDrawArea::GetDc((TDrawArea *)this->_padding_,s_pnl_btn__draw), pvVar8 != (void *)0x0
     )) {
    SelectClipRgn(pvVar8,this->_padding_);
    old_font = (void *)SelectObject(pvVar8,this->font);
    SetBkMode(pvVar8,1);
    iVar14 = this->text_x;
    if (iVar14 == -1) {
      iVar14 = this->_padding_ / 2;
    }
    iVar9 = this->text_y;
    if (iVar9 == -1) {
      iVar9 = this->_padding_ / 2;
    }
    pcVar13 = this->text1[this->cur_state];
    if (pcVar13 == (char *)0x0) {
      pcVar13 = this->text1[0];
    }
    if (pcVar13 != (char *)0x0) {
      iVar11 = -1;
      pcVar18 = pcVar13;
      do {
        if (iVar11 == 0) break;
        iVar11 = iVar11 + -1;
        cVar1 = *pcVar18;
        pcVar18 = pcVar18 + 1;
      } while (cVar1 != '\0');
      iVar11 = (int)(short)(~(ushort)iVar11 - 1);
      GetTextExtentPoint32A(pvVar8,pcVar13,iVar11,&text_size);
      iVar17 = (iVar14 - text_size.cx / 2) + this->_padding_;
      sVar3 = this->cur_state;
      if (this->text2[sVar3] == (char *)0x0) {
        iVar15 = this->font_hgt / 2;
      }
      else {
        iVar15 = this->font_hgt;
      }
      iVar15 = (iVar9 - iVar15) + this->_padding_;
      if (this->draw_reverse == 0) {
        if (this->is_down != 0) {
LAB_00472bbc:
          iVar17 = iVar17 + 1;
          iVar15 = iVar15 + -1;
        }
      }
      else if (this->is_down == 0) goto LAB_00472bbc;
      if (this->_padding_ == 0) {
        SetTextColor(pvVar8,this->text_color2[sVar3]);
        TextOutA(pvVar8,iVar17 + -1,iVar15 + 1,pcVar13,iVar11);
        SetTextColor(pvVar8,this->text_color1[this->cur_state]);
        TextOutA(pvVar8,iVar17,iVar15,pcVar13,iVar11);
        pcVar16 = TextOutA_exref;
      }
      else {
        SetTextColor(pvVar8,this->highlight_text_color2[sVar3]);
        TextOutA(pvVar8,iVar17 + -1,iVar15 + 1,pcVar13,iVar11);
        SetTextColor(pvVar8,this->highlight_text_color1[this->cur_state]);
        pcVar16 = TextOutA_exref;
        TextOutA(pvVar8,iVar17,iVar15,pcVar13,iVar11);
      }
      pcVar13 = this->text2[this->cur_state];
      if (pcVar13 == (char *)0x0) {
        pcVar13 = this->text2[0];
      }
      if (pcVar13 != (char *)0x0) {
        iVar11 = -1;
        pcVar18 = pcVar13;
        do {
          if (iVar11 == 0) break;
          iVar11 = iVar11 + -1;
          cVar1 = *pcVar18;
          pcVar18 = pcVar18 + 1;
        } while (cVar1 != '\0');
        iVar11 = (int)(short)(~(ushort)iVar11 - 1);
        GetTextExtentPoint32A(pvVar8,pcVar13,iVar11,&text_size);
        x = (iVar14 - text_size.cx / 2) + this->_padding_;
        y = iVar9 + this->_padding_;
        if (this->draw_reverse == 0) {
          if (this->is_down != 0) {
LAB_00472d03:
            x = x + 1;
            y = y + -1;
          }
        }
        else if (this->is_down == 0) goto LAB_00472d03;
        iVar14 = iVar11;
        if (this->_padding_ == 0) {
          SetTextColor(pvVar8,this->text_color2[this->cur_state]);
          (*pcVar16)(pvVar8,x + -1,y + 1,pcVar13,iVar11);
          SetTextColor(pvVar8,this->text_color1[this->cur_state]);
        }
        else {
          SetTextColor(pvVar8,this->highlight_text_color2[this->cur_state]);
          (*pcVar16)(pvVar8,x + -1,y + 1,pcVar13,iVar11);
          SetTextColor(pvVar8,this->highlight_text_color1[this->cur_state]);
        }
        (*pcVar16)(pvVar8,unaff_EDI,uVar19,iVar14,iVar11);
      }
    }
    SelectObject(pvVar8,old_font);
    SelectClipRgn(pvVar8,0);
    TDrawArea::ReleaseDc((TDrawArea *)this->_padding_,s_pnl_btn__draw);
    iVar14 = iStack_10;
  }
  DVar5 = this->drawTypeValue;
  if ((((DVar5 != DrawTextA) && (DVar5 != DrawPictureAndText)) &&
      ((DVar5 != DrawFillAndText && (DVar5 != DrawBevelPicture)))) ||
     (puVar6 = TDrawArea::Lock((TDrawArea *)this->_padding_,s_pnl_btn__draw2,1),
     puVar6 == (uchar *)0x0)) goto LAB_004730d9;
  if (this->disabled == 0) {
    if (this->draw_reverse == 0) {
      iVar9 = this->is_down;
    }
    else {
      iVar9 = this->is_down;
    }
    if (iVar9 == 0) {
      switch(this->bevel_type) {
      case 1:
        TDrawArea::DrawRect((TDrawArea *)this->_padding_,this->_padding_ + 1,this->_padding_ + 1,
                            this->_padding_ + -2 + this->_padding_,
                            this->_padding_ + -2 + this->_padding_,0xff);
        break;
      case 2:
        uVar2 = this->bevel_color1;
        iVar9 = this->_padding_;
        iVar11 = this->_padding_;
        uVar12 = this->bevel_color6;
        goto LAB_00473024;
      case 3:
        TDrawArea::DrawBevel21
                  ((TDrawArea *)this->_padding_,this->_padding_,this->_padding_,
                   this->_padding_ + -1 + this->_padding_,this->_padding_ + -1 + this->_padding_,
                   this->bevel_color6,this->bevel_color5,this->bevel_color2,this->bevel_color1);
        break;
      case 4:
        TDrawArea::DrawBevel32
                  ((TDrawArea *)this->_padding_,this->_padding_,this->_padding_,
                   this->_padding_ + -1 + this->_padding_,this->_padding_ + -1 + this->_padding_,
                   this->bevel_color6,this->bevel_color5,this->bevel_color4,this->bevel_color3,
                   this->bevel_color2,this->bevel_color1);
      }
    }
    else {
      switch(this->bevel_type) {
      case 1:
        TDrawArea::DrawVertLine
                  ((TDrawArea *)this->_padding_,this->_padding_ + -1 + this->_padding_,
                   this->_padding_ + 1,this->_padding_ + -1,'\0');
        TDrawArea::DrawHorzLine
                  ((TDrawArea *)this->_padding_,this->_padding_ + 1,
                   this->_padding_ + -1 + this->_padding_,this->_padding_ + -1,'\0');
        TDrawArea::DrawRect((TDrawArea *)this->_padding_,this->_padding_,this->_padding_,
                            this->_padding_ + -2 + this->_padding_,
                            this->_padding_ + -2 + this->_padding_,0xff);
        break;
      case 2:
        uVar2 = this->bevel_color6;
        iVar9 = this->_padding_;
        iVar11 = this->_padding_;
        uVar12 = this->bevel_color1;
LAB_00473024:
        TDrawArea::DrawBevel
                  ((TDrawArea *)this->_padding_,iVar11,iVar9,this->_padding_ + -1 + iVar11,
                   this->_padding_ + -1 + iVar9,uVar12,uVar2);
        break;
      case 3:
        TDrawArea::DrawBevel2
                  ((TDrawArea *)this->_padding_,this->_padding_,this->_padding_,
                   this->_padding_ + -1 + this->_padding_,this->_padding_ + -1 + this->_padding_,
                   this->bevel_color1,this->bevel_color2,this->bevel_color5,this->bevel_color6);
        break;
      case 4:
        TDrawArea::DrawBevel3
                  ((TDrawArea *)this->_padding_,this->_padding_,this->_padding_,
                   this->_padding_ + -1 + this->_padding_,this->_padding_ + -1 + this->_padding_,
                   this->bevel_color1,this->bevel_color2,this->bevel_color3,this->bevel_color4,
                   this->bevel_color5,this->bevel_color6);
      }
    }
  }
  else {
    TDrawArea::DrawRect((TDrawArea *)this->_padding_,this->_padding_,this->_padding_,
                        this->_padding_ + -1 + this->_padding_,
                        this->_padding_ + -1 + this->_padding_,this->bevel_color6);
    TDrawArea::DrawRect((TDrawArea *)this->_padding_,this->_padding_ + 1,this->_padding_ + 1,
                        this->_padding_ + -2 + this->_padding_,
                        this->_padding_ + -2 + this->_padding_,this->bevel_color1);
  }
  TDrawArea::Unlock((TDrawArea *)this->_padding_,s_pnl_btn__draw2);
LAB_004730d9:
  (**(code **)(iVar14 + 0x2c))();
  return;
}

// --------------------------------------------------

// Function: handle_mouse_down
// Address: 00473120
long __thiscall
TButtonPanel::handle_mouse_down
          (TButtonPanel *this,uchar param_1,long param_2,long param_3,int param_4,int param_5)
{
  int iVar1;
  long lVar2;
  uchar unaff_BL;
  
  if (this->_padding_ == 0) {
    return 0;
  }
  if (this->_padding_ != 0) {
    return 0;
  }
  iVar1 = (**(code **)(this->_padding_ + 0xe4))(param_2,param_3);
  if (iVar1 == 0) {
    return 0;
  }
  lVar2 = TPanel::handle_mouse_down((TPanel *)this,unaff_BL,param_2,param_3,param_2,param_3);
  return lVar2;
}

// --------------------------------------------------

// Function: mouse_left_dbl_click_action
// Address: 00473180
long __thiscall
TButtonPanel::mouse_left_dbl_click_action
          (TButtonPanel *this,long param_1,long param_2,int param_3,int param_4)
{
  return 0;
}

// --------------------------------------------------

// Function: mouse_left_down_action
// Address: 00473190
// [HELPER] s_C__msdev_work_age1_x1_Pnl_btn_cp: "C:\msdev\work\age1_x1\Pnl_btn.cpp"
long __thiscall
TButtonPanel::mouse_left_down_action
          (TButtonPanel *this,long param_1,long param_2,int param_3,int param_4)
{
  int iVar1;
  ulong uVar2;
  
  if (this->disabled != 0) {
    return 0;
  }
  if (this->sound != (TDigital *)0x0) {
    iVar1 = TDigital::is_playing(this->sound);
    if (iVar1 != 0) {
      TDigital::stop(this->sound);
    }
    TDigital::play(this->sound);
  }
  TPanel::capture_mouse((TPanel *)this);
  this->is_down = 1;
  uVar2 = debug_timeGetTime(s_C__msdev_work_age1_x1_Pnl_btn_cp,0x372);
  this->button_down_time = uVar2;
  (**(code **)(this->_padding_ + 0x20))(1);
  if ((int *)this->_padding_ != (int *)0x0) {
    (**(code **)(*(int *)this->_padding_ + 0xb4))
              (this,2,this->id[this->cur_state],this->id2[this->cur_state]);
  }
  return 1;
}

// --------------------------------------------------

// Function: mouse_left_move_action
// Address: 00473240
// [HELPER] s_C__msdev_work_age1_x1_Pnl_btn_cp: "C:\msdev\work\age1_x1\Pnl_btn.cpp"
long __thiscall
TButtonPanel::mouse_left_move_action
          (TButtonPanel *this,long param_1,long param_2,int param_3,int param_4)
{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  ulong uVar5;
  
  iVar1 = this->_padding_;
  iVar4 = (**(code **)(iVar1 + 0xbc))(param_1,param_2);
  uVar3 = (uint)(iVar4 != 0);
  if (this->is_down != uVar3) {
    this->is_down = uVar3;
    if (uVar3 != 0) {
      uVar5 = debug_timeGetTime(s_C__msdev_work_age1_x1_Pnl_btn_cp,0x389);
      this->button_down_time = uVar5;
    }
    (**(code **)(iVar1 + 0x20))(1);
    piVar2 = (int *)this->_padding_;
    if (this->is_down == 0) {
      if (piVar2 != (int *)0x0) {
        (**(code **)(*piVar2 + 0xb4))(this,3,this->id[this->cur_state],this->id2[this->cur_state]);
      }
    }
    else if (piVar2 != (int *)0x0) {
      (**(code **)(*piVar2 + 0xb4))(this,2,this->id[this->cur_state],this->id2[this->cur_state]);
      return 1;
    }
  }
  return 1;
}

// --------------------------------------------------

// Function: mouse_left_up_action
// Address: 00473310
long __thiscall
TButtonPanel::mouse_left_up_action
          (TButtonPanel *this,long param_1,long param_2,int param_3,int param_4)
{
  TPanel::release_mouse((TPanel *)this);
  if (this->is_down != 0) {
    if (this->buttonTypeValue != Radio) {
      this->is_down = 0;
    }
    (**(code **)(this->_padding_ + 0x20))(1);
    SendMessageA(*(undefined4 *)(this->_padding_ + 4),0xf,0,0);
    do_action(this);
    return 1;
  }
  if ((this->buttonTypeValue == Radio) && (this->cur_state == 1)) {
    this->is_down = 1;
    (**(code **)(this->_padding_ + 0x20))(1);
  }
  return 1;
}

// --------------------------------------------------

// Function: mouse_right_dbl_click_action
// Address: 00473390
long __thiscall
TButtonPanel::mouse_right_dbl_click_action
          (TButtonPanel *this,long param_1,long param_2,int param_3,int param_4)
{
  return 0;
}

// --------------------------------------------------

// Function: mouse_right_down_action
// Address: 004733a0
// [HELPER] s_C__msdev_work_age1_x1_Pnl_btn_cp: "C:\msdev\work\age1_x1\Pnl_btn.cpp"
long __thiscall
TButtonPanel::mouse_right_down_action
          (TButtonPanel *this,long param_1,long param_2,int param_3,int param_4)
{
  int iVar1;
  ulong uVar2;
  
  if (this->disabled != 0) {
    return 0;
  }
  if (this->sound != (TDigital *)0x0) {
    iVar1 = TDigital::is_playing(this->sound);
    if (iVar1 != 0) {
      TDigital::stop(this->sound);
    }
    TDigital::play(this->sound);
  }
  TPanel::capture_mouse((TPanel *)this);
  this->is_down = 1;
  uVar2 = debug_timeGetTime(s_C__msdev_work_age1_x1_Pnl_btn_cp,0x3cc);
  this->button_down_time = uVar2;
  (**(code **)(this->_padding_ + 0x20))(1);
  if ((int *)this->_padding_ != (int *)0x0) {
    (**(code **)(*(int *)this->_padding_ + 0xb4))
              (this,5,this->id[this->cur_state],this->id2[this->cur_state]);
  }
  return 1;
}

// --------------------------------------------------

// Function: mouse_right_move_action
// Address: 00473450
// [HELPER] s_C__msdev_work_age1_x1_Pnl_btn_cp: "C:\msdev\work\age1_x1\Pnl_btn.cpp"
long __thiscall
TButtonPanel::mouse_right_move_action
          (TButtonPanel *this,long param_1,long param_2,int param_3,int param_4)
{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  ulong uVar5;
  
  iVar1 = this->_padding_;
  iVar4 = (**(code **)(iVar1 + 0xbc))(param_1,param_2);
  uVar3 = (uint)(iVar4 != 0);
  if (this->is_down != uVar3) {
    this->is_down = uVar3;
    if (uVar3 != 0) {
      uVar5 = debug_timeGetTime(s_C__msdev_work_age1_x1_Pnl_btn_cp,0x3e3);
      this->button_down_time = uVar5;
    }
    (**(code **)(iVar1 + 0x20))(1);
    piVar2 = (int *)this->_padding_;
    if (this->is_down == 0) {
      if (piVar2 != (int *)0x0) {
        (**(code **)(*piVar2 + 0xb4))(this,6,this->id[this->cur_state],this->id2[this->cur_state]);
      }
    }
    else if (piVar2 != (int *)0x0) {
      (**(code **)(*piVar2 + 0xb4))(this,5,this->id[this->cur_state],this->id2[this->cur_state]);
      return 1;
    }
  }
  return 1;
}

// --------------------------------------------------

// Function: mouse_right_up_action
// Address: 00473520
long __thiscall
TButtonPanel::mouse_right_up_action
          (TButtonPanel *this,long param_1,long param_2,int param_3,int param_4)
{
  TPanel::release_mouse((TPanel *)this);
  if (this->is_down != 0) {
    if (this->buttonTypeValue != Radio) {
      this->is_down = 0;
    }
    (**(code **)(this->_padding_ + 0x20))(1);
    SendMessageA(*(undefined4 *)(this->_padding_ + 4),0xf,0,0);
    do_right_action(this,param_3);
    return 1;
  }
  if ((this->buttonTypeValue == Radio) && (this->cur_state == 1)) {
    this->is_down = 1;
    (**(code **)(this->_padding_ + 0x20))(1);
  }
  return 1;
}

// --------------------------------------------------

// Function: handle_key_down
// Address: 004735b0
// [HELPER] s_C__msdev_work_age1_x1_Pnl_btn_cp: "C:\msdev\work\age1_x1\Pnl_btn.cpp"
long __thiscall
TButtonPanel::handle_key_down
          (TButtonPanel *this,long param_1,short param_2,int param_3,int param_4,int param_5)
{
  int iVar1;
  ulong uVar2;
  long lVar3;
  
  if (((((this->_padding_ != 0) && (this->disabled == 0)) && (param_3 == 0)) &&
      (((param_4 == 0 && (this->hotkey != 0)) &&
       ((param_1 == this->hotkey && (this->key_down == 0)))))) &&
     ((this->hotkey_shift == 0 || (param_5 == this->hotkey_shift)))) {
    if (((this->_padding_ != 0) && ((TPanel *)this->_padding_ != (TPanel *)0x0)) &&
       (this->_padding_ == 0)) {
      TPanel::set_curr_child((TPanel *)this->_padding_,(TPanel *)this);
    }
    if (this->sound != (TDigital *)0x0) {
      iVar1 = TDigital::is_playing(this->sound);
      if (iVar1 != 0) {
        TDigital::stop(this->sound);
      }
      TDigital::play(this->sound);
    }
    this->key_down = param_1;
    this->is_down = 1;
    uVar2 = debug_timeGetTime(s_C__msdev_work_age1_x1_Pnl_btn_cp,0x421);
    this->button_down_time = uVar2;
    (**(code **)(this->_padding_ + 0x20))(1);
    if ((int *)this->_padding_ != (int *)0x0) {
      (**(code **)(*(int *)this->_padding_ + 0xb4))
                (this,2,this->id[this->cur_state],this->id2[this->cur_state]);
    }
    return 1;
  }
  lVar3 = TPanel::handle_key_down((TPanel *)this,param_1,param_2,param_3,param_4,param_5);
  return lVar3;
}

// --------------------------------------------------

// Function: key_down_action
// Address: 004736f0
// [HELPER] s_C__msdev_work_age1_x1_Pnl_btn_cp: "C:\msdev\work\age1_x1\Pnl_btn.cpp"
long __thiscall
TButtonPanel::key_down_action
          (TButtonPanel *this,long param_1,short param_2,int param_3,int param_4,int param_5)
{
  int iVar1;
  ulong uVar2;
  TPanel *this_00;
  TPanel *pTVar3;
  
  if (this->key_down == 0) {
    switch(param_1) {
    case 0xd:
    case 0x20:
      if (this->disabled != 0) {
        return 0;
      }
      if (param_3 != 0) {
        return 0;
      }
      if (param_4 != 0) {
        return 0;
      }
      if (this->sound != (TDigital *)0x0) {
        iVar1 = TDigital::is_playing(this->sound);
        if (iVar1 != 0) {
          TDigital::stop(this->sound);
        }
        TDigital::play(this->sound);
      }
      this->key_down = param_1;
      this->is_down = 1;
      uVar2 = debug_timeGetTime(s_C__msdev_work_age1_x1_Pnl_btn_cp,1099);
      this->button_down_time = uVar2;
      (**(code **)(this->_padding_ + 0x20))(1);
      if ((int *)this->_padding_ == (int *)0x0) {
        return 1;
      }
      (**(code **)(*(int *)this->_padding_ + 0xb4))
                (this,2,this->id[this->cur_state],this->id2[this->cur_state]);
      return 1;
    default:
      goto switchD_0047371a_caseD_e;
    case 0x26:
      if (param_3 != 0) {
        return 1;
      }
      if (param_4 != 0) {
        return 1;
      }
      if (this->_padding_ == 0) {
        return 1;
      }
      this_00 = (TPanel *)this->_padding_;
      if (this_00 == (TPanel *)0x0) {
        return 1;
      }
      pTVar3 = (TPanel *)this->_padding_;
      break;
    case 0x28:
      if (param_3 != 0) {
        return 1;
      }
      if (param_4 != 0) {
        return 1;
      }
      if (this->_padding_ == 0) {
        return 1;
      }
      this_00 = (TPanel *)this->_padding_;
      if (this_00 == (TPanel *)0x0) {
        return 1;
      }
      pTVar3 = (TPanel *)this->_padding_;
    }
    if (pTVar3 == (TPanel *)0x0) {
      return 1;
    }
    TPanel::set_curr_child(this_00,pTVar3);
    return 1;
  }
switchD_0047371a_caseD_e:
  return 0;
}

// --------------------------------------------------

// Function: wnd_proc
// Address: 00473890
long __thiscall
TButtonPanel::wnd_proc(TButtonPanel *this,void *param_1,uint param_2,uint param_3,long param_4)
{
  long lVar1;
  
  if (((param_2 == 0x101) && (this->key_down != 0)) && (param_3 == this->key_down)) {
    this->key_down = 0;
    if (this->buttonTypeValue != Radio) {
      this->is_down = 0;
    }
    (**(code **)(this->_padding_ + 0x20))(1);
    SendMessageA(*(undefined4 *)(this->_padding_ + 4),0xf,0,0);
    do_action(this);
    return 1;
  }
  lVar1 = TPanel::wnd_proc((TPanel *)this,param_1,param_2,param_3,param_4);
  return lVar1;
}

// --------------------------------------------------

// Function: char_action
// Address: 00473920
long __thiscall TButtonPanel::char_action(TButtonPanel *this,long param_1,short param_2)
{
  return 0;
}

// --------------------------------------------------

// Function: hit_button
// Address: 00473930
int __thiscall TButtonPanel::hit_button(TButtonPanel *this,long param_1,long param_2)
{
  uchar uVar1;
  int iVar2;
  
  iVar2 = (**(code **)(this->_padding_ + 0xbc))(param_1,param_2);
  if (iVar2 == 0) {
    return 0;
  }
  if (this->all_hot == 0) {
    if (this->pic[this->cur_state] != (TShape *)0x0) {
      uVar1 = TShape::shape_check(this->pic[this->cur_state],
                                  (param_1 - this->pic_x) - this->_padding_,
                                  (param_2 - this->pic_y) - this->_padding_,
                                  (int)this->pic_index[this->cur_state]);
      return (uint)(uVar1 != '\0');
    }
  }
  return 1;
}

// --------------------------------------------------

// Function: do_action
// Address: 004739b0
void __thiscall TButtonPanel::do_action(TButtonPanel *this)
{
  short sVar1;
  
  if (this->buttonTypeValue == State) {
    if ((int)this->cur_state == this->num_states + -1) {
      (**(code **)(this->_padding_ + 0xe0))(0);
    }
    else {
      (**(code **)(this->_padding_ + 0xe0))((ushort)this->cur_state + 1);
    }
  }
  else if (this->buttonTypeValue == Radio) {
    set_radio_button(this);
  }
  if ((int *)this->_padding_ != (int *)0x0) {
    (**(code **)(*(int *)this->_padding_ + 0xb4))
              (this,3,this->id[this->cur_state],this->id2[this->cur_state]);
  }
  if (this->notifyTypeValue == NotifyAction) {
    if ((int *)this->_padding_ != (int *)0x0) {
      (**(code **)(*(int *)this->_padding_ + 0xb4))
                (this,1,this->id[this->cur_state],this->id2[this->cur_state]);
      return;
    }
  }
  else {
    sVar1 = this->cur_state;
    if ((this->id[sVar1] != 0) || (this->id2[sVar1] != 0)) {
      SendMessageA(*(undefined4 *)(this->_padding_ + 4),0x111,this->id[sVar1],this->id2[sVar1]);
    }
  }
  return;
}

// --------------------------------------------------

// Function: do_right_action
// Address: 00473aa0
void __thiscall TButtonPanel::do_right_action(TButtonPanel *this,int param_1)
{
  long lVar1;
  long lVar2;
  
  if (this->buttonTypeValue == State) {
    if ((int)this->cur_state == this->num_states + -1) {
      (**(code **)(this->_padding_ + 0xe0))(0);
    }
    else {
      (**(code **)(this->_padding_ + 0xe0))((ushort)this->cur_state + 1);
    }
  }
  else if (this->buttonTypeValue == Radio) {
    set_radio_button(this);
  }
  lVar1 = this->id[this->cur_state];
  lVar2 = this->id2[this->cur_state];
  if ((int *)this->_padding_ != (int *)0x0) {
    (**(code **)(*(int *)this->_padding_ + 0xb4))(this,6,lVar1,lVar2);
  }
  if (this->notifyTypeValue == NotifyAction) {
    if ((int *)this->_padding_ != (int *)0x0) {
      (**(code **)(*(int *)this->_padding_ + 0xb4))(this,4,lVar1,lVar2);
      return;
    }
  }
  else if ((this->id[this->cur_state] != 0) || (this->id2[this->cur_state] != 0)) {
    SendMessageA(*(undefined4 *)(this->_padding_ + 4),0x111,lVar1,lVar2);
  }
  return;
}

// --------------------------------------------------

// Function: reset
// Address: 00473b80
void __thiscall TButtonPanel::reset(TButtonPanel *this)
{
  TPanel::release_mouse((TPanel *)this);
  if (this->is_down != 0) {
    if (this->buttonTypeValue != Radio) {
      this->is_down = 0;
    }
    (**(code **)(this->_padding_ + 0x20))(1);
  }
  return;
}

// --------------------------------------------------

// Function: set_sound_number
// Address: 00473bb0
void __thiscall TButtonPanel::set_sound_number(TButtonPanel *this,int param_1)
{
  this->sound_number = param_1;
  return;
}

// --------------------------------------------------

// Function: stop_sound_system
// Address: 00473bc0
void __thiscall TButtonPanel::stop_sound_system(TButtonPanel *this)
{
  if (this->sound != (TDigital *)0x0) {
    this->sound = (TDigital *)0x0;
  }
  return;
}

// --------------------------------------------------

// Function: restart_sound_system
// Address: 00473be0
int __thiscall TButtonPanel::restart_sound_system(TButtonPanel *this)
{
  TDigital *pTVar1;
  
  if (this->sound_number != -1) {
    pTVar1 = RGE_Base_Game::get_sound(rge_base_game,this->sound_number);
    this->sound = pTVar1;
  }
  return 1;
}

// --------------------------------------------------

