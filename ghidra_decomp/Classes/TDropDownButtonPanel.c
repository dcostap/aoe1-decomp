// Class: TDropDownButtonPanel
// Size:  0x2BC
//
// VTable Layout:
// [00] `vector_deleting_destructor'
// [01] setup
// [02] set_rect
// [03] set_rect
// [04] set_color
// [05] set_active
// [06] set_positioning
// [07] set_fixed_position
// [08] set_redraw
// [09] set_overlapped_redraw
// [10] draw_setup
// [11] draw_finish
// [12] draw
// [13] draw_rect
// [14] draw_offset
// [15] draw_rect2
// [16] draw_offset2
// [17] paint
// [18] wnd_proc
// [19] handle_idle
// [20] handle_size
// [21] handle_paint
// [22] handle_key_down
// [23] handle_char
// [24] handle_command
// [25] handle_user_command
// [26] handle_timer_command
// [27] handle_scroll
// [28] handle_mouse_down
// [29] handle_mouse_move
// [30] handle_mouse_up
// [31] handle_mouse_dbl_click
// [32] mouse_move_action
// [33] mouse_left_down_action
// [34] mouse_left_hold_action
// [35] mouse_left_move_action
// [36] mouse_left_up_action
// [37] mouse_left_dbl_click_action
// [38] mouse_right_down_action
// [39] mouse_right_hold_action
// [40] mouse_right_move_action
// [41] mouse_right_up_action
// [42] mouse_right_dbl_click_action
// [43] key_down_action
// [44] char_action
// [45] action
// [46] get_true_render_rect
// [47] is_inside
// [48] set_focus
// [49] set_tab_order
// [50] set_tab_order
// [51] get_help_info
// [52] stop_sound_system
// [53] restart_sound_system
// [54] take_snapshot
// [55] handle_reactivate
// [56] set_state
// [57] hit_button
// [58] `vector_deleting_destructor'
// [59] setup
// [60] set_rect
// [61] set_rect
// [62] set_color
// [63] set_active
// [64] set_positioning
// [65] set_fixed_position
// [66] set_redraw
// [67] set_overlapped_redraw
// [68] draw_setup
// [69] draw_finish
// [70] draw
// [71] draw_rect
// [72] draw_offset
// [73] draw_rect2
// [74] draw_offset2
// [75] paint
// [76] wnd_proc
// [77] handle_idle
// [78] handle_size
// [79] handle_paint
// [80] handle_key_down
// [81] handle_char
// [82] handle_command
// [83] handle_user_command
// [84] handle_timer_command
// [85] handle_scroll
// [86] handle_mouse_down
// [87] handle_mouse_move
// [88] handle_mouse_up
// [89] handle_mouse_dbl_click
// [90] mouse_move_action
// [91] mouse_left_down_action
// [92] mouse_left_hold_action
// [93] mouse_left_move_action
// [94] mouse_left_up_action
// [95] mouse_left_dbl_click_action
// [96] mouse_right_down_action
// [97] mouse_right_hold_action
// [98] mouse_right_move_action
// [99] mouse_right_up_action
// [100] mouse_right_dbl_click_action
// [101] key_down_action
// [102] char_action
// [103] action
// [104] get_true_render_rect
// [105] is_inside
// [106] set_focus
// [107] set_tab_order
// [108] set_tab_order
// [109] get_help_info
// [110] stop_sound_system
// [111] restart_sound_system
// [112] take_snapshot
// [113] handle_reactivate
// [114] `scalar_deleting_destructor'
// [115] setup
// [116] set_rect
// [117] set_rect
// [118] set_color
// [119] set_active
// [120] set_positioning
// [121] set_fixed_position
// [122] set_redraw
// [123] set_overlapped_redraw
// [124] draw_setup
// [125] draw_finish
// [126] draw
// [127] draw_rect
// [128] draw_offset
// [129] draw_rect2
// [130] draw_offset2
// [131] paint
// [132] wnd_proc
// [133] handle_idle
// [134] handle_size
// [135] handle_paint
// [136] handle_key_down
// [137] handle_char
// [138] handle_command
// [139] handle_user_command
// [140] handle_timer_command
// [141] handle_scroll
// [142] handle_mouse_down
// [143] handle_mouse_move
// [144] handle_mouse_up
// [145] handle_mouse_dbl_click
// [146] mouse_move_action
// [147] mouse_left_down_action
// [148] mouse_left_hold_action
// [149] mouse_left_move_action
// [150] mouse_left_up_action
// [151] mouse_left_dbl_click_action
// [152] mouse_right_down_action
// [153] mouse_right_hold_action
// [154] mouse_right_move_action
// [155] mouse_right_up_action
// [156] mouse_right_dbl_click_action
// [157] key_down_action
// [158] char_action
// [159] action
// [160] get_true_render_rect
// [161] is_inside
// [162] set_focus
// [163] set_tab_order
// [164] set_tab_order
// [165] get_help_info
// [166] stop_sound_system
// [167] restart_sound_system
// [168] take_snapshot
// [169] handle_reactivate
// [170] set_text
// [171] set_text
// [172] set_text
// [173] set_bevel_info
// [174] `vector_deleting_destructor'
// [175] setup
// [176] set_rect
// [177] set_rect
// [178] set_color
// [179] set_active
// [180] set_positioning
// [181] set_fixed_position
// [182] set_redraw
// [183] set_overlapped_redraw
// [184] draw_setup
// [185] draw_finish
// [186] draw
// [187] draw_rect
// [188] draw_offset
// [189] draw_rect2
// [190] draw_offset2
// [191] paint
// [192] wnd_proc
// [193] handle_idle
// [194] handle_size
// [195] handle_paint
// [196] handle_key_down
// [197] handle_char
// [198] handle_command
// [199] handle_user_command
// [200] handle_timer_command
// [201] handle_scroll
// [202] handle_mouse_down
// [203] handle_mouse_move
// [204] handle_mouse_up
// [205] handle_mouse_dbl_click
// [206] mouse_move_action
// [207] mouse_left_down_action
// [208] mouse_left_hold_action
// [209] mouse_left_move_action
// [210] mouse_left_up_action
// [211] mouse_left_dbl_click_action
// [212] mouse_right_down_action
// [213] mouse_right_hold_action
// [214] mouse_right_move_action
// [215] mouse_right_up_action
// [216] mouse_right_dbl_click_action
// [217] key_down_action
// [218] char_action
// [219] action
// [220] get_true_render_rect
// [221] is_inside
// [222] set_focus
// [223] set_tab_order
// [224] set_tab_order
// [225] get_help_info
// [226] stop_sound_system
// [227] restart_sound_system
// [228] take_snapshot
// [229] handle_reactivate
// [230] set_text
// [231] set_text
// [232] set_text
// [233] set_bevel_info
// [234] `scalar_deleting_destructor'
// [235] setup
// [236] set_rect
// [237] set_rect
// [238] set_color
// [239] set_active
// [240] set_positioning
// [241] set_fixed_position
// [242] set_redraw
// [243] set_overlapped_redraw
// [244] draw_setup
// [245] draw_finish
// [246] draw
// [247] draw_rect
// [248] draw_offset
// [249] draw_rect2
// [250] draw_offset2
// [251] paint
// [252] wnd_proc
// [253] handle_idle
// [254] handle_size
// [255] handle_paint
// [256] handle_key_down
// [257] handle_char
// [258] handle_command
// [259] handle_user_command
// [260] handle_timer_command
// [261] handle_scroll
// [262] handle_mouse_down
// [263] handle_mouse_move
// [264] handle_mouse_up
// [265] handle_mouse_dbl_click
// [266] mouse_move_action
// [267] mouse_left_down_action
// [268] mouse_left_hold_action
// [269] mouse_left_move_action
// [270] mouse_left_up_action
// [271] mouse_left_dbl_click_action
// [272] mouse_right_down_action
// [273] mouse_right_hold_action
// [274] mouse_right_move_action
// [275] mouse_right_up_action
// [276] mouse_right_dbl_click_action
// [277] key_down_action
// [278] char_action
// [279] action
// [280] get_true_render_rect
// [281] is_inside
// [282] set_focus
// [283] set_tab_order
// [284] set_tab_order
// [285] get_help_info
// [286] stop_sound_system
// [287] restart_sound_system
// [288] take_snapshot
// [289] handle_reactivate
// [290] set_font
//
// Member Layout:
// [0x2B8] TDropDownPanel * drop_down_panel
// ----------------------------------------------------------------

// Function: TDropDownButtonPanel
// Address: 00475470
TDropDownButtonPanel * __thiscall
TDropDownButtonPanel::TDropDownButtonPanel(TDropDownButtonPanel *this,TDropDownPanel *param_1)
{
  TButtonPanel::TButtonPanel((TButtonPanel *)this);
  this->_padding_ = (int)&_vftable_;
  this->drop_down_panel = param_1;
  return this;
}

// --------------------------------------------------

// Function: `vector_deleting_destructor'
// Address: 00475490
void * __thiscall
TDropDownButtonPanel::_vector_deleting_destructor_(TDropDownButtonPanel *this,uint param_1)
{
  ~TDropDownButtonPanel(this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}

// --------------------------------------------------

// Function: ~TDropDownButtonPanel
// Address: 004754b0
void __thiscall TDropDownButtonPanel::~TDropDownButtonPanel(TDropDownButtonPanel *this)
{
  int iVar1;
  int *piVar2;
  
  iVar1 = 9;
  this->_padding_ = (int)&TButtonPanel::_vftable_;
  piVar2 = &this->_padding_;
  do {
    if (piVar2[-9] != 0) {
      free(piVar2[-9]);
      piVar2[-9] = 0;
    }
    if (*piVar2 != 0) {
      free(*piVar2);
      *piVar2 = 0;
    }
    piVar2 = piVar2 + 1;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  if (this->_padding_ != 0) {
    free(this->_padding_);
    this->_padding_ = 0;
  }
  TPanel::~TPanel((TPanel *)this);
  return;
}

// --------------------------------------------------

// Function: handle_mouse_move
// Address: 004754c0
long __thiscall
TDropDownButtonPanel::handle_mouse_move
          (TDropDownButtonPanel *this,long param_1,long param_2,int param_3,int param_4)
{
  int iVar1;
  long lVar2;
  long lVar3;
  undefined4 unaff_EBP;
  undefined4 unaff_EDI;
  
  if (this->_padding_ != 0) {
    iVar1 = (**(code **)(this->drop_down_panel->list_panel->_padding_ + 0xbc))(param_1,param_2);
    if (iVar1 != 0) {
      (**(code **)(this->_padding_ + 0x78))(1,param_1,param_2,param_1,param_2);
      lVar2 = (**(code **)(this->drop_down_panel->list_panel->_padding_ + 0x70))
                        (1,param_1,param_2,unaff_EDI,param_2);
      return lVar2;
    }
    iVar1 = (**(code **)(this->drop_down_panel->scbar_panel->_padding_ + 0xbc))(param_1,param_2);
    if (iVar1 != 0) {
      (**(code **)(this->_padding_ + 0x78))(1,param_1,param_2,param_3,param_4);
      lVar2 = TPanel::width((TPanel *)this->drop_down_panel->list_panel);
      lVar3 = TPanel::xPosition((TPanel *)this->drop_down_panel->list_panel);
      lVar2 = (**(code **)(this->drop_down_panel->list_panel->_padding_ + 0x70))
                        (1,lVar2 + -1 + lVar3,param_2,unaff_EBP,param_4);
      return lVar2;
    }
  }
  lVar2 = TPanel::handle_mouse_move((TPanel *)this,param_1,param_2,param_3,param_4);
  return lVar2;
}

// --------------------------------------------------

