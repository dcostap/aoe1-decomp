// Class: RGE_Player
// Size:  0x220
//
// VTable Layout:
// [00] `scalar_deleting_destructor'
// [01] set_game_status
// [02] do_resign
// [03] changeToHumanPlayer
// [04] changeToComputerPlayer
// [05] aiStatus
// [06] isEnemy
// [07] isAlly
// [08] isNeutral
// [09] isAllNeutral
// [10] setDiplomaticStance
// [11] loadAIInformation
// [12] sendUnitAIOrder
// [13] processAIOrder
// [14] kickAI
// [15] strategicNumber
// [16] sendGameOrder
// [17] sendAddWaypointCommand
// [18] processAddWaypointCommand
// [19] sendPlayCommand
// [20] sendPlayCommand
// [21] sendAICommand
// [22] objectCostByType
// [23] trackUnitGather
// [24] make_scenario_obj
// [25] scenario_save
// [26] scenario_load
// [27] scenario_postsave
// [28] scenario_postload
// [29] load
// [30] add_attribute_num
// [31] update
// [32] update_dopplegangers
// [33] save
// [34] save2
// [35] save_info
// [36] random_start
// [37] make_new_object
// [38] analyize_selected_objects
// [39] get_mouse_pointer_action_vars
// [40] command_make_move
// [41] command_make_work
// [42] command_make_do
// [43] command_stop
// [44] command_place_object
// [45] command_add_attribute
// [46] command_give_attribute
// [47] command_formation
// [48] command_stand_ground
// [49] command_create_group
// [50] command_add_to_group
// [51] command_remove_from_group
// [52] command_destroy_group
// [53] command_resign
// [54] command_add_waypoint
// [55] addObject
// [56] removeObject
// [57] logMessage
// [58] notify
// [59] logStatus
// [60] load_victory
// [61] new_victory
// [62] `scalar_deleting_destructor'
// [63] setup
// [64] set_rect
// [65] set_rect
// [66] set_color
// [67] set_active
// [68] set_positioning
// [69] set_fixed_position
// [70] set_redraw
// [71] set_overlapped_redraw
// [72] draw_setup
// [73] draw_finish
// [74] draw
// [75] draw_rect
// [76] draw_offset
// [77] draw_rect2
// [78] draw_offset2
// [79] paint
// [80] wnd_proc
// [81] handle_idle
// [82] handle_size
// [83] handle_paint
// [84] handle_key_down
// [85] handle_char
// [86] handle_command
// [87] handle_user_command
// [88] handle_timer_command
// [89] handle_scroll
// [90] handle_mouse_down
// [91] handle_mouse_move
// [92] handle_mouse_up
// [93] handle_mouse_dbl_click
// [94] mouse_move_action
// [95] mouse_left_down_action
// [96] mouse_left_hold_action
// [97] mouse_left_move_action
// [98] mouse_left_up_action
// [99] mouse_left_dbl_click_action
// [100] mouse_right_down_action
// [101] mouse_right_hold_action
// [102] mouse_right_move_action
// [103] mouse_right_up_action
// [104] mouse_right_dbl_click_action
// [105] key_down_action
// [106] char_action
// [107] action
// [108] get_true_render_rect
// [109] is_inside
// [110] set_focus
// [111] set_tab_order
// [112] set_tab_order
// [113] get_help_info
// [114] stop_sound_system
// [115] restart_sound_system
// [116] take_snapshot
// [117] handle_reactivate
// [118] set_state
// [119] hit_button
// [120] `vector_deleting_destructor'
// [121] setup
// [122] set_rect
// [123] set_rect
// [124] set_color
// [125] set_active
// [126] set_positioning
// [127] set_fixed_position
// [128] set_redraw
// [129] set_overlapped_redraw
// [130] draw_setup
// [131] draw_finish
// [132] draw
// [133] draw_rect
// [134] draw_offset
// [135] draw_rect2
// [136] draw_offset2
// [137] paint
// [138] wnd_proc
// [139] handle_idle
// [140] handle_size
// [141] handle_paint
// [142] handle_key_down
// [143] handle_char
// [144] handle_command
// [145] handle_user_command
// [146] handle_timer_command
// [147] handle_scroll
// [148] handle_mouse_down
// [149] handle_mouse_move
// [150] handle_mouse_up
// [151] handle_mouse_dbl_click
// [152] mouse_move_action
// [153] mouse_left_down_action
// [154] mouse_left_hold_action
// [155] mouse_left_move_action
// [156] mouse_left_up_action
// [157] mouse_left_dbl_click_action
// [158] mouse_right_down_action
// [159] mouse_right_hold_action
// [160] mouse_right_move_action
// [161] mouse_right_up_action
// [162] mouse_right_dbl_click_action
// [163] key_down_action
// [164] char_action
// [165] action
// [166] get_true_render_rect
// [167] is_inside
// [168] set_focus
// [169] set_tab_order
// [170] set_tab_order
// [171] get_help_info
// [172] stop_sound_system
// [173] restart_sound_system
// [174] take_snapshot
// [175] handle_reactivate
// [176] draw_background
// [177] set_ideal_size
// [178] create_button
// [179] create_button
// [180] create_check_box
// [181] create_radio_button
// [182] create_text
// [183] create_text
// [184] create_text
// [185] create_input
// [186] create_edit
// [187] create_drop_down
// [188] create_list
// [189] create_scrollbar
// [190] create_auto_scrollbar
// [191] create_vert_slider
// [192] create_horz_slider
// [193] position_panel
// [194] setup
// [195] setup
// [196] `scalar_deleting_destructor'
// [197] setup
// [198] set_rect
// [199] set_rect
// [200] set_color
// [201] set_active
// [202] set_positioning
// [203] set_fixed_position
// [204] set_redraw
// [205] set_overlapped_redraw
// [206] draw_setup
// [207] draw_finish
// [208] draw
// [209] draw_rect
// [210] draw_offset
// [211] draw_rect2
// [212] draw_offset2
// [213] paint
// [214] wnd_proc
// [215] handle_idle
// [216] handle_size
// [217] handle_paint
// [218] handle_key_down
// [219] handle_char
// [220] handle_command
// [221] handle_user_command
// [222] handle_timer_command
// [223] handle_scroll
// [224] handle_mouse_down
// [225] handle_mouse_move
// [226] handle_mouse_up
// [227] handle_mouse_dbl_click
// [228] mouse_move_action
// [229] mouse_left_down_action
// [230] mouse_left_hold_action
// [231] mouse_left_move_action
// [232] mouse_left_up_action
// [233] mouse_left_dbl_click_action
// [234] mouse_right_down_action
// [235] mouse_right_hold_action
// [236] mouse_right_move_action
// [237] mouse_right_up_action
// [238] mouse_right_dbl_click_action
// [239] key_down_action
// [240] char_action
// [241] action
// [242] get_true_render_rect
// [243] is_inside
// [244] set_focus
// [245] set_tab_order
// [246] set_tab_order
// [247] get_help_info
// [248] stop_sound_system
// [249] restart_sound_system
// [250] take_snapshot
// [251] handle_reactivate
// [252] `vector_deleting_destructor'
// [253] setup
// [254] set_rect
// [255] set_rect
// [256] set_color
// [257] set_active
// [258] set_positioning
// [259] set_fixed_position
// [260] set_redraw
// [261] set_overlapped_redraw
// [262] draw_setup
// [263] draw_finish
// [264] draw
// [265] draw_rect
// [266] draw_offset
// [267] draw_rect2
// [268] draw_offset2
// [269] paint
// [270] wnd_proc
// [271] handle_idle
// [272] handle_size
// [273] handle_paint
// [274] handle_key_down
// [275] handle_char
// [276] handle_command
// [277] handle_user_command
// [278] handle_timer_command
// [279] handle_scroll
// [280] handle_mouse_down
// [281] handle_mouse_move
// [282] handle_mouse_up
// [283] handle_mouse_dbl_click
// [284] mouse_move_action
// [285] mouse_left_down_action
// [286] mouse_left_hold_action
// [287] mouse_left_move_action
// [288] mouse_left_up_action
// [289] mouse_left_dbl_click_action
// [290] mouse_right_down_action
// [291] mouse_right_hold_action
// [292] mouse_right_move_action
// [293] mouse_right_up_action
// [294] mouse_right_dbl_click_action
// [295] key_down_action
// [296] char_action
// [297] action
// [298] get_true_render_rect
// [299] is_inside
// [300] set_focus
// [301] set_tab_order
// [302] set_tab_order
// [303] get_help_info
// [304] stop_sound_system
// [305] restart_sound_system
// [306] take_snapshot
// [307] handle_reactivate
// [308] set_state
// [309] hit_button
// [310] `vector_deleting_destructor'
// [311] setup
// [312] set_rect
// [313] set_rect
// [314] set_color
// [315] set_active
// [316] set_positioning
// [317] set_fixed_position
// [318] set_redraw
// [319] set_overlapped_redraw
// [320] draw_setup
// [321] draw_finish
// [322] draw
// [323] draw_rect
// [324] draw_offset
// [325] draw_rect2
// [326] draw_offset2
// [327] paint
// [328] wnd_proc
// [329] handle_idle
// [330] handle_size
// [331] handle_paint
// [332] handle_key_down
// [333] handle_char
// [334] handle_command
// [335] handle_user_command
// [336] handle_timer_command
// [337] handle_scroll
// [338] handle_mouse_down
// [339] handle_mouse_move
// [340] handle_mouse_up
// [341] handle_mouse_dbl_click
// [342] mouse_move_action
// [343] mouse_left_down_action
// [344] mouse_left_hold_action
// [345] mouse_left_move_action
// [346] mouse_left_up_action
// [347] mouse_left_dbl_click_action
// [348] mouse_right_down_action
// [349] mouse_right_hold_action
// [350] mouse_right_move_action
// [351] mouse_right_up_action
// [352] mouse_right_dbl_click_action
// [353] key_down_action
// [354] char_action
// [355] action
// [356] get_true_render_rect
// [357] is_inside
// [358] set_focus
// [359] set_tab_order
// [360] set_tab_order
// [361] get_help_info
// [362] stop_sound_system
// [363] restart_sound_system
// [364] take_snapshot
// [365] handle_reactivate
// [366] `scalar_deleting_destructor'
// [367] setup
// [368] set_rect
// [369] set_rect
// [370] set_color
// [371] set_active
// [372] set_positioning
// [373] set_fixed_position
// [374] set_redraw
// [375] set_overlapped_redraw
// [376] draw_setup
// [377] draw_finish
// [378] draw
// [379] draw_rect
// [380] draw_offset
// [381] draw_rect2
// [382] draw_offset2
// [383] paint
// [384] wnd_proc
// [385] handle_idle
// [386] handle_size
// [387] handle_paint
// [388] handle_key_down
// [389] handle_char
// [390] handle_command
// [391] handle_user_command
// [392] handle_timer_command
// [393] handle_scroll
// [394] handle_mouse_down
// [395] handle_mouse_move
// [396] handle_mouse_up
// [397] handle_mouse_dbl_click
// [398] mouse_move_action
// [399] mouse_left_down_action
// [400] mouse_left_hold_action
// [401] mouse_left_move_action
// [402] mouse_left_up_action
// [403] mouse_left_dbl_click_action
// [404] mouse_right_down_action
// [405] mouse_right_hold_action
// [406] mouse_right_move_action
// [407] mouse_right_up_action
// [408] mouse_right_dbl_click_action
// [409] key_down_action
// [410] char_action
// [411] action
// [412] get_true_render_rect
// [413] is_inside
// [414] set_focus
// [415] set_tab_order
// [416] set_tab_order
// [417] get_help_info
// [418] stop_sound_system
// [419] restart_sound_system
// [420] take_snapshot
// [421] handle_reactivate
// [422] set_text
// [423] set_text
// [424] set_text
// [425] set_bevel_info
// [426] `vector_deleting_destructor'
// [427] setup
// [428] set_rect
// [429] set_rect
// [430] set_color
// [431] set_active
// [432] set_positioning
// [433] set_fixed_position
// [434] set_redraw
// [435] set_overlapped_redraw
// [436] draw_setup
// [437] draw_finish
// [438] draw
// [439] draw_rect
// [440] draw_offset
// [441] draw_rect2
// [442] draw_offset2
// [443] paint
// [444] wnd_proc
// [445] handle_idle
// [446] handle_size
// [447] handle_paint
// [448] handle_key_down
// [449] handle_char
// [450] handle_command
// [451] handle_user_command
// [452] handle_timer_command
// [453] handle_scroll
// [454] handle_mouse_down
// [455] handle_mouse_move
// [456] handle_mouse_up
// [457] handle_mouse_dbl_click
// [458] mouse_move_action
// [459] mouse_left_down_action
// [460] mouse_left_hold_action
// [461] mouse_left_move_action
// [462] mouse_left_up_action
// [463] mouse_left_dbl_click_action
// [464] mouse_right_down_action
// [465] mouse_right_hold_action
// [466] mouse_right_move_action
// [467] mouse_right_up_action
// [468] mouse_right_dbl_click_action
// [469] key_down_action
// [470] char_action
// [471] action
// [472] get_true_render_rect
// [473] is_inside
// [474] set_focus
// [475] set_tab_order
// [476] set_tab_order
// [477] get_help_info
// [478] stop_sound_system
// [479] restart_sound_system
// [480] take_snapshot
// [481] handle_reactivate
// [482] set_text
// [483] set_text
// [484] set_text
// [485] set_bevel_info
// [486] `scalar_deleting_destructor'
// [487] setup
// [488] set_rect
// [489] set_rect
// [490] set_color
// [491] set_active
// [492] set_positioning
// [493] set_fixed_position
// [494] set_redraw
// [495] set_overlapped_redraw
// [496] draw_setup
// [497] draw_finish
// [498] draw
// [499] draw_rect
// [500] draw_offset
// [501] draw_rect2
// [502] draw_offset2
// [503] paint
// [504] wnd_proc
// [505] handle_idle
// [506] handle_size
// [507] handle_paint
// [508] handle_key_down
// [509] handle_char
// [510] handle_command
// [511] handle_user_command
// [512] handle_timer_command
// [513] handle_scroll
// [514] handle_mouse_down
// [515] handle_mouse_move
// [516] handle_mouse_up
// [517] handle_mouse_dbl_click
// [518] mouse_move_action
// [519] mouse_left_down_action
// [520] mouse_left_hold_action
// [521] mouse_left_move_action
// [522] mouse_left_up_action
// [523] mouse_left_dbl_click_action
// [524] mouse_right_down_action
// [525] mouse_right_hold_action
// [526] mouse_right_move_action
// [527] mouse_right_up_action
// [528] mouse_right_dbl_click_action
// [529] key_down_action
// [530] char_action
// [531] action
// [532] get_true_render_rect
// [533] is_inside
// [534] set_focus
// [535] set_tab_order
// [536] set_tab_order
// [537] get_help_info
// [538] stop_sound_system
// [539] restart_sound_system
// [540] take_snapshot
// [541] handle_reactivate
// [542] set_font
//
// Member Layout:
// [0x004] int computerPlayerValue
// [0x008] int pathingAttemptCapValue
// [0x00C] int pathingDelayCapValue
// [0x010] int currentUpdatePathingAttemptsValue
// [0x014] long checksum
// [0x018] long position_checksum
// [0x01C] long action_checksum
// [0x020] uchar checksum_created_this_update
// [0x022] short master_object_num
// [0x024] RGE_Master_Static_Object * * master_objects
// [0x028] RGE_Object_List * objects
// [0x02C] RGE_Object_List * sleeping_objects
// [0x030] RGE_Object_List * doppleganger_objects
// [0x034] RGE_Victory_Conditions * victory_conditions
// [0x038] RGE_Visible_Map * visible
// [0x03C] RGE_Game_World * world
// [0x040] RGE_Doppleganger_Creator * doppleganger_creator
// [0x044] char * name
// [0x048] uchar type
// [0x04A] short id
// [0x04C] short attribute_num
// [0x050] float * attributes
// [0x054] uchar culture
// [0x058] RGE_Tile_List tile_list (sz: 0x14)
// [0x06C] RGE_Tile_List diam_tile_list (sz: 0x14)
// [0x080] uchar game_status
// [0x081] uchar resigned
// [0x084] uchar * relations
// [0x088] int[9] unitDiplomacy (sz: 0x24)
// [0x0AC] int[9] mutualAlly (sz: 0x24)
// [0x0D0] ulong mutualExploredMask
// [0x0D4] ulong mutualVisibleMask
// [0x0D8] ulong nonMutualVisibleMask
// [0x0DC] ulong[9] RemoveVisibleBits (sz: 0x24)
// [0x100] int allied_LOS_Enable
// [0x104] uchar allied_victory
// [0x105] uchar master_player_id
// [0x108] RGE_Color_Table * color_table
// [0x10C] long tribe_effect
// [0x110] Visible_Resource_Manager * VR_List
// [0x114] float view_x
// [0x118] float view_y
// [0x11C] short map_x
// [0x11E] short map_y
// [0x120] short selected_start_col
// [0x122] short selected_start_row
// [0x124] short selected_end_col
// [0x126] short selected_end_row
// [0x128] short replacement_terrain
// [0x12A] short replacement_overlay
// [0x12C] short replacement_overlay_shape
// [0x130] RGE_Static_Object * selected_obj
// [0x134] RGE_Static_Object *[25] sel_list (sz: 0x64)
// [0x198] ulong sel_object_properties
// [0x19C] short sel_count
// [0x19E] uchar[127] groups_used (sz: 0x7F)
// ----------------------------------------------------------------

// Function: RGE_Player
// Address: 0046e4b0
/* WARNING: Variable defined which should be unmapped: index */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* public: __thiscall RGE_Player::RGE_Player(int,class RGE_Game_World *,unsigned char) */

RGE_Player * __thiscall
RGE_Player::RGE_Player(RGE_Player *this,int param_1,RGE_Game_World *param_2,uchar param_3)
{
  int *piVar1;
  short *psVar2;
  int iVar3;
  RGE_Doppleganger_Creator *pRVar4;
  uchar *puVar5;
  char *pcVar6;
  float *pfVar7;
  undefined4 *unaff_FS_OFFSET;
  short index;
  uchar table;
  short local_16;
  uchar local_14 [4];
  RGE_Player *local_10;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055e241;
  local_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &local_c;
  piVar1 = &this->pathingAttemptCapValue;
  this->computerPlayerValue = 0;
  *piVar1 = 5;
  this->pathingDelayCapValue = 10;
  local_10 = this;
  RGE_Tile_List::RGE_Tile_List(&this->tile_list,400);
  local_4 = 0;
  RGE_Tile_List::RGE_Tile_List(&this->diam_tile_list,400);
  this->_padding_ = (int)&_vftable_;
  iVar3 = pathingCapValue;
  this->id = (ushort)param_3;
  local_4._0_1_ = 1;
  *piVar1 = iVar3;
  this->world = param_2;
  reset_selected(this);
  pRVar4 = (RGE_Doppleganger_Creator *)operator_new(0x1c);
  local_4._0_1_ = 2;
  if (pRVar4 == (RGE_Doppleganger_Creator *)0x0) {
    pRVar4 = (RGE_Doppleganger_Creator *)0x0;
  }
  else {
    pRVar4 = (RGE_Doppleganger_Creator *)
             RGE_Doppleganger_Creator::RGE_Doppleganger_Creator(pRVar4,this,100);
  }
  this->doppleganger_creator = pRVar4;
  local_4 = CONCAT31(local_4._1_3_,1);
  puVar5 = (uchar *)calloc(1,(int)this->world->player_num);
  this->relations = puVar5;
  rge_read(param_1,puVar5,(int)this->world->player_num);
  rge_read(param_1,this->unitDiplomacy,0x24);
  if (save_game_version < _DAT_00570e90) {
    this->allied_LOS_Enable = 0;
  }
  else {
    rge_read(param_1,&this->allied_LOS_Enable,4);
  }
  rge_read(param_1,&this->allied_victory,1);
  rge_read(param_1,&local_16,2);
  if (local_16 < 1) {
    this->name = (char *)0x0;
  }
  else {
    pcVar6 = (char *)calloc((int)local_16,1);
    this->name = pcVar6;
    rge_read(param_1,pcVar6,(int)local_16);
  }
  psVar2 = &this->attribute_num;
  rge_read(param_1,psVar2,2);
  if (*psVar2 < 1) {
    this->attributes = (float *)0x0;
  }
  else {
    pfVar7 = (float *)calloc((int)*psVar2,4);
    this->attributes = pfVar7;
    rge_read(param_1,pfVar7,(int)*psVar2 << 2);
  }
  rge_read(param_1,&this->view_x,4);
  rge_read(param_1,&this->view_y,4);
  rge_read(param_1,&this->map_x,2);
  rge_read(param_1,&this->map_y,2);
  rge_read(param_1,&this->culture,1);
  rge_read(param_1,&this->master_player_id,1);
  rge_read(param_1,&this->game_status,1);
  rge_read(param_1,&this->resigned,1);
  rge_read(param_1,local_14,1);
  set_color_table(this,local_14[0]);
  rge_read(param_1,piVar1,4);
  rge_read(param_1,&this->pathingDelayCapValue,4);
  this->checksum_created_this_update = '\0';
  this->checksum = 0;
  *unaff_FS_OFFSET = local_c;
  return this;
}

// --------------------------------------------------

// Function: `scalar_deleting_destructor'
// Address: 0046e750
/* public: virtual void * __thiscall RGE_Player::`scalar deleting destructor'(unsigned int) */

void * __thiscall RGE_Player::_scalar_deleting_destructor_(RGE_Player *this,uint param_1)
{
  ~RGE_Player(this);
  if ((param_1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}

// --------------------------------------------------

// Function: RGE_Player
// Address: 0046e770
/* public: __thiscall RGE_Player::RGE_Player(class RGE_Game_World *,class RGE_Master_Player
   *,unsigned char,char *,unsigned char,unsigned char) */

RGE_Player * __thiscall
RGE_Player::RGE_Player
          (RGE_Player *this,RGE_Game_World *param_1,RGE_Master_Player *param_2,uchar param_3,
          char *param_4,uchar param_5,uchar param_6)
{
  RGE_Map *pRVar1;
  uchar *puVar2;
  RGE_Master_Static_Object **ppRVar3;
  RGE_Master_Static_Object *pRVar4;
  RGE_Object_List *pRVar5;
  RGE_Visible_Map *pRVar6;
  RGE_Doppleganger_Creator *pRVar7;
  float *pfVar8;
  short sVar9;
  int iVar10;
  uint uVar11;
  float *pfVar12;
  int *piVar13;
  undefined4 *unaff_FS_OFFSET;
  undefined4 uStack_c;
  code *pcStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055e29d;
  uStack_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &uStack_c;
  this->computerPlayerValue = 0;
  this->pathingAttemptCapValue = 5;
  this->pathingDelayCapValue = 10;
  RGE_Tile_List::RGE_Tile_List(&this->tile_list,400);
  local_4 = 0;
  RGE_Tile_List::RGE_Tile_List(&this->diam_tile_list,400);
  this->_padding_ = (int)&_vftable_;
  this->pathingAttemptCapValue = pathingCapValue;
  this->master_player_id = param_5;
  local_4._0_1_ = 1;
  this->type = '\0';
  this->world = param_1;
  this->id = (ushort)param_3;
  reset_selected(this);
  this->name = (char *)0x0;
  if (param_4 != (char *)0x0) {
    getstring(&this->name,param_4);
  }
  puVar2 = (uchar *)calloc(1,(int)this->world->player_num);
  this->relations = puVar2;
  piVar13 = this->unitDiplomacy;
  for (iVar10 = 9; iVar10 != 0; iVar10 = iVar10 + -1) {
    *piVar13 = -1;
    piVar13 = piVar13 + 1;
  }
  sVar9 = 0;
  if (0 < this->world->player_num) {
    do {
      this->relations[sVar9] = '\x01';
      if (sVar9 == this->id) {
        this->unitDiplomacy[sVar9] = 1;
      }
      else if (sVar9 == 0) {
        this->unitDiplomacy[0] = 0;
      }
      else {
        this->unitDiplomacy[sVar9] = 3;
      }
      sVar9 = sVar9 + 1;
    } while (sVar9 < this->world->player_num);
  }
  this->mutualExploredMask = 0;
  this->mutualVisibleMask = 0;
  this->nonMutualVisibleMask = 0;
  this->allied_LOS_Enable = 0;
  this->allied_victory = '\0';
  sVar9 = param_2->master_object_num;
  this->master_object_num = sVar9;
  if (0 < sVar9) {
    ppRVar3 = (RGE_Master_Static_Object **)calloc((int)sVar9,4);
    sVar9 = 0;
    this->master_objects = ppRVar3;
    if (0 < this->master_object_num) {
      do {
        if (param_2->master_objects[sVar9] != (RGE_Master_Static_Object *)0x0) {
          pRVar4 = (RGE_Master_Static_Object *)
                   (**(code **)(param_2->master_objects[sVar9]->_padding_ + 0x1c))();
          this->master_objects[sVar9] = pRVar4;
        }
        sVar9 = sVar9 + 1;
      } while (sVar9 < this->master_object_num);
    }
  }
  if (param_6 == '\0') {
    this->objects = (RGE_Object_List *)0x0;
    this->sleeping_objects = (RGE_Object_List *)0x0;
    this->doppleganger_objects = (RGE_Object_List *)0x0;
    this->victory_conditions = (RGE_Victory_Conditions *)0x0;
    this->visible = (RGE_Visible_Map *)0x0;
  }
  else {
    pRVar5 = (RGE_Object_List *)operator_new(0xc);
    local_4._0_1_ = 2;
    if (pRVar5 == (RGE_Object_List *)0x0) {
      pRVar5 = (RGE_Object_List *)0x0;
    }
    else {
      pRVar5 = (RGE_Object_List *)RGE_Object_List::RGE_Object_List(pRVar5);
    }
    local_4._0_1_ = 1;
    this->objects = pRVar5;
    pRVar5 = (RGE_Object_List *)operator_new(0xc);
    local_4._0_1_ = 3;
    if (pRVar5 == (RGE_Object_List *)0x0) {
      pRVar5 = (RGE_Object_List *)0x0;
    }
    else {
      pRVar5 = (RGE_Object_List *)RGE_Object_List::RGE_Object_List(pRVar5);
    }
    local_4._0_1_ = 1;
    this->sleeping_objects = pRVar5;
    pRVar5 = (RGE_Object_List *)operator_new(0xc);
    local_4._0_1_ = 4;
    if (pRVar5 == (RGE_Object_List *)0x0) {
      pRVar5 = (RGE_Object_List *)0x0;
    }
    else {
      pRVar5 = (RGE_Object_List *)RGE_Object_List::RGE_Object_List(pRVar5);
    }
    local_4._0_1_ = 1;
    this->doppleganger_objects = pRVar5;
    new_victory(this);
    pRVar6 = (RGE_Visible_Map *)operator_new(0x38);
    local_4._0_1_ = 5;
    if (pRVar6 == (RGE_Visible_Map *)0x0) {
      local_4._0_1_ = 1;
      this->visible = (RGE_Visible_Map *)0x0;
    }
    else {
      pRVar6 = (RGE_Visible_Map *)RGE_Visible_Map::RGE_Visible_Map(pRVar6,param_1->map,this);
      local_4._0_1_ = 1;
      this->visible = pRVar6;
    }
  }
  pRVar7 = (RGE_Doppleganger_Creator *)operator_new(0x1c);
  local_4._0_1_ = 6;
  if (pRVar7 == (RGE_Doppleganger_Creator *)0x0) {
    pRVar7 = (RGE_Doppleganger_Creator *)0x0;
  }
  else {
    pRVar7 = (RGE_Doppleganger_Creator *)
             RGE_Doppleganger_Creator::RGE_Doppleganger_Creator(pRVar7,this,100);
  }
  this->doppleganger_creator = pRVar7;
  sVar9 = param_2->attribute_num;
  local_4 = CONCAT31(local_4._1_3_,1);
  this->attribute_num = sVar9;
  if (sVar9 < 1) {
    this->attributes = (float *)0x0;
  }
  else {
    pfVar8 = (float *)calloc((int)sVar9,4);
    this->attributes = pfVar8;
    pfVar12 = param_2->attributes;
    for (uVar11 = (int)this->attribute_num & 0x3fffffff; uVar11 != 0; uVar11 = uVar11 - 1) {
      *pfVar8 = *pfVar12;
      pfVar12 = pfVar12 + 1;
      pfVar8 = pfVar8 + 1;
    }
    for (iVar10 = 0; iVar10 != 0; iVar10 = iVar10 + -1) {
      *(undefined1 *)pfVar8 = *(undefined1 *)pfVar12;
      pfVar12 = (float *)((int)pfVar12 + 1);
      pfVar8 = (float *)((int)pfVar8 + 1);
    }
  }
  this->culture = param_2->culture;
  pRVar1 = this->world->map;
  set_view_loc(this,(float)(pRVar1->map_width / 2),(float)(pRVar1->map_height / 2));
  pRVar1 = this->world->map;
  set_map_loc(this,(short)(pRVar1->map_width / 2),(short)(pRVar1->map_height / 2));
  this->game_status = '\0';
  this->resigned = '\0';
  this->color_table = (RGE_Color_Table *)0x0;
  sVar9 = param_2->tribe_effect;
  this->tribe_effect = (int)sVar9;
  if ((param_6 != '\0') && (-1 < sVar9)) {
    (**(code **)(this->world->effects->_padding_ + 8))
              (CONCAT22(sVar9 >> 0xf,(short)this->tribe_effect),this);
  }
  this->checksum = 0;
  this->checksum_created_this_update = '\0';
  *unaff_FS_OFFSET = uStack_c;
  return this;
}

// --------------------------------------------------

// Function: ~RGE_Player
// Address: 0046eb00
/* public: virtual __thiscall RGE_Player::~RGE_Player(void) */

void __thiscall RGE_Player::~RGE_Player(RGE_Player *this)
{
  RGE_Object_List *pRVar1;
  RGE_Victory_Conditions *this_00;
  RGE_Visible_Map *this_01;
  RGE_Doppleganger_Creator *this_02;
  Visible_Resource_Manager *this_03;
  short sVar2;
  undefined4 *unaff_FS_OFFSET;
  undefined4 uStack_c;
  code *pcStack_8;
  uint local_4;
  
  pcStack_8 = FUN_0055e2c6;
  uStack_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &uStack_c;
  this->_padding_ = (int)&_vftable_;
  pRVar1 = this->objects;
  local_4 = 1;
  if (pRVar1 != (RGE_Object_List *)0x0) {
    RGE_Object_List::~RGE_Object_List(pRVar1);
    operator_delete(pRVar1);
  }
  pRVar1 = this->sleeping_objects;
  if (pRVar1 != (RGE_Object_List *)0x0) {
    RGE_Object_List::~RGE_Object_List(pRVar1);
    operator_delete(pRVar1);
  }
  pRVar1 = this->doppleganger_objects;
  if (pRVar1 != (RGE_Object_List *)0x0) {
    RGE_Object_List::~RGE_Object_List(pRVar1);
    operator_delete(pRVar1);
  }
  this_00 = this->victory_conditions;
  if (this_00 != (RGE_Victory_Conditions *)0x0) {
    RGE_Victory_Conditions::~RGE_Victory_Conditions(this_00);
    operator_delete(this_00);
  }
  free(this->relations);
  this->relations = (uchar *)0x0;
  if (0 < this->master_object_num) {
    sVar2 = 0;
    if (0 < this->master_object_num) {
      do {
        if (this->master_objects[sVar2] != (RGE_Master_Static_Object *)0x0) {
          (**(code **)this->master_objects[sVar2]->_padding_)(1);
        }
        sVar2 = sVar2 + 1;
      } while (sVar2 < this->master_object_num);
    }
    free(this->master_objects);
    this->master_objects = (RGE_Master_Static_Object **)0x0;
    this->master_object_num = 0;
  }
  this_01 = this->visible;
  if (this_01 != (RGE_Visible_Map *)0x0) {
    RGE_Visible_Map::~RGE_Visible_Map(this_01);
    operator_delete(this_01);
  }
  this_02 = this->doppleganger_creator;
  if (this_02 != (RGE_Doppleganger_Creator *)0x0) {
    RGE_Doppleganger_Creator::~RGE_Doppleganger_Creator(this_02);
    operator_delete(this_02);
  }
  this_03 = this->VR_List;
  if (this_03 != (Visible_Resource_Manager *)0x0) {
    Visible_Resource_Manager::~Visible_Resource_Manager(this_03);
    operator_delete(this_03);
  }
  if (this->name != (char *)0x0) {
    free(this->name);
    this->name = (char *)0x0;
  }
  if (0 < this->attribute_num) {
    free(this->attributes);
    this->attribute_num = 0;
  }
  local_4 = local_4 & 0xffffff00;
  RGE_Tile_List::~RGE_Tile_List(&this->diam_tile_list);
  local_4 = 0xffffffff;
  RGE_Tile_List::~RGE_Tile_List(&this->tile_list);
  *unaff_FS_OFFSET = uStack_c;
  return;
}

// --------------------------------------------------

// Function: changeToHumanPlayer
// Address: 0046ec80
/* public: virtual void __thiscall RGE_Player::changeToHumanPlayer(void) */

void __thiscall RGE_Player::changeToHumanPlayer(RGE_Player *this)
{
  return;
}

// --------------------------------------------------

// Function: changeToComputerPlayer
// Address: 0046ec90
/* public: virtual void __thiscall RGE_Player::changeToComputerPlayer(void) */

void __thiscall RGE_Player::changeToComputerPlayer(RGE_Player *this)
{
  return;
}

// --------------------------------------------------

// Function: kickAI
// Address: 0046eca0
/* public: virtual void __thiscall RGE_Player::kickAI(int) */

void __thiscall RGE_Player::kickAI(RGE_Player *this,int param_1)
{
  return;
}

// --------------------------------------------------

// Function: strategicNumber
// Address: 0046ecb0
/* public: virtual int __thiscall RGE_Player::strategicNumber(int) */

int __thiscall RGE_Player::strategicNumber(RGE_Player *this,int param_1)
{
  return -1;
}

// --------------------------------------------------

// Function: sendAICommand
// Address: 0046ecc0
/* public: virtual int __thiscall RGE_Player::sendAICommand(int,int,int,int,int) */

int __thiscall
RGE_Player::sendAICommand
          (RGE_Player *this,int param_1,int param_2,int param_3,int param_4,int param_5)
{
  return 0;
}

// --------------------------------------------------

// Function: objectCostByType
// Address: 0046ecd0
/* public: virtual int __thiscall RGE_Player::objectCostByType(int) */

int __thiscall RGE_Player::objectCostByType(RGE_Player *this,int param_1)
{
  return -1;
}

// --------------------------------------------------

// Function: set_game_status
// Address: 0046ece0
/* public: virtual void __thiscall RGE_Player::set_game_status(unsigned char) */

void __thiscall RGE_Player::set_game_status(RGE_Player *this,uchar param_1)
{
  if (((param_1 != this->game_status) &&
      (((this->resigned == '\0' || (param_1 == '\x02')) &&
       (this->game_status = param_1, param_1 == '\x02')))) && (this->resigned == '\0')) {
    (**(code **)(rge_base_game->_padding_ + 0x40))(6,(int)this->id,0,0,0);
  }
  return;
}

// --------------------------------------------------

// Function: trackUnitGather
// Address: 0046ed30
/* public: virtual void __thiscall RGE_Player::trackUnitGather(int,int,int) */

void __thiscall RGE_Player::trackUnitGather(RGE_Player *this,int param_1,int param_2,int param_3)
{
  return;
}

// --------------------------------------------------

// Function: logStatus
// Address: 0046ed40
/* public: virtual void __thiscall RGE_Player::logStatus(struct _iobuf *,int) */

void __thiscall RGE_Player::logStatus(RGE_Player *this,_iobuf *param_1,int param_2)
{
  return;
}

// --------------------------------------------------

// Function: do_resign
// Address: 0046ed50
/* public: virtual void __thiscall RGE_Player::do_resign(int) */

void __thiscall RGE_Player::do_resign(RGE_Player *this,int param_1)
{
  uchar uVar1;
  undefined4 unaff_retaddr;
  
  uVar1 = this->resigned;
  this->resigned = '\x01';
  (**(code **)(this->_padding_ + 4))(2);
  if (uVar1 == '\0') {
    (**(code **)(rge_base_game->_padding_ + 0x40))(5,(int)this->id,unaff_retaddr,0,0);
  }
  return;
}

// --------------------------------------------------

// Function: get_resigned
// Address: 0046ed90
/* public: unsigned char __thiscall RGE_Player::get_resigned(void) */

uchar __thiscall RGE_Player::get_resigned(RGE_Player *this)
{
  return this->resigned;
}

// --------------------------------------------------

// Function: aiStatus
// Address: 0046eda0
/* public: virtual char * __thiscall RGE_Player::aiStatus(int) */

char * __thiscall RGE_Player::aiStatus(RGE_Player *this,int param_1)
{
  return (char *)0x0;
}

// --------------------------------------------------

// Function: computerPlayer
// Address: 0046edb0
/* public: int __thiscall RGE_Player::computerPlayer(void)const  */

int __thiscall RGE_Player::computerPlayer(RGE_Player *this)
{
  return this->computerPlayerValue;
}

// --------------------------------------------------

// Function: isEnemy
// Address: 0046edc0
/* public: virtual int __thiscall RGE_Player::isEnemy(int) */

int __thiscall RGE_Player::isEnemy(RGE_Player *this,int param_1)
{
  if ((((param_1 != this->id) && (0 < param_1)) && (param_1 < this->world->player_num)) &&
     (this->relations[param_1] == '\x03')) {
    return 1;
  }
  return 0;
}

// --------------------------------------------------

// Function: isAlly
// Address: 0046ee00
/* public: virtual int __thiscall RGE_Player::isAlly(int) */

int __thiscall RGE_Player::isAlly(RGE_Player *this,int param_1)
{
  if (param_1 == this->id) {
    return 1;
  }
  if (((0 < param_1) && (param_1 < this->world->player_num)) && (this->relations[param_1] == '\0'))
{
    return 1;
  }
  return 0;
}

// --------------------------------------------------

// Function: isNeutral
// Address: 0046ee40
/* public: virtual int __thiscall RGE_Player::isNeutral(int) */

int __thiscall RGE_Player::isNeutral(RGE_Player *this,int param_1)
{
  if ((((param_1 != this->id) && (0 < param_1)) && (param_1 < this->world->player_num)) &&
     (this->relations[param_1] == '\x01')) {
    return 1;
  }
  return 0;
}

// --------------------------------------------------

// Function: isAllNeutral
// Address: 0046ee80
/* public: virtual int __thiscall RGE_Player::isAllNeutral(void) */

int __thiscall RGE_Player::isAllNeutral(RGE_Player *this)
{
  int iVar1;
  int iVar2;
  
  iVar2 = 1;
  if (this->world->player_num < 2) {
    return 1;
  }
  do {
    if (iVar2 != this->id) {
      iVar1 = (**(code **)(this->_padding_ + 0x20))(iVar2);
      if (iVar1 == 0) {
        return 0;
      }
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 < this->world->player_num);
  return 1;
}

// --------------------------------------------------

// Function: setDiplomaticStance
// Address: 0046eed0
/* public: virtual void __thiscall RGE_Player::setDiplomaticStance(int,int) */

void __thiscall RGE_Player::setDiplomaticStance(RGE_Player *this,int param_1,int param_2)
{
  return;
}

// --------------------------------------------------

// Function: loadAIInformation
// Address: 0046eee0
/* public: virtual void __thiscall RGE_Player::loadAIInformation(char *,char *,char *,int,int) */

void __thiscall
RGE_Player::loadAIInformation
          (RGE_Player *this,char *param_1,char *param_2,char *param_3,int param_4,int param_5)
{
  return;
}

// --------------------------------------------------

// Function: sendUnitAIOrder
// Address: 0046eef0
/* public: virtual void __thiscall
   RGE_Player::sendUnitAIOrder(int,int,int,int,int,float,float,float,float,int,int,int) */

void __thiscall
RGE_Player::sendUnitAIOrder
          (RGE_Player *this,int param_1,int param_2,int param_3,int param_4,int param_5,
          float param_6,float param_7,float param_8,float param_9,int param_10,int param_11,
          int param_12)
{
  RGE_Command::command_ai_order
            (this->world->commands,param_1,param_1,param_2,param_3,param_4,param_5,param_6,param_7,
             param_8,param_9,(uchar)param_10,(uchar)param_11,(uchar)param_12);
  return;
}

// --------------------------------------------------

// Function: processAIOrder
// Address: 0046ef40
/* public: virtual void __thiscall
   RGE_Player::processAIOrder(int,int,int,int,int,float,float,float,float,int,int,int) */

void __thiscall
RGE_Player::processAIOrder
          (RGE_Player *this,int param_1,int param_2,int param_3,int param_4,int param_5,
          float param_6,float param_7,float param_8,float param_9,int param_10,int param_11,
          int param_12)
{
  RGE_Static_Object *this_00;
  UnitAIModule *pUVar1;
  
  this_00 = RGE_Game_World::object(this->world,param_2);
  if (this_00 != (RGE_Static_Object *)0x0) {
    pUVar1 = RGE_Static_Object::unitAI(this_00);
    if (pUVar1 != (UnitAIModule *)0x0) {
      pUVar1 = RGE_Static_Object::unitAI(this_00);
      (**(code **)(pUVar1->_padding_ + 0x10))
                (param_1,param_3,param_4,param_5,param_6,param_7,param_8,param_9,param_10,param_11,
                 param_12);
    }
  }
  return;
}

// --------------------------------------------------

// Function: sendGameOrder
// Address: 0046efb0
/* public: virtual void __thiscall RGE_Player::sendGameOrder(class RGE_Static_Object *,class
   RGE_Static_Object *,float,float) */

void __thiscall
RGE_Player::sendGameOrder
          (RGE_Player *this,RGE_Static_Object *param_1,RGE_Static_Object *param_2,float param_3,
          float param_4)
{
  RGE_Command::command_order(this->world->commands,&param_1,1,param_2,param_3,param_4);
  return;
}

// --------------------------------------------------

// Function: sendAddWaypointCommand
// Address: 0046efe0
/* public: virtual void __thiscall RGE_Player::sendAddWaypointCommand(int,struct XYZBYTEPoint *,int)
    */

void __thiscall
RGE_Player::sendAddWaypointCommand(RGE_Player *this,int param_1,XYZBYTEPoint *param_2,int param_3)
{
  RGE_Command::command_add_waypoint(this->world->commands,(int)this->id,param_1,param_2,param_3);
  return;
}

// --------------------------------------------------

// Function: processAddWaypointCommand
// Address: 0046f010
/* public: virtual void __thiscall RGE_Player::processAddWaypointCommand(int,struct XYZBYTEPoint
   *,int) */

void __thiscall
RGE_Player::processAddWaypointCommand
          (RGE_Player *this,int param_1,XYZBYTEPoint *param_2,int param_3)
{
  code *pcVar1;
  RGE_Static_Object *pRVar2;
  
  pRVar2 = RGE_Game_World::object(this->world,param_1);
  if ((pRVar2 != (RGE_Static_Object *)0x0) && (0 < param_3)) {
    pcVar1 = *(code **)(pRVar2->_padding_ + 0x1bc);
    do {
      (*pcVar1)(param_2,1);
      param_2 = param_2 + 1;
      param_3 = param_3 + -1;
    } while (param_3 != 0);
  }
  return;
}

// --------------------------------------------------

// Function: sendPlayCommand
// Address: 0046f050
/* WARNING: Variable defined which should be unmapped: selectedUnits */
/* public: virtual void __thiscall RGE_Player::sendPlayCommand(int,int,int) */

void __thiscall RGE_Player::sendPlayCommand(RGE_Player *this,int param_1,int param_2,int param_3)
{
  int iVar1;
  AIPlay *pAVar2;
  long *plVar3;
  RGE_Static_Object **ppRVar4;
  int iVar5;
  int iVar6;
  undefined4 unaff_retaddr;
  int selectedUnits [25];
  
  iVar1 = this->_padding_;
  (**(code **)(iVar1 + 0xd0))(param_1);
  pAVar2 = AIPlayBook::play(this->world->playbook,param_2);
  if (pAVar2 == (AIPlay *)0x0) {
    (**(code **)(iVar1 + 0x30))
              ((int)this->id,param_1,0x2d7,0xffffffff,0xffffffff,0xbf800000,0xbf800000,0xbf800000,
               0xbf800000,1,0,100);
    return;
  }
  iVar6 = 0;
  plVar3 = selectedUnits;
  ppRVar4 = this->sel_list;
  iVar5 = 0x19;
  do {
    if (*ppRVar4 != (RGE_Static_Object *)0x0) {
      iVar6 = iVar6 + 1;
      *plVar3 = (*ppRVar4)->id;
      plVar3 = plVar3 + 1;
    }
    ppRVar4 = ppRVar4 + 1;
    iVar5 = iVar5 + -1;
  } while (iVar5 != 0);
  if (iVar6 != 0) {
    (**(code **)(iVar1 + 0xc4))(unaff_retaddr,selectedUnits,iVar6,0x40000000);
    (**(code **)(iVar1 + 0x30))
              ((int)this->id,unaff_retaddr,0x2d6,selectedUnits[0x17],selectedUnits[0x18],0xbf800000,
               0xbf800000,0xbf800000,0xbf800000,1,0,100);
  }
  return;
}

// --------------------------------------------------

// Function: sendPlayCommand
// Address: 0046f140
/* public: virtual void __thiscall RGE_Player::sendPlayCommand(int,int *,int,int,int) */

void __thiscall
RGE_Player::sendPlayCommand
          (RGE_Player *this,int param_1,int *param_2,int param_3,int param_4,int param_5)
{
  int iVar1;
  AIPlay *pAVar2;
  undefined4 unaff_EBX;
  
  iVar1 = this->_padding_;
  (**(code **)(iVar1 + 0xd0))(param_1);
  pAVar2 = AIPlayBook::play(this->world->playbook,param_4);
  if (pAVar2 == (AIPlay *)0x0) {
    (**(code **)(iVar1 + 0x30))
              ((int)this->id,param_1,0x2d7,0xffffffff,0xffffffff,0xbf800000,0xbf800000,0xbf800000,
               0xbf800000,1,0,100);
    return;
  }
  if (param_2 != (int *)0x0) {
    (**(code **)(iVar1 + 0xc4))(param_1,param_1,param_2,0x40000000);
    (**(code **)(iVar1 + 0x30))
              ((int)this->id,param_1,0x2d6,unaff_EBX,param_4,0xbf800000,0xbf800000,0xbf800000,
               0xbf800000,1,0,100);
  }
  return;
}

// --------------------------------------------------

// Function: pathingAttemptCap
// Address: 0046f200
/* public: int __thiscall RGE_Player::pathingAttemptCap(void) */

int __thiscall RGE_Player::pathingAttemptCap(RGE_Player *this)
{
  return this->pathingAttemptCapValue;
}

// --------------------------------------------------

// Function: setPathingAttemptCap
// Address: 0046f210
/* public: void __thiscall RGE_Player::setPathingAttemptCap(int) */

void __thiscall RGE_Player::setPathingAttemptCap(RGE_Player *this,int param_1)
{
  this->pathingAttemptCapValue = param_1;
  return;
}

// --------------------------------------------------

// Function: pathingDelayCap
// Address: 0046f220
/* public: int __thiscall RGE_Player::pathingDelayCap(void) */

int __thiscall RGE_Player::pathingDelayCap(RGE_Player *this)
{
  return this->pathingDelayCapValue;
}

// --------------------------------------------------

// Function: setPathingDelayCap
// Address: 0046f230
/* public: void __thiscall RGE_Player::setPathingDelayCap(int) */

void __thiscall RGE_Player::setPathingDelayCap(RGE_Player *this,int param_1)
{
  this->pathingDelayCapValue = param_1;
  return;
}

// --------------------------------------------------

// Function: currentUpdatePathingAttempts
// Address: 0046f240
/* public: int __thiscall RGE_Player::currentUpdatePathingAttempts(void) */

int __thiscall RGE_Player::currentUpdatePathingAttempts(RGE_Player *this)
{
  return this->currentUpdatePathingAttemptsValue;
}

// --------------------------------------------------

// Function: availablePathingAttempts
// Address: 0046f250
/* public: int __thiscall RGE_Player::availablePathingAttempts(int) */

int __thiscall RGE_Player::availablePathingAttempts(RGE_Player *this,int param_1)
{
  if ((this->pathingDelayCapValue != -1) && (this->pathingDelayCapValue < param_1)) {
    return 1;
  }
  if (this->pathingAttemptCapValue == -1) {
    return 1;
  }
  return (uint)(this->currentUpdatePathingAttemptsValue < this->pathingAttemptCapValue);
}

// --------------------------------------------------

// Function: incrementPathingAttempts
// Address: 0046f290
/* public: void __thiscall RGE_Player::incrementPathingAttempts(void) */

void __thiscall RGE_Player::incrementPathingAttempts(RGE_Player *this)
{
  this->currentUpdatePathingAttemptsValue = this->currentUpdatePathingAttemptsValue + 1;
  return;
}

// --------------------------------------------------

// Function: sendChatMessage
// Address: 0046f2a0
/* WARNING: Variable defined which should be unmapped: textOut */
/* public: void __cdecl RGE_Player::sendChatMessage(int,int,char *,...) */

void __thiscall
RGE_Player::sendChatMessage(RGE_Player *this,int param_1,int param_2,char *param_3,...)
{
  char cVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  char *pcVar5;
  undefined4 in_stack_00000010;
  char textOut [1025];
  
  vsprintf(textOut + 4,in_stack_00000010,&stack0x00000014);
  iVar3 = -1;
  pcVar5 = textOut + 4;
  do {
    if (iVar3 == 0) break;
    iVar3 = iVar3 + -1;
    cVar1 = *pcVar5;
    pcVar5 = pcVar5 + 1;
  } while (cVar1 != '\0');
  if (iVar3 != -2) {
    uVar4 = 1;
    iVar3 = RGE_Base_Game::numberPlayers(rge_base_game);
    if (0 < iVar3) {
      do {
        iVar3 = RGE_Base_Game::playerID(rge_base_game,uVar4);
        if (iVar3 == param_2) {
          TCommunications_Handler::SendChatMsg
                    (*(TCommunications_Handler **)(*(int *)(*(int *)(param_1 + 0x3c) + 0x58) + 0x14)
                     ,(int)*(short *)(param_1 + 0x4a),uVar4,textOut + 4);
        }
        uVar4 = uVar4 + 1;
        iVar3 = RGE_Base_Game::numberPlayers(rge_base_game);
      } while ((int)uVar4 <= iVar3);
    }
    if ((param_3 == (char *)0x1) && (param_2 != *(short *)(param_1 + 0x4a))) {
      uVar4 = 1;
      iVar3 = RGE_Base_Game::numberPlayers(rge_base_game);
      if (0 < iVar3) {
        do {
          uVar2 = RGE_Base_Game::playerID(rge_base_game,uVar4);
          if (uVar2 == (int)*(short *)(param_1 + 0x4a)) {
            TCommunications_Handler::SendChatMsg
                      (*(TCommunications_Handler **)
                        (*(int *)(*(int *)(param_1 + 0x3c) + 0x58) + 0x14),
                       (int)*(short *)(param_1 + 0x4a),uVar4,textOut + 4);
          }
          uVar4 = uVar4 + 1;
          iVar3 = RGE_Base_Game::numberPlayers(rge_base_game);
        } while ((int)uVar4 <= iVar3);
      }
    }
  }
  return;
}

// --------------------------------------------------

// Function: make_scenario_obj
// Address: 0046f3a0
/* public: virtual class RGE_Static_Object * __thiscall
   RGE_Player::make_scenario_obj(float,float,float,short,unsigned char,float) */

RGE_Static_Object * __thiscall
RGE_Player::make_scenario_obj
          (RGE_Player *this,float param_1,float param_2,float param_3,short param_4,uchar param_5,
          float param_6)
{
  RGE_Static_Object *pRVar1;
  
  pRVar1 = (RGE_Static_Object *)0x0;
  if (this->master_objects[param_4] != (RGE_Master_Static_Object *)0x0) {
    pRVar1 = (RGE_Static_Object *)
             (**(code **)(this->master_objects[param_4]->_padding_ + 0x18))
                       (this,param_1,param_2,param_3);
    if (6 < param_1._0_1_) {
      (**(code **)(pRVar1->_padding_ + 0x68))();
      return pRVar1;
    }
    if (2 < param_1._0_1_) {
      (**(code **)(pRVar1->_padding_ + 0x6c))();
      return pRVar1;
    }
    (**(code **)(pRVar1->_padding_ + 0xb4))(param_2);
  }
  return pRVar1;
}

// --------------------------------------------------

// Function: scenario_save
// Address: 0046f410
/* public: virtual void __thiscall RGE_Player::scenario_save(int) */

void __thiscall RGE_Player::scenario_save(RGE_Player *this,int param_1)
{
  return;
}

// --------------------------------------------------

// Function: scenario_load
// Address: 0046f420
/* WARNING: Variable defined which should be unmapped: temp_byte */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* public: virtual void __thiscall RGE_Player::scenario_load(int,long *,float) */

void __thiscall RGE_Player::scenario_load(RGE_Player *this,int param_1,long *param_2,float param_3)
{
  RGE_Victory_Conditions *this_00;
  int iVar1;
  char *pcVar2;
  int iVar3;
  int iVar4;
  short sVar5;
  uint uVar6;
  uchar temp_byte;
  short count;
  short player_count;
  int has_team;
  int local_4;
  
  iVar1 = param_1;
  if (param_3 <= (float)_DAT_00570e98) {
    rge_read(param_1,&has_team,2);
    if (0 < (short)has_team) {
      pcVar2 = (char *)calloc((int)(short)has_team,1);
      rge_read(iVar1,pcVar2,(int)(short)has_team);
      if (this->name == (char *)0x0) {
        this->name = pcVar2;
      }
      else {
        free(pcVar2);
      }
    }
    rge_read(iVar1,&this->view_x,4);
    rge_read(iVar1,&this->view_y,4);
    rge_read(iVar1,&this->map_x,2);
    rge_read(iVar1,&this->map_y,2);
    iVar4 = 0;
    local_4 = 0;
    if (rge_base_game->prog_mode != 7) {
      uVar6 = 1;
      do {
        iVar3 = RGE_Base_Game::playerID(rge_base_game,uVar6);
        if ((iVar3 == this->id) &&
           ((iVar3 = TCommunications_Handler::GetPlayerHumanity(comm,uVar6), iVar3 == 2 ||
            (iVar3 = TCommunications_Handler::GetPlayerHumanity(comm,uVar6), iVar3 == 4)))) {
          iVar3 = RGE_Base_Game::playerTeam(rge_base_game,uVar6 - 1);
          if (1 < iVar3) {
            iVar4 = 1;
            local_4 = 1;
          }
          break;
        }
        uVar6 = uVar6 + 1;
      } while ((int)uVar6 < 9);
    }
    if (((float)_DAT_00570ea0 < param_3) &&
       (rge_read(iVar1,(void *)((int)&player_count + 1),1), iVar4 == 0)) {
      this->allied_victory = player_count._1_1_;
    }
    sVar5 = 0;
    this->allied_LOS_Enable = 0;
    if (0 < this->attribute_num) {
                    /* language.dll match for 0x74: "Copperplate Gothic Light" */
      rge_read(iVar1,this->attributes,0x74);
    }
    rge_read(iVar1,(void *)((int)&has_team + 2),2);
    if (0 < has_team._2_2_) {
      do {
        rge_read(iVar1,&param_1,1);
        if (iVar4 == 0) {
          iVar4 = param_2[sVar5];
          if ((iVar4 < this->world->player_num) && (-1 < iVar4)) {
            this->relations[iVar4] = (uchar)param_1;
            iVar4 = param_2[sVar5];
            if (iVar4 == 0) {
              this->unitDiplomacy[0] = 0;
            }
            else if (sVar5 == this->id) {
              this->unitDiplomacy[iVar4] = 1;
            }
            else if ((uchar)param_1 == '\0') {
              this->unitDiplomacy[iVar4] = 2;
            }
            else if ((uchar)param_1 == '\x01') {
              this->unitDiplomacy[iVar4] = 3;
            }
            else {
              this->unitDiplomacy[iVar4] = 4;
            }
          }
        }
        sVar5 = sVar5 + 1;
        iVar4 = local_4;
      } while (sVar5 < has_team._2_2_);
    }
    if ((float)_DAT_00570ea8 < param_3) {
      rge_read(iVar1,this->unitDiplomacy,0x24);
    }
    this_00 = this->victory_conditions;
    if (this_00 != (RGE_Victory_Conditions *)0x0) {
      RGE_Victory_Conditions::~RGE_Victory_Conditions(this_00);
      operator_delete(this_00);
    }
    (**(code **)(this->_padding_ + 0xf0))(iVar1,param_2,0);
  }
  return;
}

// --------------------------------------------------

// Function: scenario_postsave
// Address: 0046f6b0
/* WARNING: Variable defined which should be unmapped: count */
/* public: virtual void __thiscall RGE_Player::scenario_postsave(int) */

void __thiscall RGE_Player::scenario_postsave(RGE_Player *this,int param_1)
{
  char cVar1;
  char *pcVar2;
  short count;
  uint local_4;
  
  local_4 = 0xffffffff;
  pcVar2 = this->name;
  do {
    if (local_4 == 0) break;
    local_4 = local_4 - 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  local_4 = ~local_4;
  rge_write(param_1,&local_4,2);
  rge_write(param_1,this->name,(int)(short)local_4);
  rge_write(param_1,&this->view_x,4);
  rge_write(param_1,&this->view_y,4);
  rge_write(param_1,&this->map_x,2);
  rge_write(param_1,&this->map_y,2);
  rge_write(param_1,&this->allied_victory,1);
  rge_write(param_1,&this->world->player_num,2);
  rge_write(param_1,this->relations,(int)this->world->player_num);
  rge_write(param_1,this->unitDiplomacy,0x24);
  (**(code **)(this->victory_conditions->_padding_ + 0xc))(param_1);
  return;
}

// --------------------------------------------------

// Function: scenario_postload
// Address: 0046f7a0
/* WARNING: Variable defined which should be unmapped: temp_byte */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* public: virtual void __thiscall RGE_Player::scenario_postload(int,long *,float) */

void __thiscall
RGE_Player::scenario_postload(RGE_Player *this,int param_1,long *param_2,float param_3)
{
  RGE_Victory_Conditions *this_00;
  float fVar1;
  int iVar2;
  long *plVar3;
  short sVar4;
  char *pcVar5;
  int iVar6;
  short sVar7;
  uint uVar8;
  uchar temp_byte;
  short count;
  short player_count;
  int has_team;
  int local_4;
  
  iVar2 = param_1;
  rge_read(param_1,&has_team,2);
  if (0 < (short)has_team) {
    pcVar5 = (char *)calloc((int)(short)has_team,1);
    rge_read(iVar2,pcVar5,(int)(short)has_team);
    if (this->name == (char *)0x0) {
      this->name = pcVar5;
    }
    else {
      free(pcVar5);
    }
  }
  rge_read(iVar2,&this->view_x,4);
  rge_read(iVar2,&this->view_y,4);
  rge_read(iVar2,&this->map_x,2);
  rge_read(iVar2,&this->map_y,2);
  local_4 = 0;
  if (rge_base_game->prog_mode != 7) {
    uVar8 = 1;
    do {
      iVar6 = RGE_Base_Game::playerID(rge_base_game,uVar8);
      if ((iVar6 == this->id) &&
         ((iVar6 = TCommunications_Handler::GetPlayerHumanity(comm,uVar8), iVar6 == 2 ||
          (iVar6 = TCommunications_Handler::GetPlayerHumanity(comm,uVar8), iVar6 == 4)))) {
        iVar6 = RGE_Base_Game::playerTeam(rge_base_game,uVar8 - 1);
        if (1 < iVar6) {
          local_4 = 1;
        }
        break;
      }
      uVar8 = uVar8 + 1;
    } while ((int)uVar8 < 9);
  }
  if (((float)_DAT_00570ea0 < param_3) &&
     (rge_read(iVar2,(void *)((int)&player_count + 1),1), local_4 == 0)) {
    this->allied_victory = player_count._1_1_;
  }
  fVar1 = (float)_DAT_00570eb0;
  this->allied_LOS_Enable = 0;
  if ((param_3 <= fVar1) && (0 < this->attribute_num)) {
                    /* language.dll match for 0x74: "Copperplate Gothic Light" */
    rge_read(iVar2,this->attributes,0x74);
  }
  rge_read(iVar2,(void *)((int)&has_team + 2),2);
  sVar7 = 0;
  if (0 < has_team._2_2_) {
    do {
      plVar3 = param_2;
      rge_read(iVar2,&param_1,1);
      if (local_4 == 0) {
        sVar4 = sVar7;
        if (plVar3 != (long *)0x0) {
          sVar4 = (short)plVar3[sVar7];
        }
        if ((sVar4 < this->world->player_num) && (-1 < sVar4)) {
          this->relations[sVar4] = (uchar)param_1;
          if (sVar4 == 0) {
            this->unitDiplomacy[0] = 0;
          }
          else if (sVar4 == this->id) {
            this->unitDiplomacy[sVar4] = 1;
          }
          else if ((uchar)param_1 == '\0') {
            this->unitDiplomacy[sVar4] = 2;
          }
          else if ((uchar)param_1 == '\x01') {
            this->unitDiplomacy[sVar4] = 3;
          }
          else {
            this->unitDiplomacy[sVar4] = 4;
          }
        }
      }
      sVar7 = sVar7 + 1;
    } while (sVar7 < has_team._2_2_);
  }
  plVar3 = param_2;
  if ((float)_DAT_00570ea8 <= param_3) {
    rge_read(iVar2,this->unitDiplomacy,0x24);
  }
  this_00 = this->victory_conditions;
  if (this_00 != (RGE_Victory_Conditions *)0x0) {
    RGE_Victory_Conditions::~RGE_Victory_Conditions(this_00);
    operator_delete(this_00);
  }
  if (param_3 < (float)_DAT_00570eb8) {
    (**(code **)(this->_padding_ + 0xf0))(iVar2,plVar3,0);
    return;
  }
  (**(code **)(this->_padding_ + 0xf0))(iVar2,plVar3,1);
  return;
}

// --------------------------------------------------

// Function: load
// Address: 0046fa60
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* public: virtual void __thiscall RGE_Player::load(int) */

void __thiscall RGE_Player::load(RGE_Player *this,int param_1)
{
  short *psVar1;
  int iVar2;
  RGE_Master_Static_Object **ppRVar3;
  RGE_Visible_Map *pRVar4;
  Visible_Resource_Manager *pVVar5;
  RGE_Object_List *pRVar6;
  short sVar7;
  undefined4 *unaff_FS_OFFSET;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  iVar2 = param_1;
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055e307;
  local_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &local_c;
  psVar1 = &this->master_object_num;
  rge_read(param_1,psVar1,2);
  sVar7 = 0;
  if (*psVar1 < 1) {
    this->master_objects = (RGE_Master_Static_Object **)0x0;
  }
  else {
    ppRVar3 = (RGE_Master_Static_Object **)calloc((int)*psVar1,4);
    this->master_objects = ppRVar3;
    rge_read(iVar2,ppRVar3,(int)*psVar1 << 2);
    if (0 < *psVar1) {
      do {
        if (this->master_objects[sVar7] != (RGE_Master_Static_Object *)0x0) {
          rge_read(iVar2,&param_1,1);
          load_master_object(this,iVar2,sVar7,(uchar)param_1,this->world->sprites,
                             this->world->sounds);
        }
        sVar7 = sVar7 + 1;
      } while (sVar7 < *psVar1);
    }
  }
  pRVar4 = (RGE_Visible_Map *)operator_new(0x38);
  local_4 = 0;
  if (pRVar4 == (RGE_Visible_Map *)0x0) {
    pRVar4 = (RGE_Visible_Map *)0x0;
  }
  else {
    pRVar4 = (RGE_Visible_Map *)RGE_Visible_Map::RGE_Visible_Map(pRVar4,iVar2,this->world);
  }
  local_4 = 0xffffffff;
  this->visible = pRVar4;
  pVVar5 = (Visible_Resource_Manager *)operator_new(0x14);
  local_4 = 1;
  if (pVVar5 == (Visible_Resource_Manager *)0x0) {
    pVVar5 = (Visible_Resource_Manager *)0x0;
  }
  else {
    pVVar5 = (Visible_Resource_Manager *)
             Visible_Resource_Manager::Visible_Resource_Manager(pVVar5,iVar2,this);
  }
  local_4 = 0xffffffff;
  this->VR_List = pVVar5;
  pRVar6 = (RGE_Object_List *)operator_new(0xc);
  local_4 = 2;
  if (pRVar6 == (RGE_Object_List *)0x0) {
    pRVar6 = (RGE_Object_List *)0x0;
  }
  else {
    pRVar6 = (RGE_Object_List *)RGE_Object_List::RGE_Object_List(pRVar6);
  }
  local_4 = 0xffffffff;
  this->objects = pRVar6;
  RGE_Object_List::load_list(pRVar6,iVar2,this->world);
  pRVar6 = (RGE_Object_List *)operator_new(0xc);
  local_4 = 3;
  if (pRVar6 == (RGE_Object_List *)0x0) {
    pRVar6 = (RGE_Object_List *)0x0;
  }
  else {
    pRVar6 = (RGE_Object_List *)RGE_Object_List::RGE_Object_List(pRVar6);
  }
  local_4 = 0xffffffff;
  this->sleeping_objects = pRVar6;
  pRVar6 = (RGE_Object_List *)operator_new(0xc);
  local_4 = 4;
  if (pRVar6 == (RGE_Object_List *)0x0) {
    pRVar6 = (RGE_Object_List *)0x0;
  }
  else {
    pRVar6 = (RGE_Object_List *)RGE_Object_List::RGE_Object_List(pRVar6);
  }
  local_4 = 0xffffffff;
  this->doppleganger_objects = pRVar6;
  RGE_Object_List::load_list(this->sleeping_objects,iVar2,this->world);
  if (_DAT_00570ec0 <= save_game_version) {
    RGE_Object_List::load_list(this->doppleganger_objects,iVar2,this->world);
  }
  *unaff_FS_OFFSET = local_c;
  return;
}

// --------------------------------------------------

// Function: load_master_object
// Address: 0046fc40
/* public: void __thiscall RGE_Player::load_master_object(int,short,unsigned char,class RGE_Sprite *
   *,class RGE_Sound * *) */

void __thiscall
RGE_Player::load_master_object
          (RGE_Player *this,int param_1,short param_2,uchar param_3,RGE_Sprite **param_4,
          RGE_Sound **param_5)
{
  RGE_Master_Animated_Object *this_00;
  RGE_Master_Moving_Object *this_01;
  RGE_Master_Missile_Object *this_02;
  RGE_Master_Static_Object *pRVar1;
  RGE_Master_Action_Object *this_03;
  RGE_Master_Combat_Object *this_04;
  RGE_Master_Doppleganger_Object *this_05;
  undefined4 *unaff_FS_OFFSET;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  local_c = *unaff_FS_OFFSET;
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055e36d;
  *unaff_FS_OFFSET = &local_c;
  switch(param_3) {
  case '\n':
    pRVar1 = (RGE_Master_Static_Object *)operator_new(0xb8);
    local_4 = 0;
    if (pRVar1 == (RGE_Master_Static_Object *)0x0) {
LAB_0046fe8a:
      pRVar1 = (RGE_Master_Static_Object *)0x0;
    }
    else {
      pRVar1 = (RGE_Master_Static_Object *)
               RGE_Master_Static_Object::RGE_Master_Static_Object(pRVar1,param_1,param_4,param_5,1);
    }
    break;
  default:
    goto switchD_0046fc75_caseD_b;
  case '\x14':
    this_00 = (RGE_Master_Animated_Object *)operator_new(0xbc);
    local_4 = 1;
    if (this_00 != (RGE_Master_Animated_Object *)0x0) {
      pRVar1 = (RGE_Master_Static_Object *)
               RGE_Master_Animated_Object::RGE_Master_Animated_Object
                         (this_00,param_1,param_4,param_5,1);
      this->master_objects[param_2] = pRVar1;
      *unaff_FS_OFFSET = local_c;
      return;
    }
    goto LAB_0046fe34;
  case '\x19':
    this_05 = (RGE_Master_Doppleganger_Object *)operator_new(0xbc);
    local_4 = 6;
    if (this_05 == (RGE_Master_Doppleganger_Object *)0x0) goto LAB_0046fe8a;
    pRVar1 = (RGE_Master_Static_Object *)
             RGE_Master_Doppleganger_Object::RGE_Master_Doppleganger_Object
                       (this_05,param_1,param_4,param_5,1);
    break;
  case '\x1e':
    this_01 = (RGE_Master_Moving_Object *)operator_new(0xd8);
    local_4 = 2;
    if (this_01 == (RGE_Master_Moving_Object *)0x0) goto LAB_0046fe8a;
    pRVar1 = (RGE_Master_Static_Object *)
             RGE_Master_Moving_Object::RGE_Master_Moving_Object(this_01,param_1,param_4,param_5,1);
    break;
  case '(':
    this_03 = (RGE_Master_Action_Object *)operator_new(0xfc);
    local_4 = 4;
    if (this_03 == (RGE_Master_Action_Object *)0x0) goto LAB_0046fe8a;
    pRVar1 = (RGE_Master_Static_Object *)
             RGE_Master_Action_Object::RGE_Master_Action_Object(this_03,param_1,param_4,param_5,1);
    break;
  case '2':
    this_04 = (RGE_Master_Combat_Object *)operator_new(0x148);
    local_4 = 5;
    if (this_04 != (RGE_Master_Combat_Object *)0x0) {
      pRVar1 = (RGE_Master_Static_Object *)
               RGE_Master_Combat_Object::RGE_Master_Combat_Object(this_04,param_1,param_4,param_5,1)
      ;
      this->master_objects[param_2] = pRVar1;
      *unaff_FS_OFFSET = local_c;
      return;
    }
    goto LAB_0046fe34;
  case '<':
    this_02 = (RGE_Master_Missile_Object *)operator_new(0x154);
    local_4 = 3;
    if (this_02 != (RGE_Master_Missile_Object *)0x0) {
      pRVar1 = (RGE_Master_Static_Object *)
               RGE_Master_Missile_Object::RGE_Master_Missile_Object
                         (this_02,param_1,param_4,param_5,1);
      this->master_objects[param_2] = pRVar1;
      *unaff_FS_OFFSET = local_c;
      return;
    }
LAB_0046fe34:
    this->master_objects[param_2] = (RGE_Master_Static_Object *)0x0;
    *unaff_FS_OFFSET = local_c;
    return;
  }
  this->master_objects[param_2] = pRVar1;
switchD_0046fc75_caseD_b:
  *unaff_FS_OFFSET = local_c;
  return;
}

// --------------------------------------------------

// Function: load_info
// Address: 0046ff00
/* public: void __thiscall RGE_Player::load_info(int) */

void __thiscall RGE_Player::load_info(RGE_Player *this,int param_1)
{
  (**(code **)(this->_padding_ + 0xf0))(param_1,0,1);
  RGE_Object_List::rehook_list(this->objects);
  RGE_Object_List::rehook_list(this->sleeping_objects);
  RGE_Object_List::rehook_list(this->doppleganger_objects);
  return;
}

// --------------------------------------------------

// Function: get_checksum
// Address: 0046ff40
/* public: long __thiscall RGE_Player::get_checksum(void) */

long __thiscall RGE_Player::get_checksum(RGE_Player *this)
{
  if (this->checksum_created_this_update == '\0') {
    create_checksum(this);
  }
  return this->checksum;
}

// --------------------------------------------------

// Function: get_checksums
// Address: 0046ff60
/* public: unsigned char __thiscall RGE_Player::get_checksums(long &,long &,long &) */

uchar __thiscall
RGE_Player::get_checksums(RGE_Player *this,long *param_1,long *param_2,long *param_3)
{
  if (this->checksum_created_this_update == '\0') {
    create_checksum(this);
  }
  *param_1 = this->checksum;
  *param_2 = this->position_checksum;
  *param_3 = this->action_checksum;
  return '\x01';
}

// --------------------------------------------------

// Function: create_checksum
// Address: 0046ff90
/* WARNING: Variable defined which should be unmapped: num3 */
/* public: long __thiscall RGE_Player::create_checksum(void) */

long __thiscall RGE_Player::create_checksum(RGE_Player *this)
{
  byte bVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  short sVar5;
  RGE_Object_Node *pRVar6;
  RGE_Static_Object *pRVar7;
  int iVar8;
  int iVar9;
  long lVar10;
  int iVar11;
  long num3;
  long num1;
  float temp_position_checksum;
  long num2;
  long num4;
  
  sVar2 = this->id;
  this->checksum_created_this_update = '\x01';
  this->action_checksum = 0;
  sVar3 = this->sleeping_objects->number_of_objects;
  iVar11 = 0;
  sVar4 = this->doppleganger_objects->number_of_objects;
  num2 = (long)this->attribute_num;
  temp_position_checksum = 0.0;
  num1 = 0;
  if (0 < num2) {
    do {
      iVar8 = __ftol();
      temp_position_checksum = (float)((int)temp_position_checksum + iVar8);
      num2 = num2 + -1;
    } while (num2 != 0);
  }
  for (pRVar6 = this->objects->list; pRVar6 != (RGE_Object_Node *)0x0; pRVar6 = pRVar6->next) {
    pRVar7 = pRVar6->node;
    bVar1 = pRVar7->object_state;
    iVar8 = __ftol();
    sVar5 = pRVar7->master_obj->id;
    iVar9 = (**(code **)(pRVar7->_padding_ + 0x1d4))();
    iVar11 = (uint)bVar1 + iVar8 + sVar5 + iVar11 + iVar9;
    num1 = num1 + 1;
    iVar8 = (**(code **)(pRVar6->node->_padding_ + 0x1d0))();
    this->action_checksum = this->action_checksum + iVar8;
  }
  iVar11 = ((((int)sVar2 + (int)sVar3 + (int)sVar4) * 0x100 + num1) * 0x100 + iVar11) * 0x100 +
           (int)temp_position_checksum;
  this->checksum = iVar11;
  lVar10 = __ftol();
  this->position_checksum = lVar10;
  return iVar11;
}

// --------------------------------------------------

// Function: new_attribute_num
// Address: 004700b0
/* public: void __thiscall RGE_Player::new_attribute_num(short,float) */

void __thiscall RGE_Player::new_attribute_num(RGE_Player *this,short param_1,float param_2)
{
  if ((-1 < param_1) && (param_1 < this->attribute_num)) {
    this->attributes[param_1] = param_2;
  }
  return;
}

// --------------------------------------------------

// Function: add_attribute_num
// Address: 004700d0
/* public: virtual void __thiscall RGE_Player::add_attribute_num(short,float,unsigned char) */

void __thiscall
RGE_Player::add_attribute_num(RGE_Player *this,short param_1,float param_2,uchar param_3)
{
  if ((-1 < param_1) && (param_1 < this->attribute_num)) {
    this->attributes[param_1] = param_2 + this->attributes[param_1];
  }
  return;
}

// --------------------------------------------------

// Function: make_available
// Address: 00470100
/* public: void __thiscall RGE_Player::make_available(short,unsigned char) */

void __thiscall RGE_Player::make_available(RGE_Player *this,short param_1,uchar param_2)
{
  if (this->master_objects[param_1] != (RGE_Master_Static_Object *)0x0) {
    RGE_Master_Static_Object::make_available(this->master_objects[param_1],param_2);
  }
  return;
}

// --------------------------------------------------

// Function: update
// Address: 00470120
/* public: virtual void __thiscall RGE_Player::update(void) */

void __thiscall RGE_Player::update(RGE_Player *this)
{
  uchar uVar1;
  
  if (MouseSystem != (TMousePointer *)0x0) {
    TMousePointer::Poll(MouseSystem);
  }
  this->currentUpdatePathingAttemptsValue = 0;
  RGE_Object_List::update(this->objects);
  update_selected(this);
  uVar1 = RGE_Victory_Conditions::update(this->victory_conditions);
  if (uVar1 == '\x01') {
    (**(code **)(this->_padding_ + 4))(2);
  }
  this->checksum_created_this_update = '\0';
  if (this->VR_List != (Visible_Resource_Manager *)0x0) {
    Visible_Resource_Manager::Process_New_Tiles(this->VR_List,&this->tile_list);
  }
  return;
}

// --------------------------------------------------

// Function: update_dopplegangers
// Address: 00470180
/* public: virtual void __thiscall RGE_Player::update_dopplegangers(void) */

void __thiscall RGE_Player::update_dopplegangers(RGE_Player *this)
{
  if (MouseSystem != (TMousePointer *)0x0) {
    TMousePointer::Poll(MouseSystem);
  }
  RGE_Object_List::update(this->doppleganger_objects);
  RGE_Doppleganger_Creator::perform_doppleganger_checks(this->doppleganger_creator);
  return;
}

// --------------------------------------------------

// Function: save
// Address: 004701b0
/* WARNING: Variable defined which should be unmapped: table */
/* public: virtual void __thiscall RGE_Player::save(int) */

void __thiscall RGE_Player::save(RGE_Player *this,int param_1)
{
  char cVar1;
  short sVar2;
  char *pcVar3;
  uchar table;
  short index;
  undefined1 local_5;
  uint local_4;
  
  color_log('2','2',3);
  rge_write(param_1,&this->type,1);
  rge_write(param_1,this->relations,(int)this->world->player_num);
  rge_write(param_1,this->unitDiplomacy,0x24);
  rge_write(param_1,&this->allied_LOS_Enable,4);
  rge_write(param_1,&this->allied_victory,1);
  local_4 = 0xffffffff;
  pcVar3 = this->name;
  do {
    if (local_4 == 0) break;
    local_4 = local_4 - 1;
    cVar1 = *pcVar3;
    pcVar3 = pcVar3 + 1;
  } while (cVar1 != '\0');
  local_4 = ~local_4;
  rge_write(param_1,&local_4,2);
  if (0 < (short)local_4) {
    rge_write(param_1,this->name,(int)(short)local_4);
  }
  rge_write(param_1,&this->attribute_num,2);
  sVar2 = this->attribute_num;
  if (0 < sVar2) {
    rge_write(param_1,this->attributes,(int)sVar2 << 2);
  }
  rge_write(param_1,&this->view_x,4);
  rge_write(param_1,&this->view_y,4);
  rge_write(param_1,&this->map_x,2);
  rge_write(param_1,&this->map_y,2);
  rge_write(param_1,&this->culture,1);
  rge_write(param_1,&this->master_player_id,1);
  rge_write(param_1,&this->game_status,1);
  rge_write(param_1,&this->resigned,1);
  if (this->color_table == (RGE_Color_Table *)0x0) {
    local_5 = 0;
  }
  else {
    local_5 = (undefined1)this->color_table->id;
  }
  rge_write(param_1,&local_5,1);
  rge_write(param_1,&this->pathingAttemptCapValue,4);
  rge_write(param_1,&this->pathingDelayCapValue,4);
  color_log('2','_',3);
  return;
}

// --------------------------------------------------

// Function: save2
// Address: 00470380
/* public: virtual void __thiscall RGE_Player::save2(int) */

void __thiscall RGE_Player::save2(RGE_Player *this,int param_1)
{
  short *psVar1;
  int iVar2;
  short sVar3;
  int iVar4;
  
  color_log('L','L',4);
  iVar2 = param_1;
  psVar1 = &this->master_object_num;
  rge_write(param_1,psVar1,2);
  if (0 < *psVar1) {
    iVar4 = 0;
    if (0 < *psVar1) {
      do {
        param_1 = (int)this->master_objects[iVar4];
        if ((RGE_Master_Static_Object *)param_1 != (RGE_Master_Static_Object *)0x0) {
          param_1 = 1;
        }
        rge_write(iVar2,&param_1,4);
        iVar4 = iVar4 + 1;
      } while (iVar4 < *psVar1);
    }
    sVar3 = 0;
    if (0 < *psVar1) {
      do {
        if (this->master_objects[sVar3] != (RGE_Master_Static_Object *)0x0) {
          (**(code **)(this->master_objects[sVar3]->_padding_ + 0x14))(iVar2);
        }
        sVar3 = sVar3 + 1;
      } while (sVar3 < *psVar1);
    }
  }
  color_log('L','$',4);
  RGE_Visible_Map::save(this->visible,iVar2);
  Visible_Resource_Manager::save(this->VR_List,iVar2);
  color_log('L','\x16',4);
  RGE_Object_List::save(this->objects,iVar2);
  color_log('L','2',4);
  RGE_Object_List::save(this->sleeping_objects,iVar2);
  color_log('L','2',4);
  RGE_Object_List::save(this->doppleganger_objects,iVar2);
  color_log('L','_',4);
  return;
}

// --------------------------------------------------

// Function: save_info
// Address: 00470490
/* public: virtual void __thiscall RGE_Player::save_info(int) */

void __thiscall RGE_Player::save_info(RGE_Player *this,int param_1)
{
  (**(code **)(this->victory_conditions->_padding_ + 0xc))(param_1);
  return;
}

// --------------------------------------------------

// Function: set_map_loc
// Address: 004704a0
/* public: void __thiscall RGE_Player::set_map_loc(short,short) */

void __thiscall RGE_Player::set_map_loc(RGE_Player *this,short param_1,short param_2)
{
  this->map_x = param_1;
  this->map_y = param_2;
  return;
}

// --------------------------------------------------

// Function: set_view_loc
// Address: 004704c0
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* public: void __thiscall RGE_Player::set_view_loc(float,float) */

void __thiscall RGE_Player::set_view_loc(RGE_Player *this,float param_1,float param_2)
{
  bool bVar1;
  float fVar2;
  
  bVar1 = _DAT_00570ec4 <= param_1;
  this->view_x = param_1;
  this->view_y = param_2;
  if (bVar1) {
    fVar2 = (float)(this->world->map->map_width + -1);
    if (fVar2 < param_1) {
      this->view_x = fVar2;
    }
  }
  else {
    this->view_x = 0.0;
  }
  if (_DAT_00570ec4 <= param_2) {
    fVar2 = (float)(this->world->map->map_height + -1);
    if (param_2 <= fVar2) {
      return;
    }
    this->view_y = fVar2;
    return;
  }
  this->view_y = 0.0;
  return;
}

// --------------------------------------------------

// Function: random_start
// Address: 00470570
/* public: virtual void __thiscall RGE_Player::random_start(void) */

void __thiscall RGE_Player::random_start(RGE_Player *this)
{
  return;
}

// --------------------------------------------------

// Function: destroy_objects
// Address: 00470580
/* public: void __thiscall RGE_Player::destroy_objects(void) */

void __thiscall RGE_Player::destroy_objects(RGE_Player *this)
{
  RGE_Object_Node *pRVar1;
  
  for (pRVar1 = this->objects->list; pRVar1 != (RGE_Object_Node *)0x0; pRVar1 = pRVar1->next) {
    (**(code **)(pRVar1->node->_padding_ + 0x68))();
  }
  return;
}

// --------------------------------------------------

// Function: set_color_table
// Address: 004705a0
/* public: void __thiscall RGE_Player::set_color_table(unsigned char) */

void __thiscall RGE_Player::set_color_table(RGE_Player *this,uchar param_1)
{
  this->color_table = this->world->color_tables[param_1];
  return;
}

// --------------------------------------------------

// Function: victory_if_game_on
// Address: 004705c0
/* public: void __thiscall RGE_Player::victory_if_game_on(void) */

void __thiscall RGE_Player::victory_if_game_on(RGE_Player *this)
{
  if (this->game_status == '\0') {
    (**(code **)(this->_padding_ + 4))(1);
  }
  return;
}

// --------------------------------------------------

// Function: loss_if_game_on
// Address: 004705e0
/* public: void __thiscall RGE_Player::loss_if_game_on(void) */

void __thiscall RGE_Player::loss_if_game_on(RGE_Player *this)
{
  if (this->game_status == '\0') {
    (**(code **)(this->_padding_ + 4))(2);
  }
  return;
}

// --------------------------------------------------

// Function: win_game_now
// Address: 00470600
/* public: void __thiscall RGE_Player::win_game_now(void) */

void __thiscall RGE_Player::win_game_now(RGE_Player *this)
{
  RGE_Player *this_00;
  uchar uVar1;
  int iVar2;
  
  victory_if_game_on(this);
  iVar2 = 1;
  if (1 < this->world->player_num) {
    do {
      if (iVar2 != this->id) {
        if (this->allied_victory != '\0') {
          uVar1 = relation(this,iVar2);
          if (uVar1 == '\0') {
            uVar1 = relation(this->world->players[iVar2],(int)this->id);
            if ((uVar1 == '\0') &&
               (this_00 = this->world->players[iVar2], this_00->allied_victory != '\0')) {
              victory_if_game_on(this_00);
              goto LAB_00470674;
            }
          }
        }
        loss_if_game_on(this->world->players[iVar2]);
      }
LAB_00470674:
      iVar2 = iVar2 + 1;
    } while (iVar2 < this->world->player_num);
  }
  return;
}

// --------------------------------------------------

// Function: check_victory_conditions
// Address: 00470690
/* public: unsigned char __thiscall RGE_Player::check_victory_conditions(void) */

uchar __thiscall RGE_Player::check_victory_conditions(RGE_Player *this)
{
  uchar uVar1;
  
  if (this->game_status != '\x02') {
    uVar1 = RGE_Victory_Conditions::victory_achieved(this->victory_conditions);
    return uVar1;
  }
  return '\x01';
}

// --------------------------------------------------

// Function: check_ally_group
// Address: 004706b0
/* public: unsigned char __thiscall RGE_Player::check_ally_group(long &) */

uchar __thiscall RGE_Player::check_ally_group(RGE_Player *this,long *param_1)
{
  int iVar1;
  uchar uVar2;
  RGE_Game_World *pRVar3;
  uchar uVar4;
  int iVar5;
  
  iVar1 = *param_1;
  uVar4 = '\x01';
  if (this->game_status != '\x02') {
    *param_1 = 0;
    pRVar3 = this->world;
    iVar5 = 1;
    if (1 < pRVar3->player_num) {
      do {
        if ((this->relations[iVar5] == '\0') &&
           ((uVar2 = relation(pRVar3->players[iVar5],(int)this->id), uVar2 != '\0' ||
            (this->world->players[iVar5]->allied_victory == '\0')))) {
          uVar4 = '\0';
          break;
        }
        iVar5 = iVar5 + 1;
        *param_1 = *param_1 + 1;
        pRVar3 = this->world;
      } while (iVar5 < pRVar3->player_num);
    }
  }
  if ((-1 < iVar1) && (*param_1 != iVar1)) {
    uVar4 = '\0';
  }
  return uVar4;
}

// --------------------------------------------------

// Function: check_victory
// Address: 00470750
/* WARNING: Variable defined which should be unmapped: count */
/* public: unsigned char __thiscall RGE_Player::check_victory(void) */

uchar __thiscall RGE_Player::check_victory(RGE_Player *this)
{
  bool bVar1;
  uchar uVar2;
  RGE_Game_World *pRVar3;
  int iVar4;
  long count;
  long local_4;
  
  local_4 = -1;
  if ((this->game_status != '\x02') &&
     (uVar2 = RGE_Victory_Conditions::victory_achieved(this->victory_conditions), uVar2 != '\0')) {
    bVar1 = false;
    if (this->allied_victory != '\0') {
      pRVar3 = this->world;
      iVar4 = 1;
      if (1 < pRVar3->player_num) {
        do {
          if (((iVar4 == this->id) || (this->relations[iVar4] == '\0')) &&
             (uVar2 = check_ally_group(pRVar3->players[iVar4],&local_4), uVar2 == '\0')) {
            bVar1 = true;
            break;
          }
          pRVar3 = this->world;
          iVar4 = iVar4 + 1;
        } while (iVar4 < pRVar3->player_num);
      }
      if (this->allied_victory != '\0') {
        if (bVar1) goto LAB_0047082c;
        pRVar3 = this->world;
        iVar4 = 1;
        if (1 < pRVar3->player_num) {
          do {
            if ((this->relations[iVar4] == '\0') &&
               (uVar2 = check_victory_conditions(pRVar3->players[iVar4]), uVar2 == '\0')) {
              bVar1 = true;
              break;
            }
            pRVar3 = this->world;
            iVar4 = iVar4 + 1;
          } while (iVar4 < pRVar3->player_num);
        }
      }
    }
    if (!bVar1) {
      (**(code **)(this->_padding_ + 4))(1);
      this->world->game_end_condition = '\x02';
    }
  }
LAB_0047082c:
  return this->game_status;
}

// --------------------------------------------------

// Function: modify_tobj
// Address: 00470840
/* public: void __thiscall RGE_Player::modify_tobj(short,short,float,unsigned char) */

void __thiscall
RGE_Player::modify_tobj(RGE_Player *this,short param_1,short param_2,float param_3,uchar param_4)
{
  RGE_Object_Node *pRVar1;
  short sVar2;
  int iVar3;
  undefined3 in_stack_00000011;
  
  if (param_1 < 0) {
    if ((-1 < param_2) && (sVar2 = 0, 0 < this->master_object_num)) {
      do {
        if ((this->master_objects[sVar2] != (RGE_Master_Static_Object *)0x0) &&
           (this->master_objects[sVar2]->object_group == param_2)) {
          if (this->objects != (RGE_Object_List *)0x0) {
            for (pRVar1 = this->objects->list; pRVar1 != (RGE_Object_Node *)0x0;
                pRVar1 = pRVar1->next) {
              if (pRVar1->node->master_obj == this->master_objects[sVar2]) {
                (**(code **)(pRVar1->node->_padding_ + 0x48))(param_3,_param_4);
              }
            }
          }
          (**(code **)(this->master_objects[sVar2]->_padding_ + 8))(param_3,_param_4);
        }
        sVar2 = sVar2 + 1;
      } while (sVar2 < this->master_object_num);
    }
  }
  else {
    iVar3 = (int)param_1;
    if (this->master_objects[iVar3] != (RGE_Master_Static_Object *)0x0) {
      if (this->objects != (RGE_Object_List *)0x0) {
        for (pRVar1 = this->objects->list; pRVar1 != (RGE_Object_Node *)0x0; pRVar1 = pRVar1->next)
{
          if (pRVar1->node->master_obj == this->master_objects[iVar3]) {
            (**(code **)(pRVar1->node->_padding_ + 0x48))(param_3,_param_4);
          }
        }
      }
      (**(code **)(this->master_objects[iVar3]->_padding_ + 8))(param_3,_param_4);
      return;
    }
  }
  return;
}

// --------------------------------------------------

// Function: modify_tobj_delta
// Address: 00470940
/* public: void __thiscall RGE_Player::modify_tobj_delta(short,short,float,unsigned char) */

void __thiscall
RGE_Player::modify_tobj_delta
          (RGE_Player *this,short param_1,short param_2,float param_3,uchar param_4)
{
  RGE_Object_Node *pRVar1;
  short sVar2;
  int iVar3;
  undefined3 in_stack_00000011;
  
  if (param_1 < 0) {
    if ((-1 < param_2) && (sVar2 = 0, 0 < this->master_object_num)) {
      do {
        if ((this->master_objects[sVar2] != (RGE_Master_Static_Object *)0x0) &&
           (this->master_objects[sVar2]->object_group == param_2)) {
          if (this->objects != (RGE_Object_List *)0x0) {
            for (pRVar1 = this->objects->list; pRVar1 != (RGE_Object_Node *)0x0;
                pRVar1 = pRVar1->next) {
              if (pRVar1->node->master_obj == this->master_objects[sVar2]) {
                (**(code **)(pRVar1->node->_padding_ + 0x4c))(param_3,_param_4);
              }
            }
          }
          (**(code **)(this->master_objects[sVar2]->_padding_ + 0xc))(param_3,_param_4);
        }
        sVar2 = sVar2 + 1;
      } while (sVar2 < this->master_object_num);
    }
  }
  else {
    iVar3 = (int)param_1;
    if (this->master_objects[iVar3] != (RGE_Master_Static_Object *)0x0) {
      if (this->objects != (RGE_Object_List *)0x0) {
        for (pRVar1 = this->objects->list; pRVar1 != (RGE_Object_Node *)0x0; pRVar1 = pRVar1->next)
{
          if (pRVar1->node->master_obj == this->master_objects[iVar3]) {
            (**(code **)(pRVar1->node->_padding_ + 0x4c))(param_3,_param_4);
          }
        }
      }
      (**(code **)(this->master_objects[iVar3]->_padding_ + 0xc))(param_3,_param_4);
      return;
    }
  }
  return;
}

// --------------------------------------------------

// Function: modify_tobj_percent
// Address: 00470a40
/* public: void __thiscall RGE_Player::modify_tobj_percent(short,short,float,unsigned char) */

void __thiscall
RGE_Player::modify_tobj_percent
          (RGE_Player *this,short param_1,short param_2,float param_3,uchar param_4)
{
  RGE_Object_Node *pRVar1;
  short sVar2;
  int iVar3;
  undefined3 in_stack_00000011;
  
  if (param_1 < 0) {
    if ((-1 < param_2) && (sVar2 = 0, 0 < this->master_object_num)) {
      do {
        if ((this->master_objects[sVar2] != (RGE_Master_Static_Object *)0x0) &&
           (this->master_objects[sVar2]->object_group == param_2)) {
          if (this->objects != (RGE_Object_List *)0x0) {
            for (pRVar1 = this->objects->list; pRVar1 != (RGE_Object_Node *)0x0;
                pRVar1 = pRVar1->next) {
              if (pRVar1->node->master_obj == this->master_objects[sVar2]) {
                (**(code **)(pRVar1->node->_padding_ + 0x50))(param_3,_param_4);
              }
            }
          }
          (**(code **)(this->master_objects[sVar2]->_padding_ + 0x10))(param_3,_param_4);
        }
        sVar2 = sVar2 + 1;
      } while (sVar2 < this->master_object_num);
    }
  }
  else {
    iVar3 = (int)param_1;
    if (this->master_objects[iVar3] != (RGE_Master_Static_Object *)0x0) {
      if (this->objects != (RGE_Object_List *)0x0) {
        for (pRVar1 = this->objects->list; pRVar1 != (RGE_Object_Node *)0x0; pRVar1 = pRVar1->next)
{
          if (pRVar1->node->master_obj == this->master_objects[iVar3]) {
            (**(code **)(pRVar1->node->_padding_ + 0x50))(param_3,_param_4);
          }
        }
      }
      (**(code **)(this->master_objects[iVar3]->_padding_ + 0x10))(param_3,_param_4);
      return;
    }
  }
  return;
}

// --------------------------------------------------

// Function: copy_obj
// Address: 00470b40
/* public: void __thiscall RGE_Player::copy_obj(short,short) */

void __thiscall RGE_Player::copy_obj(RGE_Player *this,short param_1,short param_2)
{
  RGE_Object_Node *pRVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = (int)param_1;
  if ((this->master_objects[iVar3] != (RGE_Master_Static_Object *)0x0) &&
     (iVar2 = (int)param_2, this->master_objects[iVar2] != (RGE_Master_Static_Object *)0x0)) {
    if (this->objects != (RGE_Object_List *)0x0) {
      for (pRVar1 = this->objects->list; pRVar1 != (RGE_Object_Node *)0x0; pRVar1 = pRVar1->next) {
        if (pRVar1->node->master_obj == this->master_objects[iVar3]) {
          (**(code **)(pRVar1->node->_padding_ + 0x58))(this->master_objects[iVar2]);
        }
      }
    }
    (**(code **)(this->master_objects[iVar3]->_padding_ + 4))(this->master_objects[iVar2]);
  }
  return;
}

// --------------------------------------------------

// Function: set_allied_victory
// Address: 00470bb0
/* public: void __thiscall RGE_Player::set_allied_victory(unsigned char) */

void __thiscall RGE_Player::set_allied_victory(RGE_Player *this,uchar param_1)
{
  this->allied_victory = param_1;
  return;
}

// --------------------------------------------------

// Function: get_allied_victory
// Address: 00470bc0
/* public: unsigned char __thiscall RGE_Player::get_allied_victory(void) */

uchar __thiscall RGE_Player::get_allied_victory(RGE_Player *this)
{
  return this->allied_victory;
}

// --------------------------------------------------

// Function: relation
// Address: 00470bd0
/* public: unsigned char __thiscall RGE_Player::relation(long) */

uchar __thiscall RGE_Player::relation(RGE_Player *this,long param_1)
{
  return this->relations[param_1];
}

// --------------------------------------------------

// Function: set_relation
// Address: 00470be0
/* public: void __thiscall RGE_Player::set_relation(long,unsigned char) */

void __thiscall RGE_Player::set_relation(RGE_Player *this,long param_1,uchar param_2)
{
  RGE_Object_Node *pRVar1;
  undefined3 in_stack_00000009;
  
  this->relations[param_1] = param_2;
  if (param_1 == 0) {
    this->unitDiplomacy[0] = 0;
  }
  else if (param_1 == this->id) {
    this->unitDiplomacy[param_1] = 1;
  }
  else if (param_2 == '\0') {
    this->unitDiplomacy[param_1] = 2;
  }
  else if (param_2 == '\x01') {
    this->unitDiplomacy[param_1] = 3;
  }
  else {
    this->unitDiplomacy[param_1] = 4;
  }
  for (pRVar1 = this->objects->list; pRVar1 != (RGE_Object_Node *)0x0; pRVar1 = pRVar1->next) {
    (**(code **)(pRVar1->node->_padding_ + 0x94))(param_1,_param_2);
  }
  return;
}

// --------------------------------------------------

// Function: make_new_object
// Address: 00470c70
/* public: virtual class RGE_Static_Object * __thiscall
   RGE_Player::make_new_object(long,float,float,float,int) */

RGE_Static_Object * __thiscall
RGE_Player::make_new_object
          (RGE_Player *this,long param_1,float param_2,float param_3,float param_4,int param_5)
{
  RGE_Static_Object *pRVar1;
  
  if ((-1 < param_1) && (this->master_objects[param_1] != (RGE_Master_Static_Object *)0x0)) {
    pRVar1 = (RGE_Static_Object *)
             (**(code **)(this->master_objects[param_1]->_padding_ + 0x18))
                       (this,param_2,param_3,param_4);
    return pRVar1;
  }
  return (RGE_Static_Object *)0x0;
}

// --------------------------------------------------

// Function: reset_selected
// Address: 00470cb0
// [HELPER] groups_used: "00000000"
/* public: void __thiscall RGE_Player::reset_selected(void) */

void __thiscall RGE_Player::reset_selected(RGE_Player *this)
{
  int iVar1;
  RGE_Static_Object **ppRVar2;
  uchar *puVar3;
  
  this->selected_start_col = -1;
  this->selected_start_row = -1;
  this->selected_end_col = -1;
  this->selected_end_row = -1;
  this->replacement_terrain = -1;
  this->replacement_overlay = -1;
  this->replacement_overlay_shape = -1;
  this->sel_count = 0;
  this->selected_obj = (RGE_Static_Object *)0x0;
  ppRVar2 = this->sel_list;
  for (iVar1 = 0x19; iVar1 != 0; iVar1 = iVar1 + -1) {
    *ppRVar2 = (RGE_Static_Object *)0x0;
    ppRVar2 = ppRVar2 + 1;
  }
  puVar3 = this->groups_used;
  for (iVar1 = 0x1f; iVar1 != 0; iVar1 = iVar1 + -1) {
    puVar3[0] = '\0';
    puVar3[1] = '\0';
    puVar3[2] = '\0';
    puVar3[3] = '\0';
    puVar3 = puVar3 + 4;
  }
  puVar3[0] = '\0';
  puVar3[1] = '\0';
  puVar3[2] = '\0';
  return;
}

// --------------------------------------------------

// Function: select_object
// Address: 00470d20
/* public: int __thiscall RGE_Player::select_object(class RGE_Static_Object *) */

int __thiscall RGE_Player::select_object(RGE_Player *this,RGE_Static_Object *param_1)
{
  byte bVar1;
  RGE_Object_Node *pRVar2;
  RGE_Static_Object *pRVar3;
  int iVar4;
  
  iVar4 = select_one_object(this,param_1,1);
  if (iVar4 == 0) {
    return 0;
  }
  bVar1 = param_1->selected_group;
  if (10 < bVar1) {
    pRVar2 = this->objects->list;
    while ((pRVar2 != (RGE_Object_Node *)0x0 &&
           (((pRVar3 = pRVar2->node, pRVar3 == param_1 || (pRVar3->selected_group != bVar1)) ||
            (iVar4 = select_one_object(this,pRVar3,0), iVar4 != 0))))) {
      pRVar2 = pRVar2->next;
    }
  }
  this->selected_obj = param_1;
  return 1;
}

// --------------------------------------------------

// Function: select_one_object
// Address: 00470d80
/* public: int __thiscall RGE_Player::select_one_object(class RGE_Static_Object *,int) */

int __thiscall
RGE_Player::select_one_object(RGE_Player *this,RGE_Static_Object *param_1,int param_2)
{
  short sVar1;
  RGE_Sound *this_00;
  short sVar2;
  short sVar3;
  
  sVar1 = this->sel_count;
  if (sVar1 < 0x19) {
    sVar3 = sVar1;
    if ((this->sel_list[sVar1] != (RGE_Static_Object *)0x0) && (sVar2 = 0, sVar3 = -1, 0 < sVar1)) {
      do {
        sVar3 = sVar2;
        if (this->sel_list[sVar2] == (RGE_Static_Object *)0x0) break;
        sVar2 = sVar2 + 1;
        sVar3 = -1;
      } while (sVar2 < sVar1);
    }
    if (sVar3 != -1) {
      this->sel_list[sVar3] = param_1;
      this->sel_count = this->sel_count + 1;
      this->selected_obj = param_1;
      param_1->selected = '\x01';
      if (((param_2 != 0) &&
          (this_00 = param_1->master_obj->selected_sound, this_00 != (RGE_Sound *)0x0)) &&
         ((param_1->owner == this || (param_1->owner->id == 0)))) {
        RGE_Sound::play(this_00,1);
      }
      return 1;
    }
  }
  return 0;
}

// --------------------------------------------------

// Function: unselect_object
// Address: 00470e30
/* public: void __thiscall RGE_Player::unselect_object(void) */

void __thiscall RGE_Player::unselect_object(RGE_Player *this)
{
  short sVar1;
  short sVar2;
  
  if (0 < this->sel_count) {
    sVar1 = 0;
    this->selected_obj = (RGE_Static_Object *)0x0;
    sVar2 = 0;
    do {
      if (this->sel_count <= sVar2) break;
      if (this->sel_list[sVar1] != (RGE_Static_Object *)0x0) {
        this->sel_list[sVar1]->selected = '\0';
        sVar2 = sVar2 + 1;
        this->sel_list[sVar1] = (RGE_Static_Object *)0x0;
      }
      sVar1 = sVar1 + 1;
    } while (sVar1 < 0x19);
    this->sel_count = 0;
  }
  return;
}

// --------------------------------------------------

// Function: unselect_one_object
// Address: 00470e80
/* public: void __thiscall RGE_Player::unselect_one_object(class RGE_Static_Object *) */

void __thiscall RGE_Player::unselect_one_object(RGE_Player *this,RGE_Static_Object *param_1)
{
  short sVar1;
  short sVar2;
  
  if (0 < this->sel_count) {
    sVar1 = 0;
    sVar2 = 0;
    while (sVar2 < this->sel_count) {
      if (this->sel_list[sVar1] != (RGE_Static_Object *)0x0) {
        if (this->sel_list[sVar1] == param_1) {
          unselect_one_object(this,sVar1);
          return;
        }
        sVar2 = sVar2 + 1;
      }
      sVar1 = sVar1 + 1;
      if (0x18 < sVar1) {
        return;
      }
    }
  }
  return;
}

// --------------------------------------------------

// Function: unselect_one_object
// Address: 00470ed0
/* public: void __thiscall RGE_Player::unselect_one_object(short) */

void __thiscall RGE_Player::unselect_one_object(RGE_Player *this,short param_1)
{
  RGE_Static_Object *pRVar1;
  short sVar2;
  int iVar3;
  
  iVar3 = (int)param_1;
  pRVar1 = this->sel_list[iVar3];
  if (pRVar1 != (RGE_Static_Object *)0x0) {
    pRVar1->selected = '\0';
    if (iVar3 < this->sel_count + -1) {
      this->sel_list[iVar3] = this->sel_list[this->sel_count + -1];
      this->sel_list[this->sel_count + -1] = (RGE_Static_Object *)0x0;
    }
    else {
      this->sel_list[iVar3] = (RGE_Static_Object *)0x0;
    }
    this->sel_count = this->sel_count + -1;
    if ((this->selected_obj == pRVar1) &&
       (this->selected_obj = (RGE_Static_Object *)0x0, 0 < this->sel_count)) {
      sVar2 = 0;
      while (this->sel_list[sVar2] == (RGE_Static_Object *)0x0) {
        sVar2 = sVar2 + 1;
        if (0x18 < sVar2) {
          return;
        }
      }
      this->selected_obj = this->sel_list[sVar2];
    }
  }
  return;
}

// --------------------------------------------------

// Function: group_objects
// Address: 00470f80
// [HELPER] groups_used: "00000000"
/* public: int __thiscall RGE_Player::group_objects(int) */

int __thiscall RGE_Player::group_objects(RGE_Player *this,int param_1)
{
  byte bVar1;
  RGE_Object_Node *pRVar2;
  RGE_Static_Object *pRVar3;
  int iVar4;
  short sVar5;
  short sVar6;
  uchar *puVar7;
  
  if (this->sel_count == 0) {
    return 0;
  }
  if (param_1 == -1) {
    sVar5 = 0xb;
    do {
      if (this->groups_used[sVar5] == '\0') {
        param_1._0_1_ = (byte)sVar5;
        this->groups_used[sVar5] = '\x01';
        break;
      }
      sVar5 = sVar5 + 1;
    } while (sVar5 < 0x7f);
    if (sVar5 == 0x7f) {
      puVar7 = this->groups_used + 1;
      for (iVar4 = 0x1f; iVar4 != 0; iVar4 = iVar4 + -1) {
        puVar7[0] = '\0';
        puVar7[1] = '\0';
        puVar7[2] = '\0';
        puVar7[3] = '\0';
        puVar7 = puVar7 + 4;
      }
      puVar7[0] = '\0';
      puVar7[1] = '\0';
      for (pRVar2 = this->objects->list; pRVar2 != (RGE_Object_Node *)0x0; pRVar2 = pRVar2->next) {
        bVar1 = pRVar2->node->selected_group;
        param_1 = (int)bVar1;
        if ((bVar1 != 0) && (this->groups_used[param_1] == '\0')) {
          this->groups_used[param_1] = '\x01';
        }
        param_1._0_1_ = bVar1;
      }
      sVar5 = 1;
      do {
        if (this->groups_used[sVar5] == '\0') {
          param_1._0_1_ = (byte)sVar5;
          this->groups_used[sVar5] = '\x01';
          break;
        }
        sVar5 = sVar5 + 1;
      } while (sVar5 < 0x7f);
      if (sVar5 == 0x7f) {
        return 0;
      }
    }
  }
  else {
    for (pRVar2 = this->objects->list; pRVar2 != (RGE_Object_Node *)0x0; pRVar2 = pRVar2->next) {
      if (pRVar2->node->selected_group == (byte)param_1) {
        pRVar2->node->selected_group = '\0';
      }
    }
  }
  sVar5 = 0;
  sVar6 = 0;
  do {
    if (this->sel_count <= sVar6) {
      return 1;
    }
    pRVar3 = this->sel_list[sVar5];
    if ((pRVar3 != (RGE_Static_Object *)0x0) && (pRVar3->owner == this)) {
      sVar6 = sVar6 + 1;
      pRVar3->selected_group = (byte)param_1;
    }
    sVar5 = sVar5 + 1;
  } while (sVar5 < 0x19);
  return 1;
}

// --------------------------------------------------

// Function: select_group
// Address: 004710c0
/* public: int __thiscall RGE_Player::select_group(int) */

int __thiscall RGE_Player::select_group(RGE_Player *this,int param_1)
{
  RGE_Static_Object *pRVar1;
  bool bVar2;
  int iVar3;
  RGE_Object_Node *pRVar4;
  
  bVar2 = true;
  pRVar4 = this->objects->list;
  if (pRVar4 != (RGE_Object_Node *)0x0) {
    do {
      pRVar1 = pRVar4->node;
      if (pRVar1->selected_group == (uchar)param_1) {
        if (bVar2) {
          iVar3 = select_one_object(this,pRVar1,1);
          if (iVar3 == 0) break;
          bVar2 = false;
        }
        else {
          iVar3 = select_one_object(this,pRVar1,0);
          if (iVar3 == 0) break;
        }
      }
      pRVar4 = pRVar4->next;
    } while (pRVar4 != (RGE_Object_Node *)0x0);
  }
  return (uint)!bVar2;
}

// --------------------------------------------------

// Function: own_selected
// Address: 00471120
/* public: int __thiscall RGE_Player::own_selected(void) */

int __thiscall RGE_Player::own_selected(RGE_Player *this)
{
  short sVar1;
  short sVar2;
  
  sVar1 = 0;
  sVar2 = 0;
  do {
    if (this->sel_count <= sVar2) {
      return 0;
    }
    if (this->sel_list[sVar1] != (RGE_Static_Object *)0x0) {
      sVar2 = sVar2 + 1;
      if (this->sel_list[sVar1]->owner == this) {
        return 1;
      }
    }
    sVar1 = sVar1 + 1;
  } while (sVar1 < 0x19);
  return 0;
}

// --------------------------------------------------

// Function: is_category_selected
// Address: 00471170
/* public: int __thiscall RGE_Player::is_category_selected(short) */

int __thiscall RGE_Player::is_category_selected(RGE_Player *this,short param_1)
{
  short sVar1;
  short sVar2;
  
  sVar1 = 0;
  sVar2 = 0;
  do {
    if (this->sel_count <= sVar2) {
      return 0;
    }
    if (this->sel_list[sVar1] != (RGE_Static_Object *)0x0) {
      sVar2 = sVar2 + 1;
      if (this->sel_list[sVar1]->master_obj->id == param_1) {
        return 1;
      }
    }
    sVar1 = sVar1 + 1;
  } while (sVar1 < 0x19);
  return 0;
}

// --------------------------------------------------

// Function: is_group_selected
// Address: 004711d0
/* public: int __thiscall RGE_Player::is_group_selected(short) */

int __thiscall RGE_Player::is_group_selected(RGE_Player *this,short param_1)
{
  short sVar1;
  short sVar2;
  
  sVar1 = 0;
  sVar2 = 0;
  do {
    if (this->sel_count <= sVar2) {
      return 0;
    }
    if (this->sel_list[sVar1] != (RGE_Static_Object *)0x0) {
      sVar2 = sVar2 + 1;
      if (this->sel_list[sVar1]->master_obj->object_group == param_1) {
        return 1;
      }
    }
    sVar1 = sVar1 + 1;
  } while (sVar1 < 0x19);
  return 0;
}

// --------------------------------------------------

// Function: unit_level_selected
// Address: 00471230
/* public: unsigned char __thiscall RGE_Player::unit_level_selected(void) */

uchar __thiscall RGE_Player::unit_level_selected(RGE_Player *this)
{
  RGE_Static_Object *pRVar1;
  uchar uVar2;
  short sVar3;
  short sVar4;
  
  uVar2 = '\0';
  sVar3 = 0;
  sVar4 = 0;
  do {
    if (this->sel_count <= sVar4) {
      return uVar2;
    }
    pRVar1 = this->sel_list[sVar3];
    if (pRVar1 != (RGE_Static_Object *)0x0) {
      if ((sVar4 != 0) && (pRVar1->master_obj->unit_level != uVar2)) {
        return '\0';
      }
      sVar4 = sVar4 + 1;
      uVar2 = pRVar1->master_obj->unit_level;
    }
    sVar3 = sVar3 + 1;
    if (0x18 < sVar3) {
      return uVar2;
    }
  } while( true );
}

// --------------------------------------------------

// Function: get_select_level
// Address: 00471290
/* WARNING: Variable defined which should be unmapped: select_level */
/* public: unsigned char __thiscall RGE_Player::get_select_level(void) */

uchar __thiscall RGE_Player::get_select_level(RGE_Player *this)
{
  byte bVar1;
  short sVar2;
  byte bVar3;
  short sVar4;
  uchar select_level;
  
  bVar3 = 0xff;
  sVar2 = 0;
  sVar4 = 0;
  do {
    if (this->sel_count <= sVar4) break;
    if (this->sel_list[sVar2] != (RGE_Static_Object *)0x0) {
      bVar1 = this->sel_list[sVar2]->master_obj->select_level;
      if (bVar1 < bVar3) {
        bVar3 = bVar1;
      }
      sVar4 = sVar4 + 1;
    }
    sVar2 = sVar2 + 1;
  } while (sVar2 < 0x19);
  return (bVar3 == 0xff) - 1U & bVar3;
}

// --------------------------------------------------

// Function: get_selected_objects_to_command
// Address: 004712f0
/* WARNING: Variable defined which should be unmapped: j */
/* public: unsigned char __thiscall RGE_Player::get_selected_objects_to_command(class
   RGE_Static_Object * * *,short *,short,short,short,short) */

uchar __thiscall
RGE_Player::get_selected_objects_to_command
          (RGE_Player *this,RGE_Static_Object ***param_1,short *param_2,short param_3,short param_4,
          short param_5,short param_6)
{
  RGE_Static_Object *pRVar1;
  RGE_Master_Static_Object *pRVar2;
  RGE_Static_Object **ppRVar3;
  int iVar4;
  short sVar5;
  int iVar6;
  RGE_Static_Object **ppRVar7;
  long j;
  RGE_Static_Object **list;
  
  iVar6 = 0;
  *param_1 = (RGE_Static_Object **)0x0;
  sVar5 = 0;
  *param_2 = 0;
  if (this->sel_count == 0) {
    return '\0';
  }
  ppRVar3 = (RGE_Static_Object **)calloc(4,(int)this->sel_count);
  if (param_3 == -1) {
    param_3 = 4;
  }
  list = (RGE_Static_Object **)0x0;
  ppRVar7 = this->sel_list;
  do {
    if ((int)this->sel_count <= (int)list) break;
    pRVar1 = *ppRVar7;
    if (pRVar1 != (RGE_Static_Object *)0x0) {
      if ((((pRVar1->object_state == '\x02') && (pRVar1->owner == this)) &&
          ((pRVar2 = pRVar1->master_obj, param_3 <= (short)(ushort)pRVar2->select_level ||
           (this->id == 0)))) &&
         ((((param_4 == -1 || (pRVar2->object_group == (param_4 & 0xffU))) &&
           ((param_5 == -1 || (pRVar2->id == (param_5 & 0xffU))))) &&
          ((((param_6 == -1 || (pRVar2->unit_level == (uchar)param_6)) &&
            (0x27 < pRVar2->master_type)) && (pRVar2->master_type != 0x5a)))))) {
        iVar4 = (int)sVar5;
        sVar5 = sVar5 + 1;
        ppRVar3[iVar4] = pRVar1;
      }
      list = (RGE_Static_Object **)((int)list + 1);
    }
    iVar6 = iVar6 + 1;
    ppRVar7 = ppRVar7 + 1;
  } while (iVar6 < 0x19);
  if (sVar5 == 0) {
    free(ppRVar3);
    return '\0';
  }
  *param_1 = ppRVar3;
  *param_2 = sVar5;
  return '\x01';
}

// --------------------------------------------------

// Function: update_selected
// Address: 00471430
/* public: void __thiscall RGE_Player::update_selected(void) */

void __thiscall RGE_Player::update_selected(RGE_Player *this)
{
  RGE_Static_Object *pRVar1;
  short sVar2;
  short sVar3;
  
  sVar3 = 0;
  sVar2 = 0;
  do {
    if (this->sel_count <= sVar2) {
      return;
    }
    pRVar1 = this->sel_list[sVar3];
    if (pRVar1 != (RGE_Static_Object *)0x0) {
      if ((pRVar1->object_state < 7) && (pRVar1->inside_obj == (RGE_Static_Object *)0x0)) {
        sVar2 = sVar2 + 1;
      }
      else {
        unselect_one_object(this,sVar3);
      }
    }
    sVar3 = sVar3 + 1;
  } while (sVar3 < 0x19);
  return;
}

// --------------------------------------------------

// Function: select_area
// Address: 00471480
/* public: void __thiscall RGE_Player::select_area(short,short,short,short) */

void __thiscall
RGE_Player::select_area(RGE_Player *this,short param_1,short param_2,short param_3,short param_4)
{
  this->selected_start_col = param_1;
  this->selected_start_row = param_2;
  this->selected_end_col = param_3;
  this->selected_end_row = param_4;
  return;
}

// --------------------------------------------------

// Function: unselect_area
// Address: 004714c0
/* public: void __thiscall RGE_Player::unselect_area(void) */

void __thiscall RGE_Player::unselect_area(RGE_Player *this)
{
  this->selected_start_col = -1;
  this->selected_start_row = -1;
  this->selected_end_col = -1;
  this->selected_end_row = -1;
  return;
}

// --------------------------------------------------

// Function: ungroup_objects
// Address: 004714e0
/* public: void __thiscall RGE_Player::ungroup_objects(void) */

void __thiscall RGE_Player::ungroup_objects(RGE_Player *this)
{
  RGE_Static_Object **ppRVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = 0;
  iVar3 = 0;
  ppRVar1 = this->sel_list;
  do {
    if (this->sel_count <= iVar3) {
      return;
    }
    if (*ppRVar1 != (RGE_Static_Object *)0x0) {
      iVar3 = iVar3 + 1;
      (*ppRVar1)->selected_group = '\0';
    }
    iVar2 = iVar2 + 1;
    ppRVar1 = ppRVar1 + 1;
  } while (iVar2 < 0x19);
  return;
}

// --------------------------------------------------

// Function: analyize_selected_objects
// Address: 00471520
/* public: virtual void __thiscall RGE_Player::analyize_selected_objects(void) */

void __thiscall RGE_Player::analyize_selected_objects(RGE_Player *this)
{
  return;
}

// --------------------------------------------------

// Function: get_mouse_pointer_action_vars
// Address: 00471530
/* public: virtual int __thiscall RGE_Player::get_mouse_pointer_action_vars(int,int &,int &) */

int __thiscall
RGE_Player::get_mouse_pointer_action_vars(RGE_Player *this,int param_1,int *param_2,int *param_3)
{
  *param_2 = 0;
  *param_3 = 0;
  return 0;
}

// --------------------------------------------------

// Function: command_make_move
// Address: 00471550
/* WARNING: Variable defined which should be unmapped: list */
/* public: virtual unsigned char __thiscall RGE_Player::command_make_move(class RGE_Static_Object
   *,float,float) */

uchar __thiscall
RGE_Player::command_make_move
          (RGE_Player *this,RGE_Static_Object *param_1,float param_2,float param_3)
{
  uchar uVar1;
  RGE_Static_Object **list;
  short list_num;
  short local_4 [2];
  
  uVar1 = get_selected_objects_to_command(this,(RGE_Static_Object ***)&list_num,local_4,-1,-1,-1,-1)
  ;
  if (uVar1 != '\0') {
    (**(code **)((*_list_num)->_padding_ + 0xb0))();
    RGE_Command::command_move(this->world->commands,_list_num,local_4[0],param_1,param_2,param_3);
    free(_list_num);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_make_work
// Address: 004715d0
/* WARNING: Variable defined which should be unmapped: list */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* public: virtual unsigned char __thiscall RGE_Player::command_make_work(class RGE_Static_Object
   *,float,float) */

uchar __thiscall
RGE_Player::command_make_work
          (RGE_Player *this,RGE_Static_Object *param_1,float param_2,float param_3)
{
  code *pcVar1;
  uchar uVar2;
  int *piVar3;
  RGE_Static_Object **unaff_EBP;
  undefined4 unaff_ESI;
  int iVar4;
  RGE_Static_Object **list;
  short list_num;
  short local_4 [2];
  
  uVar2 = get_selected_objects_to_command(this,(RGE_Static_Object ***)&list_num,local_4,-1,-1,-1,-1)
  ;
  if (uVar2 != '\0') {
    piVar3 = (int *)(**(code **)((*_list_num)->_padding_ + 0xbc))(param_1,param_2,param_3,0);
    if (piVar3 != (int *)0x0) {
      (**(code **)(*piVar3 + 0x2c))();
    }
    RGE_Command::command_work
              (this->world->commands,unaff_EBP,(short)unaff_ESI,param_1,param_2,param_3);
    if ((param_1 != (RGE_Static_Object *)0x0) && (iVar4 = 0, 0 < (short)unaff_ESI)) {
      pcVar1 = *(code **)(this->_padding_ + 0x30);
      do {
        (*pcVar1)((int)this->id,unaff_EBP[iVar4]->id,0x2bd,param_1->id,(int)param_1->owner->id,
                  param_1->world_x,param_1->world_y,0x3f800000,
                  param_1->master_obj->los * _DAT_00570ec8,0,0,100);
        iVar4 = iVar4 + 1;
      } while (iVar4 < (short)unaff_ESI);
    }
    free(unaff_EBP);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_make_do
// Address: 004716d0
/* WARNING: Variable defined which should be unmapped: list */
/* public: virtual unsigned char __thiscall RGE_Player::command_make_do(class RGE_Static_Object
   *,float,float) */

uchar __thiscall
RGE_Player::command_make_do(RGE_Player *this,RGE_Static_Object *param_1,float param_2,float param_3)
{
  uchar uVar1;
  int *piVar2;
  RGE_Static_Object **unaff_EBX;
  short unaff_SI;
  RGE_Static_Object **list;
  short list_num;
  short local_4 [2];
  
  uVar1 = get_selected_objects_to_command(this,(RGE_Static_Object ***)&list_num,local_4,-1,-1,-1,-1)
  ;
  if (uVar1 != '\0') {
    piVar2 = (int *)(**(code **)((*_list_num)->_padding_ + 0xbc))(param_1,param_2,param_3,0);
    if (piVar2 != (int *)0x0) {
      (**(code **)(*piVar2 + 0x2c))();
    }
    RGE_Command::command_order(this->world->commands,unaff_EBX,unaff_SI,param_1,param_2,param_3);
    free(unaff_EBX);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_stop
// Address: 00471760
/* WARNING: Variable defined which should be unmapped: list */
/* public: virtual unsigned char __thiscall RGE_Player::command_stop(void) */

uchar __thiscall RGE_Player::command_stop(RGE_Player *this)
{
  uchar uVar1;
  RGE_Static_Object **list;
  short list_num;
  short local_4 [2];
  
  uVar1 = get_selected_objects_to_command(this,(RGE_Static_Object ***)&list_num,local_4,3,-1,-1,-1);
  if (uVar1 != '\0') {
    (**(code **)((*_list_num)->_padding_ + 0xac))();
    RGE_Command::command_stop(this->world->commands,_list_num,local_4[0]);
    free(_list_num);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_place_object
// Address: 004717d0
/* public: virtual unsigned char __thiscall
   RGE_Player::command_place_object(short,float,float,float) */

uchar __thiscall
RGE_Player::command_place_object
          (RGE_Player *this,short param_1,float param_2,float param_3,float param_4)
{
  if ((param_1 != -1) && (this->master_objects[param_1] != (RGE_Master_Static_Object *)0x0)) {
    RGE_Command::command_create(this->world->commands,param_1,this->id,param_2,param_3,param_4);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_add_attribute
// Address: 00471820
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* public: virtual unsigned char __thiscall RGE_Player::command_add_attribute(int,float) */

uchar __thiscall RGE_Player::command_add_attribute(RGE_Player *this,int param_1,float param_2)
{
  if ((param_1 != -1) && (param_2 != _DAT_00570ec4)) {
    RGE_Command::command_add_attribute(this->world->commands,(int)this->id,param_1,param_2);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_give_attribute
// Address: 00471860
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* public: virtual unsigned char __thiscall RGE_Player::command_give_attribute(int,int,float) */

uchar __thiscall
RGE_Player::command_give_attribute(RGE_Player *this,int param_1,int param_2,float param_3)
{
  if (((param_2 != -1) && (param_3 != _DAT_00570ec4)) && (param_3 <= this->attributes[param_2])) {
    (**(code **)(this->world->commands->_padding_ + 0xc))((int)this->id,param_1,param_2,param_3);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_formation
// Address: 004718c0
/* WARNING: Variable defined which should be unmapped: list */
/* public: virtual unsigned char __thiscall RGE_Player::command_formation(int) */

uchar __thiscall RGE_Player::command_formation(RGE_Player *this,int param_1)
{
  int iVar1;
  uchar uVar2;
  RGE_Static_Object **list;
  RGE_Player *local_4;
  
  iVar1 = param_1;
  if ((-1 < param_1) && (param_1 < 6)) {
    local_4 = this;
    uVar2 = get_selected_objects_to_command
                      (this,(RGE_Static_Object ***)&local_4,(short *)&param_1,-1,-1,-1,-1);
    if (uVar2 != '\0') {
      (**(code **)(*(int *)local_4->_padding_ + 0xac))();
      RGE_Command::command_formation
                (this->world->commands,(RGE_Static_Object **)local_4,(int)(short)param_1,iVar1);
      free(local_4);
      return '\x01';
    }
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_stand_ground
// Address: 00471940
/* WARNING: Variable defined which should be unmapped: list */
/* public: virtual unsigned char __thiscall RGE_Player::command_stand_ground(void) */

uchar __thiscall RGE_Player::command_stand_ground(RGE_Player *this)
{
  uchar uVar1;
  RGE_Static_Object **list;
  short listNum;
  short local_4 [2];
  
  uVar1 = get_selected_objects_to_command(this,(RGE_Static_Object ***)&listNum,local_4,-1,-1,-1,-1);
  if (uVar1 != '\0') {
    (**(code **)((*_listNum)->_padding_ + 0xac))();
    RGE_Command::command_group_ai_order
              (this->world->commands,(int)this->id,(int)this->id,_listNum,local_4[0],0x2d5,-1,-1,
               -1.0,-1.0,-1.0,1.0,'\x01','\0','d');
    free(_listNum);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_create_group
// Address: 004719d0
/* public: virtual unsigned char __thiscall RGE_Player::command_create_group(int,int *,int,float) */

uchar __thiscall
RGE_Player::command_create_group
          (RGE_Player *this,int param_1,int *param_2,int param_3,float param_4)
{
  RGE_Command::command_create_group
            (this->world->commands,(int)this->id,param_1,param_2,param_3,param_4);
  return '\x01';
}

// --------------------------------------------------

// Function: command_add_to_group
// Address: 00471a00
/* public: virtual unsigned char __thiscall RGE_Player::command_add_to_group(int,int,float) */

uchar __thiscall
RGE_Player::command_add_to_group(RGE_Player *this,int param_1,int param_2,float param_3)
{
  RGE_Command::command_add_to_group(this->world->commands,(int)this->id,param_1,param_2,param_3);
  return '\x01';
}

// --------------------------------------------------

// Function: command_remove_from_group
// Address: 00471a30
/* public: virtual unsigned char __thiscall RGE_Player::command_remove_from_group(int,int) */

uchar __thiscall RGE_Player::command_remove_from_group(RGE_Player *this,int param_1,int param_2)
{
  RGE_Command::command_remove_from_group(this->world->commands,(int)this->id,param_1,param_2);
  return '\x01';
}

// --------------------------------------------------

// Function: command_destroy_group
// Address: 00471a50
/* public: virtual unsigned char __thiscall RGE_Player::command_destroy_group(int) */

uchar __thiscall RGE_Player::command_destroy_group(RGE_Player *this,int param_1)
{
  RGE_Command::command_destroy_group(this->world->commands,(int)this->id,param_1);
  return '\x01';
}

// --------------------------------------------------

// Function: command_resign
// Address: 00471a70
/* public: virtual unsigned char __thiscall RGE_Player::command_resign(int,int) */

uchar __thiscall RGE_Player::command_resign(RGE_Player *this,int param_1,int param_2)
{
  if (this->game_status == '\0') {
    RGE_Command::command_resign(this->world->commands,(int)this->id,param_1,param_2);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: command_add_waypoint
// Address: 00471aa0
/* WARNING: Variable defined which should be unmapped: list */
/* public: virtual unsigned char __thiscall RGE_Player::command_add_waypoint(float,float,float) */

uchar __thiscall
RGE_Player::command_add_waypoint(RGE_Player *this,float param_1,float param_2,float param_3)
{
  uchar uVar1;
  uchar uVar2;
  RGE_Static_Object **list;
  short list_num;
  short local_4 [2];
  
  uVar1 = get_selected_objects_to_command(this,(RGE_Static_Object ***)&list_num,local_4,-1,-1,-1,-1)
  ;
  if (uVar1 != '\0') {
    (**(code **)((*_list_num)->_padding_ + 0xac))();
    uVar1 = __ftol();
    uVar2 = __ftol();
    RGE_Command::command_group_waypoint(this->world->commands,_list_num,local_4[0],uVar2,uVar1);
    free(_list_num);
    return '\x01';
  }
  return '\0';
}

// --------------------------------------------------

// Function: addObject
// Address: 00471b20
/* public: virtual struct RGE_Object_Node * __thiscall RGE_Player::addObject(class RGE_Static_Object
   *,int,int) */

RGE_Object_Node * __thiscall
RGE_Player::addObject(RGE_Player *this,RGE_Static_Object *param_1,int param_2,int param_3)
{
  RGE_Object_Node *pRVar1;
  RGE_Object_List *this_00;
  
  if (param_2 == 0) {
    if (param_3 == 0) {
      this_00 = this->objects;
    }
    else {
      this_00 = this->doppleganger_objects;
    }
  }
  else {
    this_00 = this->sleeping_objects;
  }
  pRVar1 = RGE_Object_List::add_node(this_00,param_1);
  (**(code **)(this->world->_padding_ + 0xf8))(param_1);
  return pRVar1;
}

// --------------------------------------------------

// Function: removeObject
// Address: 00471b70
/* public: virtual void __thiscall RGE_Player::removeObject(class RGE_Static_Object *,int,int,struct
   RGE_Object_Node *) */

void __thiscall
RGE_Player::removeObject
          (RGE_Player *this,RGE_Static_Object *param_1,int param_2,int param_3,
          RGE_Object_Node *param_4)
{
  RGE_Object_List *this_00;
  
  if (param_2 == 0) {
    if (param_3 == 0) {
      this_00 = this->objects;
    }
    else {
      this_00 = this->doppleganger_objects;
    }
  }
  else {
    this_00 = this->sleeping_objects;
  }
  RGE_Object_List::remove_node(this_00,param_1,param_4);
  (**(code **)(this->world->_padding_ + 0xfc))(param_1->id);
  return;
}

// --------------------------------------------------

// Function: logMessage
// Address: 00471bd0
/* public: virtual void __cdecl RGE_Player::logMessage(char *,...) */

void __thiscall RGE_Player::logMessage(RGE_Player *this,char *param_1,...)
{
  return;
}

// --------------------------------------------------

// Function: notify
// Address: 00471be0
/* public: virtual void __thiscall RGE_Player::notify(int,int,int,long,long,long) */

void __thiscall
RGE_Player::notify(RGE_Player *this,int param_1,int param_2,int param_3,long param_4,long param_5,
                  long param_6)
{
  return;
}

// --------------------------------------------------

// Function: set_map_visible
// Address: 00471bf0
/* public: void __thiscall RGE_Player::set_map_visible(void) */

void __thiscall RGE_Player::set_map_visible(RGE_Player *this)
{
  RGE_Visible_Map::set_all(this->visible,'\x01');
  return;
}

// --------------------------------------------------

// Function: remake_visible_map
// Address: 00471c00
/* public: void __thiscall RGE_Player::remake_visible_map(void) */

void __thiscall RGE_Player::remake_visible_map(RGE_Player *this)
{
  RGE_Visible_Map *pRVar1;
  undefined4 *unaff_FS_OFFSET;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055e38b;
  local_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &local_c;
  pRVar1 = this->visible;
  if (pRVar1 != (RGE_Visible_Map *)0x0) {
    RGE_Visible_Map::~RGE_Visible_Map(pRVar1);
    operator_delete(pRVar1);
  }
  pRVar1 = (RGE_Visible_Map *)operator_new(0x38);
  local_4 = 0;
  if (pRVar1 != (RGE_Visible_Map *)0x0) {
    pRVar1 = (RGE_Visible_Map *)RGE_Visible_Map::RGE_Visible_Map(pRVar1,this->world->map,this);
    this->visible = pRVar1;
    *unaff_FS_OFFSET = local_c;
    return;
  }
  this->visible = (RGE_Visible_Map *)0x0;
  *unaff_FS_OFFSET = local_c;
  return;
}

// --------------------------------------------------

// Function: load_victory
// Address: 00471c90
/* public: virtual void __thiscall RGE_Player::load_victory(int,long *,unsigned char) */

void __thiscall RGE_Player::load_victory(RGE_Player *this,int param_1,long *param_2,uchar param_3)
{
  RGE_Victory_Conditions *pRVar1;
  undefined4 *unaff_FS_OFFSET;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055e3ab;
  local_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &local_c;
  pRVar1 = (RGE_Victory_Conditions *)operator_new(0x20);
  local_4 = 0;
  if (pRVar1 == (RGE_Victory_Conditions *)0x0) {
    pRVar1 = (RGE_Victory_Conditions *)0x0;
  }
  else {
    pRVar1 = (RGE_Victory_Conditions *)
             RGE_Victory_Conditions::RGE_Victory_Conditions(pRVar1,this,param_1,param_2,param_3);
  }
  this->victory_conditions = pRVar1;
  *unaff_FS_OFFSET = local_c;
  return;
}

// --------------------------------------------------

// Function: new_victory
// Address: 00471d00
/* public: virtual void __thiscall RGE_Player::new_victory(void) */

void __thiscall RGE_Player::new_victory(RGE_Player *this)
{
  RGE_Victory_Conditions *pRVar1;
  undefined4 *unaff_FS_OFFSET;
  undefined4 local_c;
  code *pcStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  pcStack_8 = FUN_0055e3cb;
  local_c = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = &local_c;
  pRVar1 = (RGE_Victory_Conditions *)operator_new(0x20);
  local_4 = 0;
  if (pRVar1 != (RGE_Victory_Conditions *)0x0) {
    pRVar1 = (RGE_Victory_Conditions *)RGE_Victory_Conditions::RGE_Victory_Conditions(pRVar1,this);
    this->victory_conditions = pRVar1;
    *unaff_FS_OFFSET = local_c;
    return;
  }
  this->victory_conditions = (RGE_Victory_Conditions *)0x0;
  *unaff_FS_OFFSET = local_c;
  return;
}

// --------------------------------------------------

// Function: update_dopplegangers
// Address: 0051261d
void __thiscall RGE_Player::update_dopplegangers(RGE_Player *this)
{
  if (MouseSystem != (TMousePointer *)0x0) {
    TMousePointer::Poll(MouseSystem);
  }
  RGE_Object_List::update(this->doppleganger_objects);
  RGE_Doppleganger_Creator::perform_doppleganger_checks(this->doppleganger_creator);
  return;
}

// --------------------------------------------------

